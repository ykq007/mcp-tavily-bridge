var mm=Object.defineProperty;var gm=(s,n,a)=>n in s?mm(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var Ud=(s,n,a)=>gm(s,typeof n!="symbol"?n+"":n,a);function vm(s,n){for(var a=0;a<n.length;a++){const o=n[a];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in s)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(s,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function ru(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Eo={exports:{}},Bs={},To={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd;function ym(){if(Kd)return we;Kd=1;var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=k&&E[k]||E["@@iterator"],typeof E=="function"?E:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function N(E,F,he){this.props=E,this.context=F,this.refs=O,this.updater=he||j}N.prototype.isReactComponent={},N.prototype.setState=function(E,F){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,F,"setState")},N.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function L(){}L.prototype=N.prototype;function _(E,F,he){this.props=E,this.context=F,this.refs=O,this.updater=he||j}var U=_.prototype=new L;U.constructor=_,T(U,N.prototype),U.isPureReactComponent=!0;var D=Array.isArray,z=Object.prototype.hasOwnProperty,B={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function q(E,F,he){var oe,ve={},ce=null,Se=null;if(F!=null)for(oe in F.ref!==void 0&&(Se=F.ref),F.key!==void 0&&(ce=""+F.key),F)z.call(F,oe)&&!K.hasOwnProperty(oe)&&(ve[oe]=F[oe]);var je=arguments.length-2;if(je===1)ve.children=he;else if(1<je){for(var Ne=Array(je),ze=0;ze<je;ze++)Ne[ze]=arguments[ze+2];ve.children=Ne}if(E&&E.defaultProps)for(oe in je=E.defaultProps,je)ve[oe]===void 0&&(ve[oe]=je[oe]);return{$$typeof:s,type:E,key:ce,ref:Se,props:ve,_owner:B.current}}function ae(E,F){return{$$typeof:s,type:E.type,key:F,ref:E.ref,props:E.props,_owner:E._owner}}function ie(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function de(E){var F={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(he){return F[he]})}var fe=/\/+/g;function H(E,F){return typeof E=="object"&&E!==null&&E.key!=null?de(""+E.key):F.toString(36)}function ee(E,F,he,oe,ve){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var Se=!1;if(E===null)Se=!0;else switch(ce){case"string":case"number":Se=!0;break;case"object":switch(E.$$typeof){case s:case n:Se=!0}}if(Se)return Se=E,ve=ve(Se),E=oe===""?"."+H(Se,0):oe,D(ve)?(he="",E!=null&&(he=E.replace(fe,"$&/")+"/"),ee(ve,F,he,"",function(ze){return ze})):ve!=null&&(ie(ve)&&(ve=ae(ve,he+(!ve.key||Se&&Se.key===ve.key?"":(""+ve.key).replace(fe,"$&/")+"/")+E)),F.push(ve)),1;if(Se=0,oe=oe===""?".":oe+":",D(E))for(var je=0;je<E.length;je++){ce=E[je];var Ne=oe+H(ce,je);Se+=ee(ce,F,he,Ne,ve)}else if(Ne=S(E),typeof Ne=="function")for(E=Ne.call(E),je=0;!(ce=E.next()).done;)ce=ce.value,Ne=oe+H(ce,je++),Se+=ee(ce,F,he,Ne,ve);else if(ce==="object")throw F=String(E),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Se}function V(E,F,he){if(E==null)return E;var oe=[],ve=0;return ee(E,oe,"","",function(ce){return F.call(he,ce,ve++)}),oe}function P(E){if(E._status===-1){var F=E._result;F=F(),F.then(function(he){(E._status===0||E._status===-1)&&(E._status=1,E._result=he)},function(he){(E._status===0||E._status===-1)&&(E._status=2,E._result=he)}),E._status===-1&&(E._status=0,E._result=F)}if(E._status===1)return E._result.default;throw E._result}var Z={current:null},$={transition:null},X={ReactCurrentDispatcher:Z,ReactCurrentBatchConfig:$,ReactCurrentOwner:B};function Y(){throw Error("act(...) is not supported in production builds of React.")}return we.Children={map:V,forEach:function(E,F,he){V(E,function(){F.apply(this,arguments)},he)},count:function(E){var F=0;return V(E,function(){F++}),F},toArray:function(E){return V(E,function(F){return F})||[]},only:function(E){if(!ie(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},we.Component=N,we.Fragment=a,we.Profiler=u,we.PureComponent=_,we.StrictMode=o,we.Suspense=p,we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,we.act=Y,we.cloneElement=function(E,F,he){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=T({},E.props),ve=E.key,ce=E.ref,Se=E._owner;if(F!=null){if(F.ref!==void 0&&(ce=F.ref,Se=B.current),F.key!==void 0&&(ve=""+F.key),E.type&&E.type.defaultProps)var je=E.type.defaultProps;for(Ne in F)z.call(F,Ne)&&!K.hasOwnProperty(Ne)&&(oe[Ne]=F[Ne]===void 0&&je!==void 0?je[Ne]:F[Ne])}var Ne=arguments.length-2;if(Ne===1)oe.children=he;else if(1<Ne){je=Array(Ne);for(var ze=0;ze<Ne;ze++)je[ze]=arguments[ze+2];oe.children=je}return{$$typeof:s,type:E.type,key:ve,ref:ce,props:oe,_owner:Se}},we.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:d,_context:E},E.Consumer=E},we.createElement=q,we.createFactory=function(E){var F=q.bind(null,E);return F.type=E,F},we.createRef=function(){return{current:null}},we.forwardRef=function(E){return{$$typeof:m,render:E}},we.isValidElement=ie,we.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:P}},we.memo=function(E,F){return{$$typeof:v,type:E,compare:F===void 0?null:F}},we.startTransition=function(E){var F=$.transition;$.transition={};try{E()}finally{$.transition=F}},we.unstable_act=Y,we.useCallback=function(E,F){return Z.current.useCallback(E,F)},we.useContext=function(E){return Z.current.useContext(E)},we.useDebugValue=function(){},we.useDeferredValue=function(E){return Z.current.useDeferredValue(E)},we.useEffect=function(E,F){return Z.current.useEffect(E,F)},we.useId=function(){return Z.current.useId()},we.useImperativeHandle=function(E,F,he){return Z.current.useImperativeHandle(E,F,he)},we.useInsertionEffect=function(E,F){return Z.current.useInsertionEffect(E,F)},we.useLayoutEffect=function(E,F){return Z.current.useLayoutEffect(E,F)},we.useMemo=function(E,F){return Z.current.useMemo(E,F)},we.useReducer=function(E,F,he){return Z.current.useReducer(E,F,he)},we.useRef=function(E){return Z.current.useRef(E)},we.useState=function(E){return Z.current.useState(E)},we.useSyncExternalStore=function(E,F,he){return Z.current.useSyncExternalStore(E,F,he)},we.useTransition=function(){return Z.current.useTransition()},we.version="18.3.1",we}var zd;function su(){return zd||(zd=1,To.exports=ym()),To.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd;function xm(){if(Bd)return Bs;Bd=1;var s=su(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(m,p,v){var y,k={},S=null,j=null;v!==void 0&&(S=""+v),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(j=p.ref);for(y in p)o.call(p,y)&&!d.hasOwnProperty(y)&&(k[y]=p[y]);if(m&&m.defaultProps)for(y in p=m.defaultProps,p)k[y]===void 0&&(k[y]=p[y]);return{$$typeof:n,type:m,key:S,ref:j,props:k,_owner:u.current}}return Bs.Fragment=a,Bs.jsx=f,Bs.jsxs=f,Bs}var Hd;function km(){return Hd||(Hd=1,Eo.exports=xm()),Eo.exports}var l=km(),x=su();const Di=ru(x),Sm=vm({__proto__:null,default:Di},[x]);var vi={},Po={exports:{}},St={},Lo={exports:{}},Ro={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd;function wm(){return Vd||(Vd=1,(function(s){function n($,X){var Y=$.length;$.push(X);e:for(;0<Y;){var E=Y-1>>>1,F=$[E];if(0<u(F,X))$[E]=X,$[Y]=F,Y=E;else break e}}function a($){return $.length===0?null:$[0]}function o($){if($.length===0)return null;var X=$[0],Y=$.pop();if(Y!==X){$[0]=Y;e:for(var E=0,F=$.length,he=F>>>1;E<he;){var oe=2*(E+1)-1,ve=$[oe],ce=oe+1,Se=$[ce];if(0>u(ve,Y))ce<F&&0>u(Se,ve)?($[E]=Se,$[ce]=Y,E=ce):($[E]=ve,$[oe]=Y,E=oe);else if(ce<F&&0>u(Se,Y))$[E]=Se,$[ce]=Y,E=ce;else break e}}return X}function u($,X){var Y=$.sortIndex-X.sortIndex;return Y!==0?Y:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var p=[],v=[],y=1,k=null,S=3,j=!1,T=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U($){for(var X=a(v);X!==null;){if(X.callback===null)o(v);else if(X.startTime<=$)o(v),X.sortIndex=X.expirationTime,n(p,X);else break;X=a(v)}}function D($){if(O=!1,U($),!T)if(a(p)!==null)T=!0,P(z);else{var X=a(v);X!==null&&Z(D,X.startTime-$)}}function z($,X){T=!1,O&&(O=!1,L(q),q=-1),j=!0;var Y=S;try{for(U(X),k=a(p);k!==null&&(!(k.expirationTime>X)||$&&!de());){var E=k.callback;if(typeof E=="function"){k.callback=null,S=k.priorityLevel;var F=E(k.expirationTime<=X);X=s.unstable_now(),typeof F=="function"?k.callback=F:k===a(p)&&o(p),U(X)}else o(p);k=a(p)}if(k!==null)var he=!0;else{var oe=a(v);oe!==null&&Z(D,oe.startTime-X),he=!1}return he}finally{k=null,S=Y,j=!1}}var B=!1,K=null,q=-1,ae=5,ie=-1;function de(){return!(s.unstable_now()-ie<ae)}function fe(){if(K!==null){var $=s.unstable_now();ie=$;var X=!0;try{X=K(!0,$)}finally{X?H():(B=!1,K=null)}}else B=!1}var H;if(typeof _=="function")H=function(){_(fe)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,V=ee.port2;ee.port1.onmessage=fe,H=function(){V.postMessage(null)}}else H=function(){N(fe,0)};function P($){K=$,B||(B=!0,H())}function Z($,X){q=N(function(){$(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function($){$.callback=null},s.unstable_continueExecution=function(){T||j||(T=!0,P(z))},s.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<$?Math.floor(1e3/$):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_getFirstCallbackNode=function(){return a(p)},s.unstable_next=function($){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var Y=S;S=X;try{return $()}finally{S=Y}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=S;S=$;try{return X()}finally{S=Y}},s.unstable_scheduleCallback=function($,X,Y){var E=s.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?E+Y:E):Y=E,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Y+F,$={id:y++,callback:X,priorityLevel:$,startTime:Y,expirationTime:F,sortIndex:-1},Y>E?($.sortIndex=Y,n(v,$),a(p)===null&&$===a(v)&&(O?(L(q),q=-1):O=!0,Z(D,Y-E))):($.sortIndex=F,n(p,$),T||j||(T=!0,P(z))),$},s.unstable_shouldYield=de,s.unstable_wrapCallback=function($){var X=S;return function(){var Y=S;S=X;try{return $.apply(this,arguments)}finally{S=Y}}}})(Ro)),Ro}var Wd;function Nm(){return Wd||(Wd=1,Lo.exports=wm()),Lo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd;function jm(){if(qd)return St;qd=1;var s=su(),n=Nm();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function S(e){return p.call(k,e)?!0:p.call(y,e)?!1:v.test(e)?k[e]=!0:(y[e]=!0,!1)}function j(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,r,i){if(t===null||typeof t>"u"||j(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,r,i,c,h,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=g}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){N[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];N[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){N[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){N[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){N[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){N[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){N[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){N[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){N[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,_);N[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,_);N[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,_);N[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){N[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),N.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){N[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,r,i){var c=N.hasOwnProperty(t)?N[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,r,c,i)&&(r=null),i||c===null?S(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):c.mustUseProperty?e[c.propertyName]=r===null?c.type===3?!1:"":r:(t=c.attributeName,i=c.attributeNamespace,r===null?e.removeAttribute(t):(c=c.type,r=c===3||c===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var D=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),B=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),de=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),$=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var Y=Object.assign,E;function F(e){if(E===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var he=!1;function oe(e,t){if(!e||he)return"";he=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var i=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){i=A}e.call(t.prototype)}else{try{throw Error()}catch(A){i=A}e()}}catch(A){if(A&&i&&typeof A.stack=="string"){for(var c=A.stack.split(`
`),h=i.stack.split(`
`),g=c.length-1,w=h.length-1;1<=g&&0<=w&&c[g]!==h[w];)w--;for(;1<=g&&0<=w;g--,w--)if(c[g]!==h[w]){if(g!==1||w!==1)do if(g--,w--,0>w||c[g]!==h[w]){var b=`
`+c[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=w);break}}}finally{he=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function ve(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case K:return"Fragment";case B:return"Portal";case ae:return"Profiler";case q:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case de:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function Se(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ne(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ze(e){var t=Ne(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,h.call(this,g)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mt(e){e._valueTracker||(e._valueTracker=ze(e))}function xn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=Ne(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function nt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nn(e,t){var r=t.checked;return Y({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yn(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=je(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rn(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function Wt(e,t){rn(e,t);var r=je(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ue(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ue(e,t.type,je(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function te(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ue(e,t,r){(t!=="number"||nt(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ut=Array.isArray;function Xe(e,t,r,i){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&i&&(e[r].defaultSelected=!0)}else{for(r=""+je(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function vr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return Y({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sn(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(a(92));if(ut(r)){if(1<r.length)throw Error(a(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:je(r)}}function ts(e,t){var r=je(t.value),i=je(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function yr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dt(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?yr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kn,ns=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sa=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){sa.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function aa(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function rs(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,c=aa(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,c):e[r]=c}}var zi=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wn(e,t){if(t){if(zi[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function rt(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=null;function Nn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var an=null,st=null,Be=null;function ia(e){if(e=Ts(e)){if(typeof an!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Ia(t),an(e.stateNode,e.type,t))}}function dt(e){st?Be?Be.push(e):Be=[e]:st=e}function la(){if(st){var e=st,t=Be;if(Be=st=null,ia(e),t)for(e=0;e<t.length;e++)ia(t[e])}}function ss(e,t){return e(t)}function oa(){}var as=!1;function ua(e,t,r){if(as)return e(t,r);as=!0;try{return ss(e,t,r)}finally{as=!1,(st!==null||Be!==null)&&(oa(),la())}}function Xn(e,t){var r=e.stateNode;if(r===null)return null;var i=Ia(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,t,typeof r));return r}var is=!1;if(m)try{var Zn={};Object.defineProperty(Zn,"passive",{get:function(){is=!0}}),window.addEventListener("test",Zn,Zn),window.removeEventListener("test",Zn,Zn)}catch{is=!1}function Bi(e,t,r,i,c,h,g,w,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(J){this.onError(J)}}var er=!1,xr=null,kr=!1,tr=null,Hi={onError:function(e){er=!0,xr=e}};function Vi(e,t,r,i,c,h,g,w,b){er=!1,xr=null,Bi.apply(Hi,arguments)}function Wi(e,t,r,i,c,h,g,w,b){if(Vi.apply(this,arguments),er){if(er){var A=xr;er=!1,xr=null}else throw Error(a(198));kr||(kr=!0,tr=A)}}function ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ca(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ls(e){if(ln(e)!==e)throw Error(a(188))}function os(e){var t=e.alternate;if(!t){if(t=ln(e),t===null)throw Error(a(188));return t!==e?null:e}for(var r=e,i=t;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(i=c.return,i!==null){r=i;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return ls(c),e;if(h===i)return ls(c),t;h=h.sibling}throw Error(a(188))}if(r.return!==i.return)r=c,i=h;else{for(var g=!1,w=c.child;w;){if(w===r){g=!0,r=c,i=h;break}if(w===i){g=!0,i=c,r=h;break}w=w.sibling}if(!g){for(w=h.child;w;){if(w===r){g=!0,r=h,i=c;break}if(w===i){g=!0,i=h,r=c;break}w=w.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==i)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:t}function qt(e){return e=os(e),e!==null?R(e):null}function R(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=R(e);if(t!==null)return t;e=e.sibling}return null}var xe=n.unstable_scheduleCallback,ke=n.unstable_cancelCallback,qe=n.unstable_shouldYield,Et=n.unstable_requestPaint,be=n.unstable_now,us=n.unstable_getCurrentPriorityLevel,ft=n.unstable_ImmediatePriority,da=n.unstable_UserBlockingPriority,fa=n.unstable_NormalPriority,Ph=n.unstable_LowPriority,gu=n.unstable_IdlePriority,ha=null,Jt=null;function Lh(e){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(ha,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:Mh,Rh=Math.log,Ih=Math.LN2;function Mh(e){return e>>>=0,e===0?32:31-(Rh(e)/Ih|0)|0}var pa=64,ma=4194304;function cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ga(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,c=e.suspendedLanes,h=e.pingedLanes,g=r&268435455;if(g!==0){var w=g&~c;w!==0?i=cs(w):(h&=g,h!==0&&(i=cs(h)))}else g=r&~c,g!==0?i=cs(g):h!==0&&(i=cs(h));if(i===0)return 0;if(t!==0&&t!==i&&(t&c)===0&&(c=i&-i,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((i&4)!==0&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-_t(t),c=1<<r,i|=e[r],t&=~c;return i}function Oh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ah(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var g=31-_t(h),w=1<<g,b=c[g];b===-1?((w&r)===0||(w&i)!==0)&&(c[g]=Oh(w,t)):b<=t&&(e.expiredLanes|=w),h&=~w}}function qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vu(){var e=pa;return pa<<=1,(pa&4194240)===0&&(pa=64),e}function Ji(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ds(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=r}function Dh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var c=31-_t(r),h=1<<c;t[c]=0,i[c]=-1,e[c]=-1,r&=~h}}function Qi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-_t(r),c=1<<i;c&t|e[i]&t&&(e[i]|=t),r&=~c}}var Te=0;function yu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var xu,Yi,ku,Su,wu,Gi=!1,va=[],jn=null,bn=null,Cn=null,fs=new Map,hs=new Map,En=[],_h="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(e,t){switch(e){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":bn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(t.pointerId)}}function ps(e,t,r,i,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Ts(t),t!==null&&Yi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Fh(e,t,r,i,c){switch(t){case"focusin":return jn=ps(jn,e,t,r,i,c),!0;case"dragenter":return bn=ps(bn,e,t,r,i,c),!0;case"mouseover":return Cn=ps(Cn,e,t,r,i,c),!0;case"pointerover":var h=c.pointerId;return fs.set(h,ps(fs.get(h)||null,e,t,r,i,c)),!0;case"gotpointercapture":return h=c.pointerId,hs.set(h,ps(hs.get(h)||null,e,t,r,i,c)),!0}return!1}function ju(e){var t=nr(e.target);if(t!==null){var r=ln(t);if(r!==null){if(t=r.tag,t===13){if(t=ca(r),t!==null){e.blockedOn=t,wu(e.priority,function(){ku(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);Ct=i,r.target.dispatchEvent(i),Ct=null}else return t=Ts(r),t!==null&&Yi(t),e.blockedOn=r,!1;t.shift()}return!0}function bu(e,t,r){ya(e)&&r.delete(t)}function $h(){Gi=!1,jn!==null&&ya(jn)&&(jn=null),bn!==null&&ya(bn)&&(bn=null),Cn!==null&&ya(Cn)&&(Cn=null),fs.forEach(bu),hs.forEach(bu)}function ms(e,t){e.blockedOn===t&&(e.blockedOn=null,Gi||(Gi=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$h)))}function gs(e){function t(c){return ms(c,e)}if(0<va.length){ms(va[0],e);for(var r=1;r<va.length;r++){var i=va[r];i.blockedOn===e&&(i.blockedOn=null)}}for(jn!==null&&ms(jn,e),bn!==null&&ms(bn,e),Cn!==null&&ms(Cn,e),fs.forEach(t),hs.forEach(t),r=0;r<En.length;r++)i=En[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<En.length&&(r=En[0],r.blockedOn===null);)ju(r),r.blockedOn===null&&En.shift()}var Sr=D.ReactCurrentBatchConfig,xa=!0;function Uh(e,t,r,i){var c=Te,h=Sr.transition;Sr.transition=null;try{Te=1,Xi(e,t,r,i)}finally{Te=c,Sr.transition=h}}function Kh(e,t,r,i){var c=Te,h=Sr.transition;Sr.transition=null;try{Te=4,Xi(e,t,r,i)}finally{Te=c,Sr.transition=h}}function Xi(e,t,r,i){if(xa){var c=Zi(e,t,r,i);if(c===null)gl(e,t,i,ka,r),Nu(e,i);else if(Fh(c,e,t,r,i))i.stopPropagation();else if(Nu(e,i),t&4&&-1<_h.indexOf(e)){for(;c!==null;){var h=Ts(c);if(h!==null&&xu(h),h=Zi(e,t,r,i),h===null&&gl(e,t,i,ka,r),h===c)break;c=h}c!==null&&i.stopPropagation()}else gl(e,t,i,null,r)}}var ka=null;function Zi(e,t,r,i){if(ka=null,e=Nn(i),e=nr(e),e!==null)if(t=ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ca(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ka=e,null}function Cu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(us()){case ft:return 1;case da:return 4;case fa:case Ph:return 16;case gu:return 536870912;default:return 16}default:return 16}}var Tn=null,el=null,Sa=null;function Eu(){if(Sa)return Sa;var e,t=el,r=t.length,i,c="value"in Tn?Tn.value:Tn.textContent,h=c.length;for(e=0;e<r&&t[e]===c[e];e++);var g=r-e;for(i=1;i<=g&&t[r-i]===c[h-i];i++);return Sa=c.slice(e,1<i?1-i:void 0)}function wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function Tu(){return!1}function wt(e){function t(r,i,c,h,g){this._reactName=r,this._targetInst=c,this.type=i,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(h):h[w]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Na:Tu,this.isPropagationStopped=Tu,this}return Y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=wt(wr),vs=Y({},wr,{view:0,detail:0}),zh=wt(vs),nl,rl,ys,ja=Y({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(nl=e.screenX-ys.screenX,rl=e.screenY-ys.screenY):rl=nl=0,ys=e),nl)},movementY:function(e){return"movementY"in e?e.movementY:rl}}),Pu=wt(ja),Bh=Y({},ja,{dataTransfer:0}),Hh=wt(Bh),Vh=Y({},vs,{relatedTarget:0}),sl=wt(Vh),Wh=Y({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),qh=wt(Wh),Jh=Y({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qh=wt(Jh),Yh=Y({},wr,{data:0}),Lu=wt(Yh),Gh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zh[e])?!!t[e]:!1}function al(){return ep}var tp=Y({},vs,{key:function(e){if(e.key){var t=Gh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:al,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),np=wt(tp),rp=Y({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=wt(rp),sp=Y({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:al}),ap=wt(sp),ip=Y({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lp=wt(ip),op=Y({},ja,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),up=wt(op),cp=[9,13,27,32],il=m&&"CompositionEvent"in window,xs=null;m&&"documentMode"in document&&(xs=document.documentMode);var dp=m&&"TextEvent"in window&&!xs,Iu=m&&(!il||xs&&8<xs&&11>=xs),Mu=" ",Ou=!1;function Au(e,t){switch(e){case"keyup":return cp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Du(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nr=!1;function fp(e,t){switch(e){case"compositionend":return Du(t);case"keypress":return t.which!==32?null:(Ou=!0,Mu);case"textInput":return e=t.data,e===Mu&&Ou?null:e;default:return null}}function hp(e,t){if(Nr)return e==="compositionend"||!il&&Au(e,t)?(e=Eu(),Sa=el=Tn=null,Nr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Iu&&t.locale!=="ko"?null:t.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pp[e.type]:t==="textarea"}function Fu(e,t,r,i){dt(i),t=Pa(t,"onChange"),0<t.length&&(r=new tl("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var ks=null,Ss=null;function mp(e){nc(e,0)}function ba(e){var t=Tr(e);if(xn(t))return e}function gp(e,t){if(e==="change")return t}var $u=!1;if(m){var ll;if(m){var ol="oninput"in document;if(!ol){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),ol=typeof Uu.oninput=="function"}ll=ol}else ll=!1;$u=ll&&(!document.documentMode||9<document.documentMode)}function Ku(){ks&&(ks.detachEvent("onpropertychange",zu),Ss=ks=null)}function zu(e){if(e.propertyName==="value"&&ba(Ss)){var t=[];Fu(t,Ss,e,Nn(e)),ua(mp,t)}}function vp(e,t,r){e==="focusin"?(Ku(),ks=t,Ss=r,ks.attachEvent("onpropertychange",zu)):e==="focusout"&&Ku()}function yp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ba(Ss)}function xp(e,t){if(e==="click")return ba(t)}function kp(e,t){if(e==="input"||e==="change")return ba(t)}function Sp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:Sp;function ws(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var c=r[i];if(!p.call(t,c)||!Ft(e[c],t[c]))return!1}return!0}function Bu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hu(e,t){var r=Bu(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bu(r)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wu(){for(var e=window,t=nt();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=nt(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wp(e){var t=Wu(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Vu(r.ownerDocument.documentElement,r)){if(i!==null&&ul(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=r.textContent.length,h=Math.min(i.start,c);i=i.end===void 0?h:Math.min(i.end,c),!e.extend&&h>i&&(c=i,i=h,h=c),c=Hu(r,h);var g=Hu(r,i);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=m&&"documentMode"in document&&11>=document.documentMode,jr=null,cl=null,Ns=null,dl=!1;function qu(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dl||jr==null||jr!==nt(i)||(i=jr,"selectionStart"in i&&ul(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ns&&ws(Ns,i)||(Ns=i,i=Pa(cl,"onSelect"),0<i.length&&(t=new tl("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=jr)))}function Ca(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var br={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},fl={},Ju={};m&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);function Ea(e){if(fl[e])return fl[e];if(!br[e])return e;var t=br[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ju)return fl[e]=t[r];return e}var Qu=Ea("animationend"),Yu=Ea("animationiteration"),Gu=Ea("animationstart"),Xu=Ea("transitionend"),Zu=new Map,ec="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(e,t){Zu.set(e,t),d(t,[e])}for(var hl=0;hl<ec.length;hl++){var pl=ec[hl],jp=pl.toLowerCase(),bp=pl[0].toUpperCase()+pl.slice(1);Pn(jp,"on"+bp)}Pn(Qu,"onAnimationEnd"),Pn(Yu,"onAnimationIteration"),Pn(Gu,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(Xu,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function tc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,Wi(i,t,void 0,e),e.currentTarget=null}function nc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],c=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var g=i.length-1;0<=g;g--){var w=i[g],b=w.instance,A=w.currentTarget;if(w=w.listener,b!==h&&c.isPropagationStopped())break e;tc(c,w,A),h=b}else for(g=0;g<i.length;g++){if(w=i[g],b=w.instance,A=w.currentTarget,w=w.listener,b!==h&&c.isPropagationStopped())break e;tc(c,w,A),h=b}}}if(kr)throw e=tr,kr=!1,tr=null,e}function Re(e,t){var r=t[wl];r===void 0&&(r=t[wl]=new Set);var i=e+"__bubble";r.has(i)||(rc(t,e,2,!1),r.add(i))}function ml(e,t,r){var i=0;t&&(i|=4),rc(r,e,i,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function bs(e){if(!e[Ta]){e[Ta]=!0,o.forEach(function(r){r!=="selectionchange"&&(Cp.has(r)||ml(r,!1,e),ml(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,ml("selectionchange",!1,t))}}function rc(e,t,r,i){switch(Cu(t)){case 1:var c=Uh;break;case 4:c=Kh;break;default:c=Xi}r=c.bind(null,t,r,e),c=void 0,!is||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function gl(e,t,r,i,c){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var w=i.stateNode.containerInfo;if(w===c||w.nodeType===8&&w.parentNode===c)break;if(g===4)for(g=i.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;w!==null;){if(g=nr(w),g===null)return;if(b=g.tag,b===5||b===6){i=h=g;continue e}w=w.parentNode}}i=i.return}ua(function(){var A=h,J=Nn(r),Q=[];e:{var W=Zu.get(e);if(W!==void 0){var ne=tl,se=e;switch(e){case"keypress":if(wa(r)===0)break e;case"keydown":case"keyup":ne=np;break;case"focusin":se="focus",ne=sl;break;case"focusout":se="blur",ne=sl;break;case"beforeblur":case"afterblur":ne=sl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=ap;break;case Qu:case Yu:case Gu:ne=qh;break;case Xu:ne=lp;break;case"scroll":ne=zh;break;case"wheel":ne=up;break;case"copy":case"cut":case"paste":ne=Qh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Ru}var le=(t&4)!==0,$e=!le&&e==="scroll",I=le?W!==null?W+"Capture":null:W;le=[];for(var C=A,M;C!==null;){M=C;var G=M.stateNode;if(M.tag===5&&G!==null&&(M=G,I!==null&&(G=Xn(C,I),G!=null&&le.push(Cs(C,G,M)))),$e)break;C=C.return}0<le.length&&(W=new ne(W,se,null,r,J),Q.push({event:W,listeners:le}))}}if((t&7)===0){e:{if(W=e==="mouseover"||e==="pointerover",ne=e==="mouseout"||e==="pointerout",W&&r!==Ct&&(se=r.relatedTarget||r.fromElement)&&(nr(se)||se[on]))break e;if((ne||W)&&(W=J.window===J?J:(W=J.ownerDocument)?W.defaultView||W.parentWindow:window,ne?(se=r.relatedTarget||r.toElement,ne=A,se=se?nr(se):null,se!==null&&($e=ln(se),se!==$e||se.tag!==5&&se.tag!==6)&&(se=null)):(ne=null,se=A),ne!==se)){if(le=Pu,G="onMouseLeave",I="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(le=Ru,G="onPointerLeave",I="onPointerEnter",C="pointer"),$e=ne==null?W:Tr(ne),M=se==null?W:Tr(se),W=new le(G,C+"leave",ne,r,J),W.target=$e,W.relatedTarget=M,G=null,nr(J)===A&&(le=new le(I,C+"enter",se,r,J),le.target=M,le.relatedTarget=$e,G=le),$e=G,ne&&se)t:{for(le=ne,I=se,C=0,M=le;M;M=Cr(M))C++;for(M=0,G=I;G;G=Cr(G))M++;for(;0<C-M;)le=Cr(le),C--;for(;0<M-C;)I=Cr(I),M--;for(;C--;){if(le===I||I!==null&&le===I.alternate)break t;le=Cr(le),I=Cr(I)}le=null}else le=null;ne!==null&&sc(Q,W,ne,le,!1),se!==null&&$e!==null&&sc(Q,$e,se,le,!0)}}e:{if(W=A?Tr(A):window,ne=W.nodeName&&W.nodeName.toLowerCase(),ne==="select"||ne==="input"&&W.type==="file")var ue=gp;else if(_u(W))if($u)ue=kp;else{ue=yp;var pe=vp}else(ne=W.nodeName)&&ne.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ue=xp);if(ue&&(ue=ue(e,A))){Fu(Q,ue,r,J);break e}pe&&pe(e,W,A),e==="focusout"&&(pe=W._wrapperState)&&pe.controlled&&W.type==="number"&&Ue(W,"number",W.value)}switch(pe=A?Tr(A):window,e){case"focusin":(_u(pe)||pe.contentEditable==="true")&&(jr=pe,cl=A,Ns=null);break;case"focusout":Ns=cl=jr=null;break;case"mousedown":dl=!0;break;case"contextmenu":case"mouseup":case"dragend":dl=!1,qu(Q,r,J);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":qu(Q,r,J)}var me;if(il)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Nr?Au(e,r)&&(ge="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(ge="onCompositionStart");ge&&(Iu&&r.locale!=="ko"&&(Nr||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Nr&&(me=Eu()):(Tn=J,el="value"in Tn?Tn.value:Tn.textContent,Nr=!0)),pe=Pa(A,ge),0<pe.length&&(ge=new Lu(ge,e,null,r,J),Q.push({event:ge,listeners:pe}),me?ge.data=me:(me=Du(r),me!==null&&(ge.data=me)))),(me=dp?fp(e,r):hp(e,r))&&(A=Pa(A,"onBeforeInput"),0<A.length&&(J=new Lu("onBeforeInput","beforeinput",null,r,J),Q.push({event:J,listeners:A}),J.data=me))}nc(Q,t)})}function Cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Pa(e,t){for(var r=t+"Capture",i=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Xn(e,r),h!=null&&i.unshift(Cs(e,h,c)),h=Xn(e,t),h!=null&&i.push(Cs(e,h,c))),e=e.return}return i}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sc(e,t,r,i,c){for(var h=t._reactName,g=[];r!==null&&r!==i;){var w=r,b=w.alternate,A=w.stateNode;if(b!==null&&b===i)break;w.tag===5&&A!==null&&(w=A,c?(b=Xn(r,h),b!=null&&g.unshift(Cs(r,b,w))):c||(b=Xn(r,h),b!=null&&g.push(Cs(r,b,w)))),r=r.return}g.length!==0&&e.push({event:t,listeners:g})}var Ep=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function ac(e){return(typeof e=="string"?e:""+e).replace(Ep,`
`).replace(Tp,"")}function La(e,t,r){if(t=ac(t),ac(e)!==t&&r)throw Error(a(425))}function Ra(){}var vl=null,yl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,Pp=typeof clearTimeout=="function"?clearTimeout:void 0,ic=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof ic<"u"?function(e){return ic.resolve(null).then(e).catch(Rp)}:kl;function Rp(e){setTimeout(function(){throw e})}function Sl(e,t){var r=t,i=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(i===0){e.removeChild(c),gs(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=c}while(r);gs(t)}function Ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Er,Es="__reactProps$"+Er,on="__reactContainer$"+Er,wl="__reactEvents$"+Er,Ip="__reactListeners$"+Er,Mp="__reactHandles$"+Er;function nr(e){var t=e[Qt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[on]||r[Qt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lc(e);e!==null;){if(r=e[Qt])return r;e=lc(e)}return t}e=r,r=e.parentNode}return null}function Ts(e){return e=e[Qt]||e[on],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ia(e){return e[Es]||null}var Nl=[],Pr=-1;function Rn(e){return{current:e}}function Ie(e){0>Pr||(e.current=Nl[Pr],Nl[Pr]=null,Pr--)}function Le(e,t){Pr++,Nl[Pr]=e.current,e.current=t}var In={},at=Rn(In),gt=Rn(!1),rr=In;function Lr(e,t){var r=e.type.contextTypes;if(!r)return In;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in r)c[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function vt(e){return e=e.childContextTypes,e!=null}function Ma(){Ie(gt),Ie(at)}function oc(e,t,r){if(at.current!==In)throw Error(a(168));Le(at,t),Le(gt,r)}function uc(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(a(108,Se(e)||"Unknown",c));return Y({},r,i)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||In,rr=at.current,Le(at,e),Le(gt,gt.current),!0}function cc(e,t,r){var i=e.stateNode;if(!i)throw Error(a(169));r?(e=uc(e,t,rr),i.__reactInternalMemoizedMergedChildContext=e,Ie(gt),Ie(at),Le(at,e)):Ie(gt),Le(gt,r)}var un=null,Aa=!1,jl=!1;function dc(e){un===null?un=[e]:un.push(e)}function Op(e){Aa=!0,dc(e)}function Mn(){if(!jl&&un!==null){jl=!0;var e=0,t=Te;try{var r=un;for(Te=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}un=null,Aa=!1}catch(c){throw un!==null&&(un=un.slice(e+1)),xe(ft,Mn),c}finally{Te=t,jl=!1}}return null}var Rr=[],Ir=0,Da=null,_a=0,Tt=[],Pt=0,sr=null,cn=1,dn="";function ar(e,t){Rr[Ir++]=_a,Rr[Ir++]=Da,Da=e,_a=t}function fc(e,t,r){Tt[Pt++]=cn,Tt[Pt++]=dn,Tt[Pt++]=sr,sr=e;var i=cn;e=dn;var c=32-_t(i)-1;i&=~(1<<c),r+=1;var h=32-_t(t)+c;if(30<h){var g=c-c%5;h=(i&(1<<g)-1).toString(32),i>>=g,c-=g,cn=1<<32-_t(t)+c|r<<c|i,dn=h+e}else cn=1<<h|r<<c|i,dn=e}function bl(e){e.return!==null&&(ar(e,1),fc(e,1,0))}function Cl(e){for(;e===Da;)Da=Rr[--Ir],Rr[Ir]=null,_a=Rr[--Ir],Rr[Ir]=null;for(;e===sr;)sr=Tt[--Pt],Tt[Pt]=null,dn=Tt[--Pt],Tt[Pt]=null,cn=Tt[--Pt],Tt[Pt]=null}var Nt=null,jt=null,Oe=!1,$t=null;function hc(e,t){var r=Mt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nt=e,jt=Ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nt=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=sr!==null?{id:cn,overflow:dn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nt=e,jt=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tl(e){if(Oe){var t=jt;if(t){var r=t;if(!pc(e,t)){if(El(e))throw Error(a(418));t=Ln(r.nextSibling);var i=Nt;t&&pc(e,t)?hc(i,r):(e.flags=e.flags&-4097|2,Oe=!1,Nt=e)}}else{if(El(e))throw Error(a(418));e.flags=e.flags&-4097|2,Oe=!1,Nt=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nt=e}function Fa(e){if(e!==Nt)return!1;if(!Oe)return mc(e),Oe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=jt)){if(El(e))throw gc(),Error(a(418));for(;t;)hc(e,t),t=Ln(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jt=Ln(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=Nt?Ln(e.stateNode.nextSibling):null;return!0}function gc(){for(var e=jt;e;)e=Ln(e.nextSibling)}function Mr(){jt=Nt=null,Oe=!1}function Pl(e){$t===null?$t=[e]:$t.push(e)}var Ap=D.ReactCurrentBatchConfig;function Ps(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(a(309));var i=r.stateNode}if(!i)throw Error(a(147,e));var c=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(g){var w=c.refs;g===null?delete w[h]:w[h]=g},t._stringRef=h,t)}if(typeof e!="string")throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function $a(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vc(e){var t=e._init;return t(e._payload)}function yc(e){function t(I,C){if(e){var M=I.deletions;M===null?(I.deletions=[C],I.flags|=16):M.push(C)}}function r(I,C){if(!e)return null;for(;C!==null;)t(I,C),C=C.sibling;return null}function i(I,C){for(I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function c(I,C){return I=Kn(I,C),I.index=0,I.sibling=null,I}function h(I,C,M){return I.index=M,e?(M=I.alternate,M!==null?(M=M.index,M<C?(I.flags|=2,C):M):(I.flags|=2,C)):(I.flags|=1048576,C)}function g(I){return e&&I.alternate===null&&(I.flags|=2),I}function w(I,C,M,G){return C===null||C.tag!==6?(C=So(M,I.mode,G),C.return=I,C):(C=c(C,M),C.return=I,C)}function b(I,C,M,G){var ue=M.type;return ue===K?J(I,C,M.props.children,G,M.key):C!==null&&(C.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&vc(ue)===C.type)?(G=c(C,M.props),G.ref=Ps(I,C,M),G.return=I,G):(G=ui(M.type,M.key,M.props,null,I.mode,G),G.ref=Ps(I,C,M),G.return=I,G)}function A(I,C,M,G){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=wo(M,I.mode,G),C.return=I,C):(C=c(C,M.children||[]),C.return=I,C)}function J(I,C,M,G,ue){return C===null||C.tag!==7?(C=hr(M,I.mode,G,ue),C.return=I,C):(C=c(C,M),C.return=I,C)}function Q(I,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return C=So(""+C,I.mode,M),C.return=I,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return M=ui(C.type,C.key,C.props,null,I.mode,M),M.ref=Ps(I,null,C),M.return=I,M;case B:return C=wo(C,I.mode,M),C.return=I,C;case P:var G=C._init;return Q(I,G(C._payload),M)}if(ut(C)||X(C))return C=hr(C,I.mode,M,null),C.return=I,C;$a(I,C)}return null}function W(I,C,M,G){var ue=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:w(I,C,""+M,G);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case z:return M.key===ue?b(I,C,M,G):null;case B:return M.key===ue?A(I,C,M,G):null;case P:return ue=M._init,W(I,C,ue(M._payload),G)}if(ut(M)||X(M))return ue!==null?null:J(I,C,M,G,null);$a(I,M)}return null}function ne(I,C,M,G,ue){if(typeof G=="string"&&G!==""||typeof G=="number")return I=I.get(M)||null,w(C,I,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case z:return I=I.get(G.key===null?M:G.key)||null,b(C,I,G,ue);case B:return I=I.get(G.key===null?M:G.key)||null,A(C,I,G,ue);case P:var pe=G._init;return ne(I,C,M,pe(G._payload),ue)}if(ut(G)||X(G))return I=I.get(M)||null,J(C,I,G,ue,null);$a(C,G)}return null}function se(I,C,M,G){for(var ue=null,pe=null,me=C,ge=C=0,Ye=null;me!==null&&ge<M.length;ge++){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var Ee=W(I,me,M[ge],G);if(Ee===null){me===null&&(me=Ye);break}e&&me&&Ee.alternate===null&&t(I,me),C=h(Ee,C,ge),pe===null?ue=Ee:pe.sibling=Ee,pe=Ee,me=Ye}if(ge===M.length)return r(I,me),Oe&&ar(I,ge),ue;if(me===null){for(;ge<M.length;ge++)me=Q(I,M[ge],G),me!==null&&(C=h(me,C,ge),pe===null?ue=me:pe.sibling=me,pe=me);return Oe&&ar(I,ge),ue}for(me=i(I,me);ge<M.length;ge++)Ye=ne(me,I,ge,M[ge],G),Ye!==null&&(e&&Ye.alternate!==null&&me.delete(Ye.key===null?ge:Ye.key),C=h(Ye,C,ge),pe===null?ue=Ye:pe.sibling=Ye,pe=Ye);return e&&me.forEach(function(zn){return t(I,zn)}),Oe&&ar(I,ge),ue}function le(I,C,M,G){var ue=X(M);if(typeof ue!="function")throw Error(a(150));if(M=ue.call(M),M==null)throw Error(a(151));for(var pe=ue=null,me=C,ge=C=0,Ye=null,Ee=M.next();me!==null&&!Ee.done;ge++,Ee=M.next()){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var zn=W(I,me,Ee.value,G);if(zn===null){me===null&&(me=Ye);break}e&&me&&zn.alternate===null&&t(I,me),C=h(zn,C,ge),pe===null?ue=zn:pe.sibling=zn,pe=zn,me=Ye}if(Ee.done)return r(I,me),Oe&&ar(I,ge),ue;if(me===null){for(;!Ee.done;ge++,Ee=M.next())Ee=Q(I,Ee.value,G),Ee!==null&&(C=h(Ee,C,ge),pe===null?ue=Ee:pe.sibling=Ee,pe=Ee);return Oe&&ar(I,ge),ue}for(me=i(I,me);!Ee.done;ge++,Ee=M.next())Ee=ne(me,I,ge,Ee.value,G),Ee!==null&&(e&&Ee.alternate!==null&&me.delete(Ee.key===null?ge:Ee.key),C=h(Ee,C,ge),pe===null?ue=Ee:pe.sibling=Ee,pe=Ee);return e&&me.forEach(function(pm){return t(I,pm)}),Oe&&ar(I,ge),ue}function $e(I,C,M,G){if(typeof M=="object"&&M!==null&&M.type===K&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case z:e:{for(var ue=M.key,pe=C;pe!==null;){if(pe.key===ue){if(ue=M.type,ue===K){if(pe.tag===7){r(I,pe.sibling),C=c(pe,M.props.children),C.return=I,I=C;break e}}else if(pe.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===P&&vc(ue)===pe.type){r(I,pe.sibling),C=c(pe,M.props),C.ref=Ps(I,pe,M),C.return=I,I=C;break e}r(I,pe);break}else t(I,pe);pe=pe.sibling}M.type===K?(C=hr(M.props.children,I.mode,G,M.key),C.return=I,I=C):(G=ui(M.type,M.key,M.props,null,I.mode,G),G.ref=Ps(I,C,M),G.return=I,I=G)}return g(I);case B:e:{for(pe=M.key;C!==null;){if(C.key===pe)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){r(I,C.sibling),C=c(C,M.children||[]),C.return=I,I=C;break e}else{r(I,C);break}else t(I,C);C=C.sibling}C=wo(M,I.mode,G),C.return=I,I=C}return g(I);case P:return pe=M._init,$e(I,C,pe(M._payload),G)}if(ut(M))return se(I,C,M,G);if(X(M))return le(I,C,M,G);$a(I,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,C!==null&&C.tag===6?(r(I,C.sibling),C=c(C,M),C.return=I,I=C):(r(I,C),C=So(M,I.mode,G),C.return=I,I=C),g(I)):r(I,C)}return $e}var Or=yc(!0),xc=yc(!1),Ua=Rn(null),Ka=null,Ar=null,Ll=null;function Rl(){Ll=Ar=Ka=null}function Il(e){var t=Ua.current;Ie(Ua),e._currentValue=t}function Ml(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function Dr(e,t){Ka=e,Ll=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(yt=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(Ll!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Ka===null)throw Error(a(308));Ar=e,Ka.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var ir=null;function Ol(e){ir===null?ir=[e]:ir.push(e)}function kc(e,t,r,i){var c=t.interleaved;return c===null?(r.next=r,Ol(t)):(r.next=c.next,c.next=r),t.interleaved=r,fn(e,i)}function fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var On=!1;function Al(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ce&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,fn(e,r)}return c=i.interleaved,c===null?(t.next=t,Ol(i)):(t.next=c.next,c.next=t),i.interleaved=t,fn(e,r)}function za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qi(e,r)}}function wc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?c=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?c=h=t:h=h.next=t}else c=h=t;r={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ba(e,t,r,i){var c=e.updateQueue;On=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var b=w,A=b.next;b.next=null,g===null?h=A:g.next=A,g=b;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==g&&(w===null?J.firstBaseUpdate=A:w.next=A,J.lastBaseUpdate=b))}if(h!==null){var Q=c.baseState;g=0,J=A=b=null,w=h;do{var W=w.lane,ne=w.eventTime;if((i&W)===W){J!==null&&(J=J.next={eventTime:ne,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var se=e,le=w;switch(W=t,ne=r,le.tag){case 1:if(se=le.payload,typeof se=="function"){Q=se.call(ne,Q,W);break e}Q=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=le.payload,W=typeof se=="function"?se.call(ne,Q,W):se,W==null)break e;Q=Y({},Q,W);break e;case 2:On=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,W=c.effects,W===null?c.effects=[w]:W.push(w))}else ne={eventTime:ne,lane:W,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(A=J=ne,b=Q):J=J.next=ne,g|=W;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;W=w,w=W.next,W.next=null,c.lastBaseUpdate=W,c.shared.pending=null}}while(!0);if(J===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=A,c.lastBaseUpdate=J,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);ur|=g,e.lanes=g,e.memoizedState=Q}}function Nc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=r,typeof c!="function")throw Error(a(191,c));c.call(i)}}}var Ls={},Yt=Rn(Ls),Rs=Rn(Ls),Is=Rn(Ls);function lr(e){if(e===Ls)throw Error(a(174));return e}function Dl(e,t){switch(Le(Is,t),Le(Rs,e),Le(Yt,Ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dt(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dt(t,e)}Ie(Yt),Le(Yt,t)}function _r(){Ie(Yt),Ie(Rs),Ie(Is)}function jc(e){lr(Is.current);var t=lr(Yt.current),r=Dt(t,e.type);t!==r&&(Le(Rs,e),Le(Yt,r))}function _l(e){Rs.current===e&&(Ie(Yt),Ie(Rs))}var Ae=Rn(0);function Ha(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fl=[];function $l(){for(var e=0;e<Fl.length;e++)Fl[e]._workInProgressVersionPrimary=null;Fl.length=0}var Va=D.ReactCurrentDispatcher,Ul=D.ReactCurrentBatchConfig,or=0,De=null,He=null,Je=null,Wa=!1,Ms=!1,Os=0,Dp=0;function it(){throw Error(a(321))}function Kl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ft(e[r],t[r]))return!1;return!0}function zl(e,t,r,i,c,h){if(or=h,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Va.current=e===null||e.memoizedState===null?Up:Kp,e=r(i,c),Ms){h=0;do{if(Ms=!1,Os=0,25<=h)throw Error(a(301));h+=1,Je=He=null,t.updateQueue=null,Va.current=zp,e=r(i,c)}while(Ms)}if(Va.current=Qa,t=He!==null&&He.next!==null,or=0,Je=He=De=null,Wa=!1,t)throw Error(a(300));return e}function Bl(){var e=Os!==0;return Os=0,e}function Gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=e:Je=Je.next=e,Je}function Rt(){if(He===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Je===null?De.memoizedState:Je.next;if(t!==null)Je=t,He=e;else{if(e===null)throw Error(a(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Je===null?De.memoizedState=Je=e:Je=Je.next=e}return Je}function As(e,t){return typeof t=="function"?t(e):t}function Hl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var i=He,c=i.baseQueue,h=r.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}i.baseQueue=c=h,r.pending=null}if(c!==null){h=c.next,i=i.baseState;var w=g=null,b=null,A=h;do{var J=A.lane;if((or&J)===J)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),i=A.hasEagerState?A.eagerState:e(i,A.action);else{var Q={lane:J,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(w=b=Q,g=i):b=b.next=Q,De.lanes|=J,ur|=J}A=A.next}while(A!==null&&A!==h);b===null?g=i:b.next=w,Ft(i,t.memoizedState)||(yt=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=b,r.lastRenderedState=i}if(e=r.interleaved,e!==null){c=e;do h=c.lane,De.lanes|=h,ur|=h,c=c.next;while(c!==e)}else c===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vl(e){var t=Rt(),r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var i=r.dispatch,c=r.pending,h=t.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do h=e(h,g.action),g=g.next;while(g!==c);Ft(h,t.memoizedState)||(yt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,i]}function bc(){}function Cc(e,t){var r=De,i=Rt(),c=t(),h=!Ft(i.memoizedState,c);if(h&&(i.memoizedState=c,yt=!0),i=i.queue,Wl(Pc.bind(null,r,i,e),[e]),i.getSnapshot!==t||h||Je!==null&&Je.memoizedState.tag&1){if(r.flags|=2048,Ds(9,Tc.bind(null,r,i,c,t),void 0,null),Qe===null)throw Error(a(349));(or&30)!==0||Ec(r,t,c)}return c}function Ec(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Tc(e,t,r,i){t.value=r,t.getSnapshot=i,Lc(t)&&Rc(e)}function Pc(e,t,r){return r(function(){Lc(t)&&Rc(e)})}function Lc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ft(e,r)}catch{return!0}}function Rc(e){var t=fn(e,1);t!==null&&Bt(t,e,1,-1)}function Ic(e){var t=Gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:e},t.queue=e,e=e.dispatch=$p.bind(null,De,e),[t.memoizedState,e]}function Ds(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=De.updateQueue,t===null?(t={lastEffect:null,stores:null},De.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function Mc(){return Rt().memoizedState}function qa(e,t,r,i){var c=Gt();De.flags|=e,c.memoizedState=Ds(1|t,r,void 0,i===void 0?null:i)}function Ja(e,t,r,i){var c=Rt();i=i===void 0?null:i;var h=void 0;if(He!==null){var g=He.memoizedState;if(h=g.destroy,i!==null&&Kl(i,g.deps)){c.memoizedState=Ds(t,r,h,i);return}}De.flags|=e,c.memoizedState=Ds(1|t,r,h,i)}function Oc(e,t){return qa(8390656,8,e,t)}function Wl(e,t){return Ja(2048,8,e,t)}function Ac(e,t){return Ja(4,2,e,t)}function Dc(e,t){return Ja(4,4,e,t)}function _c(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fc(e,t,r){return r=r!=null?r.concat([e]):null,Ja(4,4,_c.bind(null,t,e),r)}function ql(){}function $c(e,t){var r=Rt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Kl(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function Uc(e,t){var r=Rt();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Kl(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function Kc(e,t,r){return(or&21)===0?(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r):(Ft(r,t)||(r=vu(),De.lanes|=r,ur|=r,e.baseState=!0),t)}function _p(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var i=Ul.transition;Ul.transition={};try{e(!1),t()}finally{Te=r,Ul.transition=i}}function zc(){return Rt().memoizedState}function Fp(e,t,r){var i=$n(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},Bc(e))Hc(t,r);else if(r=kc(e,t,r,i),r!==null){var c=pt();Bt(r,e,i,c),Vc(r,t,i)}}function $p(e,t,r){var i=$n(e),c={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bc(e))Hc(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var g=t.lastRenderedState,w=h(g,r);if(c.hasEagerState=!0,c.eagerState=w,Ft(w,g)){var b=t.interleaved;b===null?(c.next=c,Ol(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}r=kc(e,t,c,i),r!==null&&(c=pt(),Bt(r,e,i,c),Vc(r,t,i))}}function Bc(e){var t=e.alternate;return e===De||t!==null&&t===De}function Hc(e,t){Ms=Wa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vc(e,t,r){if((r&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,Qi(e,r)}}var Qa={readContext:Lt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},Up={readContext:Lt,useCallback:function(e,t){return Gt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:Oc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qa(4194308,4,_c.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qa(4194308,4,e,t)},useInsertionEffect:function(e,t){return qa(4,2,e,t)},useMemo:function(e,t){var r=Gt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Gt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Fp.bind(null,De,e),[i.memoizedState,e]},useRef:function(e){var t=Gt();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:ql,useDeferredValue:function(e){return Gt().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=_p.bind(null,e[1]),Gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=De,c=Gt();if(Oe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=t(),Qe===null)throw Error(a(349));(or&30)!==0||Ec(i,t,r)}c.memoizedState=r;var h={value:r,getSnapshot:t};return c.queue=h,Oc(Pc.bind(null,i,h,e),[e]),i.flags|=2048,Ds(9,Tc.bind(null,i,h,r,t),void 0,null),r},useId:function(){var e=Gt(),t=Qe.identifierPrefix;if(Oe){var r=dn,i=cn;r=(i&~(1<<32-_t(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Os++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Dp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kp={readContext:Lt,useCallback:$c,useContext:Lt,useEffect:Wl,useImperativeHandle:Fc,useInsertionEffect:Ac,useLayoutEffect:Dc,useMemo:Uc,useReducer:Hl,useRef:Mc,useState:function(){return Hl(As)},useDebugValue:ql,useDeferredValue:function(e){var t=Rt();return Kc(t,He.memoizedState,e)},useTransition:function(){var e=Hl(As)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Cc,useId:zc,unstable_isNewReconciler:!1},zp={readContext:Lt,useCallback:$c,useContext:Lt,useEffect:Wl,useImperativeHandle:Fc,useInsertionEffect:Ac,useLayoutEffect:Dc,useMemo:Uc,useReducer:Vl,useRef:Mc,useState:function(){return Vl(As)},useDebugValue:ql,useDeferredValue:function(e){var t=Rt();return He===null?t.memoizedState=e:Kc(t,He.memoizedState,e)},useTransition:function(){var e=Vl(As)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:bc,useSyncExternalStore:Cc,useId:zc,unstable_isNewReconciler:!1};function Ut(e,t){if(e&&e.defaultProps){t=Y({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Jl(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Y({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ya={isMounted:function(e){return(e=e._reactInternals)?ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=pt(),c=$n(e),h=hn(i,c);h.payload=t,r!=null&&(h.callback=r),t=An(e,h,c),t!==null&&(Bt(t,e,c,i),za(t,e,c))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=pt(),c=$n(e),h=hn(i,c);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=An(e,h,c),t!==null&&(Bt(t,e,c,i),za(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=pt(),i=$n(e),c=hn(r,i);c.tag=2,t!=null&&(c.callback=t),t=An(e,c,i),t!==null&&(Bt(t,e,i,r),za(t,e,i))}};function Wc(e,t,r,i,c,h,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,g):t.prototype&&t.prototype.isPureReactComponent?!ws(r,i)||!ws(c,h):!0}function qc(e,t,r){var i=!1,c=In,h=t.contextType;return typeof h=="object"&&h!==null?h=Lt(h):(c=vt(t)?rr:at.current,i=t.contextTypes,h=(i=i!=null)?Lr(e,c):In),t=new t(r,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ya,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Jc(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Ya.enqueueReplaceState(t,t.state,null)}function Ql(e,t,r,i){var c=e.stateNode;c.props=r,c.state=e.memoizedState,c.refs={},Al(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=Lt(h):(h=vt(t)?rr:at.current,c.context=Lr(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(Jl(e,t,h,r),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&Ya.enqueueReplaceState(c,c.state,null),Ba(e,r,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Fr(e,t){try{var r="",i=t;do r+=ve(i),i=i.return;while(i);var c=r}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function Yl(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Gl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bp=typeof WeakMap=="function"?WeakMap:Map;function Qc(e,t,r){r=hn(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ri||(ri=!0,ho=i),Gl(e,t)},r}function Yc(e,t,r){r=hn(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;r.payload=function(){return i(c)},r.callback=function(){Gl(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){Gl(e,t),typeof i!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),r}function Gc(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new Bp;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(r)||(c.add(r),e=rm.bind(null,e,t,r),t.then(e,e))}function Xc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zc(e,t,r,i,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=hn(-1,1),t.tag=2,An(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Hp=D.ReactCurrentOwner,yt=!1;function ht(e,t,r,i){t.child=e===null?xc(t,null,r,i):Or(t,e.child,r,i)}function ed(e,t,r,i,c){r=r.render;var h=t.ref;return Dr(t,c),i=zl(e,t,r,i,h,c),r=Bl(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,pn(e,t,c)):(Oe&&r&&bl(t),t.flags|=1,ht(e,t,i,c),t.child)}function td(e,t,r,i,c){if(e===null){var h=r.type;return typeof h=="function"&&!ko(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,nd(e,t,h,i,c)):(e=ui(r.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:ws,r(g,i)&&e.ref===t.ref)return pn(e,t,c)}return t.flags|=1,e=Kn(h,i),e.ref=t.ref,e.return=t,t.child=e}function nd(e,t,r,i,c){if(e!==null){var h=e.memoizedProps;if(ws(h,i)&&e.ref===t.ref)if(yt=!1,t.pendingProps=i=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,pn(e,t,c)}return Xl(e,t,r,i,c)}function rd(e,t,r){var i=t.pendingProps,c=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(Ur,bt),bt|=r;else{if((r&1073741824)===0)return e=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Le(Ur,bt),bt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:r,Le(Ur,bt),bt|=i}else h!==null?(i=h.baseLanes|r,t.memoizedState=null):i=r,Le(Ur,bt),bt|=i;return ht(e,t,c,r),t.child}function sd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xl(e,t,r,i,c){var h=vt(r)?rr:at.current;return h=Lr(t,h),Dr(t,c),r=zl(e,t,r,i,h,c),i=Bl(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,pn(e,t,c)):(Oe&&i&&bl(t),t.flags|=1,ht(e,t,r,c),t.child)}function ad(e,t,r,i,c){if(vt(r)){var h=!0;Oa(t)}else h=!1;if(Dr(t,c),t.stateNode===null)Xa(e,t),qc(t,r,i),Ql(t,r,i,c),i=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var b=g.context,A=r.contextType;typeof A=="object"&&A!==null?A=Lt(A):(A=vt(r)?rr:at.current,A=Lr(t,A));var J=r.getDerivedStateFromProps,Q=typeof J=="function"||typeof g.getSnapshotBeforeUpdate=="function";Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==i||b!==A)&&Jc(t,g,i,A),On=!1;var W=t.memoizedState;g.state=W,Ba(t,i,g,c),b=t.memoizedState,w!==i||W!==b||gt.current||On?(typeof J=="function"&&(Jl(t,r,J,i),b=t.memoizedState),(w=On||Wc(t,r,w,i,W,b,A))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=b),g.props=i,g.state=b,g.context=A,i=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,Sc(e,t),w=t.memoizedProps,A=t.type===t.elementType?w:Ut(t.type,w),g.props=A,Q=t.pendingProps,W=g.context,b=r.contextType,typeof b=="object"&&b!==null?b=Lt(b):(b=vt(r)?rr:at.current,b=Lr(t,b));var ne=r.getDerivedStateFromProps;(J=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==Q||W!==b)&&Jc(t,g,i,b),On=!1,W=t.memoizedState,g.state=W,Ba(t,i,g,c);var se=t.memoizedState;w!==Q||W!==se||gt.current||On?(typeof ne=="function"&&(Jl(t,r,ne,i),se=t.memoizedState),(A=On||Wc(t,r,A,i,W,se,b)||!1)?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,se,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,se,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=se),g.props=i,g.state=se,g.context=b,i=A):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&W===e.memoizedState||(t.flags|=1024),i=!1)}return Zl(e,t,r,i,h,c)}function Zl(e,t,r,i,c,h){sd(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return c&&cc(t,r,!1),pn(e,t,h);i=t.stateNode,Hp.current=t;var w=g&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=Or(t,e.child,null,h),t.child=Or(t,null,w,h)):ht(e,t,w,h),t.memoizedState=i.state,c&&cc(t,r,!0),t.child}function id(e){var t=e.stateNode;t.pendingContext?oc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&oc(e,t.context,!1),Dl(e,t.containerInfo)}function ld(e,t,r,i,c){return Mr(),Pl(c),t.flags|=256,ht(e,t,r,i),t.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function to(e){return{baseLanes:e,cachePool:null,transitions:null}}function od(e,t,r){var i=t.pendingProps,c=Ae.current,h=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(c&2)!==0),w?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Le(Ae,c&1),e===null)return Tl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=i.children,e=i.fallback,h?(i=t.mode,h=t.child,g={mode:"hidden",children:g},(i&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=g):h=ci(g,i,0,null),e=hr(e,i,r,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=to(r),t.memoizedState=eo,e):no(t,g));if(c=e.memoizedState,c!==null&&(w=c.dehydrated,w!==null))return Vp(e,t,g,i,w,c,r);if(h){h=i.fallback,g=t.mode,c=e.child,w=c.sibling;var b={mode:"hidden",children:i.children};return(g&1)===0&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=b,t.deletions=null):(i=Kn(c,b),i.subtreeFlags=c.subtreeFlags&14680064),w!==null?h=Kn(w,h):(h=hr(h,g,r,null),h.flags|=2),h.return=t,i.return=t,i.sibling=h,t.child=i,i=h,h=t.child,g=e.child.memoizedState,g=g===null?to(r):{baseLanes:g.baseLanes|r,cachePool:null,transitions:g.transitions},h.memoizedState=g,h.childLanes=e.childLanes&~r,t.memoizedState=eo,i}return h=e.child,e=h.sibling,i=Kn(h,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function no(e,t){return t=ci({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,r,i){return i!==null&&Pl(i),Or(t,e.child,null,r),e=no(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vp(e,t,r,i,c,h,g){if(r)return t.flags&256?(t.flags&=-257,i=Yl(Error(a(422))),Ga(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,c=t.mode,i=ci({mode:"visible",children:i.children},c,0,null),h=hr(h,c,g,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,(t.mode&1)!==0&&Or(t,e.child,null,g),t.child.memoizedState=to(g),t.memoizedState=eo,h);if((t.mode&1)===0)return Ga(e,t,g,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var w=i.dgst;return i=w,h=Error(a(419)),i=Yl(h,i,void 0),Ga(e,t,g,i)}if(w=(g&e.childLanes)!==0,yt||w){if(i=Qe,i!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|g))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,fn(e,c),Bt(i,e,c,-1))}return xo(),i=Yl(Error(a(421))),Ga(e,t,g,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=sm.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,jt=Ln(c.nextSibling),Nt=t,Oe=!0,$t=null,e!==null&&(Tt[Pt++]=cn,Tt[Pt++]=dn,Tt[Pt++]=sr,cn=e.id,dn=e.overflow,sr=t),t=no(t,i.children),t.flags|=4096,t)}function ud(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Ml(e.return,t,r)}function ro(e,t,r,i,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=r,h.tailMode=c)}function cd(e,t,r){var i=t.pendingProps,c=i.revealOrder,h=i.tail;if(ht(e,t,i.children,r),i=Ae.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ud(e,r,t);else if(e.tag===19)ud(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Le(Ae,i),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Ha(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),ro(t,!1,c,r,h);break;case"backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Ha(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}ro(t,!0,r,null,h);break;case"together":ro(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function pn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ur|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,r=Kn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Wp(e,t,r){switch(t.tag){case 3:id(t),Mr();break;case 5:jc(t);break;case 1:vt(t.type)&&Oa(t);break;case 4:Dl(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;Le(Ua,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Le(Ae,Ae.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?od(e,t,r):(Le(Ae,Ae.current&1),e=pn(e,t,r),e!==null?e.sibling:null);Le(Ae,Ae.current&1);break;case 19:if(i=(r&t.childLanes)!==0,(e.flags&128)!==0){if(i)return cd(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Le(Ae,Ae.current),i)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,r)}return pn(e,t,r)}var dd,so,fd,hd;dd=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},so=function(){},fd=function(e,t,r,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,lr(Yt.current);var h=null;switch(r){case"input":c=nn(e,c),i=nn(e,i),h=[];break;case"select":c=Y({},c,{value:void 0}),i=Y({},i,{value:void 0}),h=[];break;case"textarea":c=vr(e,c),i=vr(e,i),h=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ra)}wn(r,i);var g;r=null;for(A in c)if(!i.hasOwnProperty(A)&&c.hasOwnProperty(A)&&c[A]!=null)if(A==="style"){var w=c[A];for(g in w)w.hasOwnProperty(g)&&(r||(r={}),r[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(u.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in i){var b=i[A];if(w=c!=null?c[A]:void 0,i.hasOwnProperty(A)&&b!==w&&(b!=null||w!=null))if(A==="style")if(w){for(g in w)!w.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(r||(r={}),r[g]="");for(g in b)b.hasOwnProperty(g)&&w[g]!==b[g]&&(r||(r={}),r[g]=b[g])}else r||(h||(h=[]),h.push(A,r)),r=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(h=h||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(h=h||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(u.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&Re("scroll",e),h||w===b||(h=[])):(h=h||[]).push(A,b))}r&&(h=h||[]).push("style",r);var A=h;(t.updateQueue=A)&&(t.flags|=4)}},hd=function(e,t,r,i){r!==i&&(t.flags|=4)};function _s(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function lt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function qp(e,t,r){var i=t.pendingProps;switch(Cl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(t),null;case 1:return vt(t.type)&&Ma(),lt(t),null;case 3:return i=t.stateNode,_r(),Ie(gt),Ie(at),$l(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Fa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$t!==null&&(go($t),$t=null))),so(e,t),lt(t),null;case 5:_l(t);var c=lr(Is.current);if(r=t.type,e!==null&&t.stateNode!=null)fd(e,t,r,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(a(166));return lt(t),null}if(e=lr(Yt.current),Fa(t)){i=t.stateNode,r=t.type;var h=t.memoizedProps;switch(i[Qt]=t,i[Es]=h,e=(t.mode&1)!==0,r){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(c=0;c<js.length;c++)Re(js[c],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Yn(i,h),Re("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},Re("invalid",i);break;case"textarea":sn(i,h),Re("invalid",i)}wn(r,h),c=null;for(var g in h)if(h.hasOwnProperty(g)){var w=h[g];g==="children"?typeof w=="string"?i.textContent!==w&&(h.suppressHydrationWarning!==!0&&La(i.textContent,w,e),c=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(h.suppressHydrationWarning!==!0&&La(i.textContent,w,e),c=["children",""+w]):u.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Re("scroll",i)}switch(r){case"input":mt(i),te(i,h,!0);break;case"textarea":mt(i),ct(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Ra)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=yr(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(r,{is:i.is}):(e=g.createElement(r),r==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,r),e[Qt]=t,e[Es]=i,dd(e,t,!1,!1),t.stateNode=e;e:{switch(g=rt(r,i),r){case"dialog":Re("cancel",e),Re("close",e),c=i;break;case"iframe":case"object":case"embed":Re("load",e),c=i;break;case"video":case"audio":for(c=0;c<js.length;c++)Re(js[c],e);c=i;break;case"source":Re("error",e),c=i;break;case"img":case"image":case"link":Re("error",e),Re("load",e),c=i;break;case"details":Re("toggle",e),c=i;break;case"input":Yn(e,i),c=nn(e,i),Re("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=Y({},i,{value:void 0}),Re("invalid",e);break;case"textarea":sn(e,i),c=vr(e,i),Re("invalid",e);break;default:c=i}wn(r,c),w=c;for(h in w)if(w.hasOwnProperty(h)){var b=w[h];h==="style"?rs(e,b):h==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&ns(e,b)):h==="children"?typeof b=="string"?(r!=="textarea"||b!=="")&&Sn(e,b):typeof b=="number"&&Sn(e,""+b):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(u.hasOwnProperty(h)?b!=null&&h==="onScroll"&&Re("scroll",e):b!=null&&U(e,h,b,g))}switch(r){case"input":mt(e),te(e,i,!1);break;case"textarea":mt(e),ct(e);break;case"option":i.value!=null&&e.setAttribute("value",""+je(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?Xe(e,!!i.multiple,h,!1):i.defaultValue!=null&&Xe(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ra)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return lt(t),null;case 6:if(e&&t.stateNode!=null)hd(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(a(166));if(r=lr(Is.current),lr(Yt.current),Fa(t)){if(i=t.stateNode,r=t.memoizedProps,i[Qt]=t,(h=i.nodeValue!==r)&&(e=Nt,e!==null))switch(e.tag){case 3:La(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&La(i.nodeValue,r,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Qt]=t,t.stateNode=i}return lt(t),null;case 13:if(Ie(Ae),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Oe&&jt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)gc(),Mr(),t.flags|=98560,h=!1;else if(h=Fa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Qt]=t}else Mr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;lt(t),h=!1}else $t!==null&&(go($t),$t=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ae.current&1)!==0?Ve===0&&(Ve=3):xo())),t.updateQueue!==null&&(t.flags|=4),lt(t),null);case 4:return _r(),so(e,t),e===null&&bs(t.stateNode.containerInfo),lt(t),null;case 10:return Il(t.type._context),lt(t),null;case 17:return vt(t.type)&&Ma(),lt(t),null;case 19:if(Ie(Ae),h=t.memoizedState,h===null)return lt(t),null;if(i=(t.flags&128)!==0,g=h.rendering,g===null)if(i)_s(h,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ha(e),g!==null){for(t.flags|=128,_s(h,!1),i=g.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)h=r,e=i,h.flags&=14680066,g=h.alternate,g===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=g.childLanes,h.lanes=g.lanes,h.child=g.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=g.memoizedProps,h.memoizedState=g.memoizedState,h.updateQueue=g.updateQueue,h.type=g.type,e=g.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Le(Ae,Ae.current&1|2),t.child}e=e.sibling}h.tail!==null&&be()>Kr&&(t.flags|=128,i=!0,_s(h,!1),t.lanes=4194304)}else{if(!i)if(e=Ha(g),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_s(h,!0),h.tail===null&&h.tailMode==="hidden"&&!g.alternate&&!Oe)return lt(t),null}else 2*be()-h.renderingStartTime>Kr&&r!==1073741824&&(t.flags|=128,i=!0,_s(h,!1),t.lanes=4194304);h.isBackwards?(g.sibling=t.child,t.child=g):(r=h.last,r!==null?r.sibling=g:t.child=g,h.last=g)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=be(),t.sibling=null,r=Ae.current,Le(Ae,i?r&1|2:r&1),t):(lt(t),null);case 22:case 23:return yo(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(bt&1073741824)!==0&&(lt(t),t.subtreeFlags&6&&(t.flags|=8192)):lt(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function Jp(e,t){switch(Cl(t),t.tag){case 1:return vt(t.type)&&Ma(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _r(),Ie(gt),Ie(at),$l(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _l(t),null;case 13:if(Ie(Ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Ae),null;case 4:return _r(),null;case 10:return Il(t.type._context),null;case 22:case 23:return yo(),null;case 24:return null;default:return null}}var Za=!1,ot=!1,Qp=typeof WeakSet=="function"?WeakSet:Set,re=null;function $r(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Fe(e,t,i)}else r.current=null}function ao(e,t,r){try{r()}catch(i){Fe(e,t,i)}}var pd=!1;function Yp(e,t){if(vl=xa,e=Wu(),ul(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var c=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,w=-1,b=-1,A=0,J=0,Q=e,W=null;t:for(;;){for(var ne;Q!==r||c!==0&&Q.nodeType!==3||(w=g+c),Q!==h||i!==0&&Q.nodeType!==3||(b=g+i),Q.nodeType===3&&(g+=Q.nodeValue.length),(ne=Q.firstChild)!==null;)W=Q,Q=ne;for(;;){if(Q===e)break t;if(W===r&&++A===c&&(w=g),W===h&&++J===i&&(b=g),(ne=Q.nextSibling)!==null)break;Q=W,W=Q.parentNode}Q=ne}r=w===-1||b===-1?null:{start:w,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(yl={focusedElem:e,selectionRange:r},xa=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var le=se.memoizedProps,$e=se.memoizedState,I=t.stateNode,C=I.getSnapshotBeforeUpdate(t.elementType===t.type?le:Ut(t.type,le),$e);I.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(G){Fe(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return se=pd,pd=!1,se}function Fs(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&ao(t,r,h)}c=c.next}while(c!==i)}}function ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function io(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Es],delete t[wl],delete t[Ip],delete t[Mp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ra));else if(i!==4&&(e=e.child,e!==null))for(lo(e,t,r),e=e.sibling;e!==null;)lo(e,t,r),e=e.sibling}function oo(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(oo(e,t,r),e=e.sibling;e!==null;)oo(e,t,r),e=e.sibling}var Ze=null,Kt=!1;function Dn(e,t,r){for(r=r.child;r!==null;)yd(e,t,r),r=r.sibling}function yd(e,t,r){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(ha,r)}catch{}switch(r.tag){case 5:ot||$r(r,t);case 6:var i=Ze,c=Kt;Ze=null,Dn(e,t,r),Ze=i,Kt=c,Ze!==null&&(Kt?(e=Ze,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ze.removeChild(r.stateNode));break;case 18:Ze!==null&&(Kt?(e=Ze,r=r.stateNode,e.nodeType===8?Sl(e.parentNode,r):e.nodeType===1&&Sl(e,r),gs(e)):Sl(Ze,r.stateNode));break;case 4:i=Ze,c=Kt,Ze=r.stateNode.containerInfo,Kt=!0,Dn(e,t,r),Ze=i,Kt=c;break;case 0:case 11:case 14:case 15:if(!ot&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var h=c,g=h.destroy;h=h.tag,g!==void 0&&((h&2)!==0||(h&4)!==0)&&ao(r,t,g),c=c.next}while(c!==i)}Dn(e,t,r);break;case 1:if(!ot&&($r(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(w){Fe(r,t,w)}Dn(e,t,r);break;case 21:Dn(e,t,r);break;case 22:r.mode&1?(ot=(i=ot)||r.memoizedState!==null,Dn(e,t,r),ot=i):Dn(e,t,r);break;default:Dn(e,t,r)}}function xd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Qp),t.forEach(function(i){var c=am.bind(null,e,i);r.has(i)||(r.add(i),i.then(c,c))})}}function zt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];try{var h=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:Ze=w.stateNode,Kt=!1;break e;case 3:Ze=w.stateNode.containerInfo,Kt=!0;break e;case 4:Ze=w.stateNode.containerInfo,Kt=!0;break e}w=w.return}if(Ze===null)throw Error(a(160));yd(h,g,c),Ze=null,Kt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(A){Fe(c,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kd(t,e),t=t.sibling}function kd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Xt(e),i&4){try{Fs(3,e,e.return),ei(3,e)}catch(le){Fe(e,e.return,le)}try{Fs(5,e,e.return)}catch(le){Fe(e,e.return,le)}}break;case 1:zt(t,e),Xt(e),i&512&&r!==null&&$r(r,r.return);break;case 5:if(zt(t,e),Xt(e),i&512&&r!==null&&$r(r,r.return),e.flags&32){var c=e.stateNode;try{Sn(c,"")}catch(le){Fe(e,e.return,le)}}if(i&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,g=r!==null?r.memoizedProps:h,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&h.type==="radio"&&h.name!=null&&rn(c,h),rt(w,g);var A=rt(w,h);for(g=0;g<b.length;g+=2){var J=b[g],Q=b[g+1];J==="style"?rs(c,Q):J==="dangerouslySetInnerHTML"?ns(c,Q):J==="children"?Sn(c,Q):U(c,J,Q,A)}switch(w){case"input":Wt(c,h);break;case"textarea":ts(c,h);break;case"select":var W=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var ne=h.value;ne!=null?Xe(c,!!h.multiple,ne,!1):W!==!!h.multiple&&(h.defaultValue!=null?Xe(c,!!h.multiple,h.defaultValue,!0):Xe(c,!!h.multiple,h.multiple?[]:"",!1))}c[Es]=h}catch(le){Fe(e,e.return,le)}}break;case 6:if(zt(t,e),Xt(e),i&4){if(e.stateNode===null)throw Error(a(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(le){Fe(e,e.return,le)}}break;case 3:if(zt(t,e),Xt(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(le){Fe(e,e.return,le)}break;case 4:zt(t,e),Xt(e);break;case 13:zt(t,e),Xt(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(fo=be())),i&4&&xd(e);break;case 22:if(J=r!==null&&r.memoizedState!==null,e.mode&1?(ot=(A=ot)||J,zt(t,e),ot=A):zt(t,e),Xt(e),i&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!J&&(e.mode&1)!==0)for(re=e,J=e.child;J!==null;){for(Q=re=J;re!==null;){switch(W=re,ne=W.child,W.tag){case 0:case 11:case 14:case 15:Fs(4,W,W.return);break;case 1:$r(W,W.return);var se=W.stateNode;if(typeof se.componentWillUnmount=="function"){i=W,r=W.return;try{t=i,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(le){Fe(i,r,le)}}break;case 5:$r(W,W.return);break;case 22:if(W.memoizedState!==null){Nd(Q);continue}}ne!==null?(ne.return=W,re=ne):Nd(Q)}J=J.sibling}e:for(J=null,Q=e;;){if(Q.tag===5){if(J===null){J=Q;try{c=Q.stateNode,A?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(w=Q.stateNode,b=Q.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=aa("display",g))}catch(le){Fe(e,e.return,le)}}}else if(Q.tag===6){if(J===null)try{Q.stateNode.nodeValue=A?"":Q.memoizedProps}catch(le){Fe(e,e.return,le)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===e)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===e)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===e)break e;J===Q&&(J=null),Q=Q.return}J===Q&&(J=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:zt(t,e),Xt(e),i&4&&xd(e);break;case 21:break;default:zt(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gd(r)){var i=r;break e}r=r.return}throw Error(a(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(Sn(c,""),i.flags&=-33);var h=vd(e);oo(e,h,c);break;case 3:case 4:var g=i.stateNode.containerInfo,w=vd(e);lo(e,w,g);break;default:throw Error(a(161))}}catch(b){Fe(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gp(e,t,r){re=e,Sd(e)}function Sd(e,t,r){for(var i=(e.mode&1)!==0;re!==null;){var c=re,h=c.child;if(c.tag===22&&i){var g=c.memoizedState!==null||Za;if(!g){var w=c.alternate,b=w!==null&&w.memoizedState!==null||ot;w=Za;var A=ot;if(Za=g,(ot=b)&&!A)for(re=c;re!==null;)g=re,b=g.child,g.tag===22&&g.memoizedState!==null?jd(c):b!==null?(b.return=g,re=b):jd(c);for(;h!==null;)re=h,Sd(h),h=h.sibling;re=c,Za=w,ot=A}wd(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,re=h):wd(e)}}function wd(e){for(;re!==null;){var t=re;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:ot||ei(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!ot)if(r===null)i.componentDidMount();else{var c=t.elementType===t.type?r.memoizedProps:Ut(t.type,r.memoizedProps);i.componentDidUpdate(c,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&Nc(t,h,i);break;case 3:var g=t.updateQueue;if(g!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Nc(t,g,r)}break;case 5:var w=t.stateNode;if(r===null&&t.flags&4){r=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&r.focus();break;case"img":b.src&&(r.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var J=A.memoizedState;if(J!==null){var Q=J.dehydrated;Q!==null&&gs(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}ot||t.flags&512&&io(t)}catch(W){Fe(t,t.return,W)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Nd(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function jd(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ei(4,t)}catch(b){Fe(t,r,b)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(b){Fe(t,c,b)}}var h=t.return;try{io(t)}catch(b){Fe(t,h,b)}break;case 5:var g=t.return;try{io(t)}catch(b){Fe(t,g,b)}}}catch(b){Fe(t,t.return,b)}if(t===e){re=null;break}var w=t.sibling;if(w!==null){w.return=t.return,re=w;break}re=t.return}}var Xp=Math.ceil,ti=D.ReactCurrentDispatcher,uo=D.ReactCurrentOwner,It=D.ReactCurrentBatchConfig,Ce=0,Qe=null,Ke=null,et=0,bt=0,Ur=Rn(0),Ve=0,$s=null,ur=0,ni=0,co=0,Us=null,xt=null,fo=0,Kr=1/0,mn=null,ri=!1,ho=null,_n=null,si=!1,Fn=null,ai=0,Ks=0,po=null,ii=-1,li=0;function pt(){return(Ce&6)!==0?be():ii!==-1?ii:ii=be()}function $n(e){return(e.mode&1)===0?1:(Ce&2)!==0&&et!==0?et&-et:Ap.transition!==null?(li===0&&(li=vu()),li):(e=Te,e!==0||(e=window.event,e=e===void 0?16:Cu(e.type)),e)}function Bt(e,t,r,i){if(50<Ks)throw Ks=0,po=null,Error(a(185));ds(e,r,i),((Ce&2)===0||e!==Qe)&&(e===Qe&&((Ce&2)===0&&(ni|=r),Ve===4&&Un(e,et)),kt(e,i),r===1&&Ce===0&&(t.mode&1)===0&&(Kr=be()+500,Aa&&Mn()))}function kt(e,t){var r=e.callbackNode;Ah(e,t);var i=ga(e,e===Qe?et:0);if(i===0)r!==null&&ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&ke(r),t===1)e.tag===0?Op(Cd.bind(null,e)):dc(Cd.bind(null,e)),Lp(function(){(Ce&6)===0&&Mn()}),r=null;else{switch(yu(i)){case 1:r=ft;break;case 4:r=da;break;case 16:r=fa;break;case 536870912:r=gu;break;default:r=fa}r=Od(r,bd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function bd(e,t){if(ii=-1,li=0,(Ce&6)!==0)throw Error(a(327));var r=e.callbackNode;if(zr()&&e.callbackNode!==r)return null;var i=ga(e,e===Qe?et:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=oi(e,i);else{t=i;var c=Ce;Ce|=2;var h=Td();(Qe!==e||et!==t)&&(mn=null,Kr=be()+500,dr(e,t));do try{tm();break}catch(w){Ed(e,w)}while(!0);Rl(),ti.current=h,Ce=c,Ke!==null?t=0:(Qe=null,et=0,t=Ve)}if(t!==0){if(t===2&&(c=qi(e),c!==0&&(i=c,t=mo(e,c))),t===1)throw r=$s,dr(e,0),Un(e,i),kt(e,be()),r;if(t===6)Un(e,i);else{if(c=e.current.alternate,(i&30)===0&&!Zp(c)&&(t=oi(e,i),t===2&&(h=qi(e),h!==0&&(i=h,t=mo(e,h))),t===1))throw r=$s,dr(e,0),Un(e,i),kt(e,be()),r;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:fr(e,xt,mn);break;case 3:if(Un(e,i),(i&130023424)===i&&(t=fo+500-be(),10<t)){if(ga(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){pt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=kl(fr.bind(null,e,xt,mn),t);break}fr(e,xt,mn);break;case 4:if(Un(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var g=31-_t(i);h=1<<g,g=t[g],g>c&&(c=g),i&=~h}if(i=c,i=be()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Xp(i/1960))-i,10<i){e.timeoutHandle=kl(fr.bind(null,e,xt,mn),i);break}fr(e,xt,mn);break;case 5:fr(e,xt,mn);break;default:throw Error(a(329))}}}return kt(e,be()),e.callbackNode===r?bd.bind(null,e):null}function mo(e,t){var r=Us;return e.current.memoizedState.isDehydrated&&(dr(e,t).flags|=256),e=oi(e,t),e!==2&&(t=xt,xt=r,t!==null&&go(t)),e}function go(e){xt===null?xt=e:xt.push.apply(xt,e)}function Zp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var c=r[i],h=c.getSnapshot;c=c.value;try{if(!Ft(h(),c))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Un(e,t){for(t&=~co,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-_t(t),i=1<<r;e[r]=-1,t&=~i}}function Cd(e){if((Ce&6)!==0)throw Error(a(327));zr();var t=ga(e,0);if((t&1)===0)return kt(e,be()),null;var r=oi(e,t);if(e.tag!==0&&r===2){var i=qi(e);i!==0&&(t=i,r=mo(e,i))}if(r===1)throw r=$s,dr(e,0),Un(e,t),kt(e,be()),r;if(r===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fr(e,xt,mn),kt(e,be()),null}function vo(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Kr=be()+500,Aa&&Mn())}}function cr(e){Fn!==null&&Fn.tag===0&&(Ce&6)===0&&zr();var t=Ce;Ce|=1;var r=It.transition,i=Te;try{if(It.transition=null,Te=1,e)return e()}finally{Te=i,It.transition=r,Ce=t,(Ce&6)===0&&Mn()}}function yo(){bt=Ur.current,Ie(Ur)}function dr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pp(r)),Ke!==null)for(r=Ke.return;r!==null;){var i=r;switch(Cl(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ma();break;case 3:_r(),Ie(gt),Ie(at),$l();break;case 5:_l(i);break;case 4:_r();break;case 13:Ie(Ae);break;case 19:Ie(Ae);break;case 10:Il(i.type._context);break;case 22:case 23:yo()}r=r.return}if(Qe=e,Ke=e=Kn(e.current,null),et=bt=t,Ve=0,$s=null,co=ni=ur=0,xt=Us=null,ir!==null){for(t=0;t<ir.length;t++)if(r=ir[t],i=r.interleaved,i!==null){r.interleaved=null;var c=i.next,h=r.pending;if(h!==null){var g=h.next;h.next=c,i.next=g}r.pending=i}ir=null}return e}function Ed(e,t){do{var r=Ke;try{if(Rl(),Va.current=Qa,Wa){for(var i=De.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}Wa=!1}if(or=0,Je=He=De=null,Ms=!1,Os=0,uo.current=null,r===null||r.return===null){Ve=1,$s=t,Ke=null;break}e:{var h=e,g=r.return,w=r,b=t;if(t=et,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,J=w,Q=J.tag;if((J.mode&1)===0&&(Q===0||Q===11||Q===15)){var W=J.alternate;W?(J.updateQueue=W.updateQueue,J.memoizedState=W.memoizedState,J.lanes=W.lanes):(J.updateQueue=null,J.memoizedState=null)}var ne=Xc(g);if(ne!==null){ne.flags&=-257,Zc(ne,g,w,h,t),ne.mode&1&&Gc(h,A,t),t=ne,b=A;var se=t.updateQueue;if(se===null){var le=new Set;le.add(b),t.updateQueue=le}else se.add(b);break e}else{if((t&1)===0){Gc(h,A,t),xo();break e}b=Error(a(426))}}else if(Oe&&w.mode&1){var $e=Xc(g);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Zc($e,g,w,h,t),Pl(Fr(b,w));break e}}h=b=Fr(b,w),Ve!==4&&(Ve=2),Us===null?Us=[h]:Us.push(h),h=g;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var I=Qc(h,b,t);wc(h,I);break e;case 1:w=b;var C=h.type,M=h.stateNode;if((h.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(_n===null||!_n.has(M)))){h.flags|=65536,t&=-t,h.lanes|=t;var G=Yc(h,w,t);wc(h,G);break e}}h=h.return}while(h!==null)}Ld(r)}catch(ue){t=ue,Ke===r&&r!==null&&(Ke=r=r.return);continue}break}while(!0)}function Td(){var e=ti.current;return ti.current=Qa,e===null?Qa:e}function xo(){(Ve===0||Ve===3||Ve===2)&&(Ve=4),Qe===null||(ur&268435455)===0&&(ni&268435455)===0||Un(Qe,et)}function oi(e,t){var r=Ce;Ce|=2;var i=Td();(Qe!==e||et!==t)&&(mn=null,dr(e,t));do try{em();break}catch(c){Ed(e,c)}while(!0);if(Rl(),Ce=r,ti.current=i,Ke!==null)throw Error(a(261));return Qe=null,et=0,Ve}function em(){for(;Ke!==null;)Pd(Ke)}function tm(){for(;Ke!==null&&!qe();)Pd(Ke)}function Pd(e){var t=Md(e.alternate,e,bt);e.memoizedProps=e.pendingProps,t===null?Ld(e):Ke=t,uo.current=null}function Ld(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=qp(r,t,bt),r!==null){Ke=r;return}}else{if(r=Jp(r,t),r!==null){r.flags&=32767,Ke=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ve=6,Ke=null;return}}if(t=t.sibling,t!==null){Ke=t;return}Ke=t=e}while(t!==null);Ve===0&&(Ve=5)}function fr(e,t,r){var i=Te,c=It.transition;try{It.transition=null,Te=1,nm(e,t,r,i)}finally{It.transition=c,Te=i}return null}function nm(e,t,r,i){do zr();while(Fn!==null);if((Ce&6)!==0)throw Error(a(327));r=e.finishedWork;var c=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var h=r.lanes|r.childLanes;if(Dh(e,h),e===Qe&&(Ke=Qe=null,et=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||si||(si=!0,Od(fa,function(){return zr(),null})),h=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||h){h=It.transition,It.transition=null;var g=Te;Te=1;var w=Ce;Ce|=4,uo.current=null,Yp(e,r),kd(r,e),wp(yl),xa=!!vl,yl=vl=null,e.current=r,Gp(r),Et(),Ce=w,Te=g,It.transition=h}else e.current=r;if(si&&(si=!1,Fn=e,ai=c),h=e.pendingLanes,h===0&&(_n=null),Lh(r.stateNode),kt(e,be()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)c=t[r],i(c.value,{componentStack:c.stack,digest:c.digest});if(ri)throw ri=!1,e=ho,ho=null,e;return(ai&1)!==0&&e.tag!==0&&zr(),h=e.pendingLanes,(h&1)!==0?e===po?Ks++:(Ks=0,po=e):Ks=0,Mn(),null}function zr(){if(Fn!==null){var e=yu(ai),t=It.transition,r=Te;try{if(It.transition=null,Te=16>e?16:e,Fn===null)var i=!1;else{if(e=Fn,Fn=null,ai=0,(Ce&6)!==0)throw Error(a(331));var c=Ce;for(Ce|=4,re=e.current;re!==null;){var h=re,g=h.child;if((re.flags&16)!==0){var w=h.deletions;if(w!==null){for(var b=0;b<w.length;b++){var A=w[b];for(re=A;re!==null;){var J=re;switch(J.tag){case 0:case 11:case 15:Fs(8,J,h)}var Q=J.child;if(Q!==null)Q.return=J,re=Q;else for(;re!==null;){J=re;var W=J.sibling,ne=J.return;if(md(J),J===A){re=null;break}if(W!==null){W.return=ne,re=W;break}re=ne}}}var se=h.alternate;if(se!==null){var le=se.child;if(le!==null){se.child=null;do{var $e=le.sibling;le.sibling=null,le=$e}while(le!==null)}}re=h}}if((h.subtreeFlags&2064)!==0&&g!==null)g.return=h,re=g;else e:for(;re!==null;){if(h=re,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Fs(9,h,h.return)}var I=h.sibling;if(I!==null){I.return=h.return,re=I;break e}re=h.return}}var C=e.current;for(re=C;re!==null;){g=re;var M=g.child;if((g.subtreeFlags&2064)!==0&&M!==null)M.return=g,re=M;else e:for(g=C;re!==null;){if(w=re,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ei(9,w)}}catch(ue){Fe(w,w.return,ue)}if(w===g){re=null;break e}var G=w.sibling;if(G!==null){G.return=w.return,re=G;break e}re=w.return}}if(Ce=c,Mn(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(ha,e)}catch{}i=!0}return i}finally{Te=r,It.transition=t}}return!1}function Rd(e,t,r){t=Fr(r,t),t=Qc(e,t,1),e=An(e,t,1),t=pt(),e!==null&&(ds(e,1,t),kt(e,t))}function Fe(e,t,r){if(e.tag===3)Rd(e,e,r);else for(;t!==null;){if(t.tag===3){Rd(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_n===null||!_n.has(i))){e=Fr(r,e),e=Yc(t,e,1),t=An(t,e,1),e=pt(),t!==null&&(ds(t,1,e),kt(t,e));break}}t=t.return}}function rm(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=pt(),e.pingedLanes|=e.suspendedLanes&r,Qe===e&&(et&r)===r&&(Ve===4||Ve===3&&(et&130023424)===et&&500>be()-fo?dr(e,0):co|=r),kt(e,t)}function Id(e,t){t===0&&((e.mode&1)===0?t=1:(t=ma,ma<<=1,(ma&130023424)===0&&(ma=4194304)));var r=pt();e=fn(e,t),e!==null&&(ds(e,t,r),kt(e,r))}function sm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Id(e,r)}function am(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}i!==null&&i.delete(t),Id(e,r)}var Md;Md=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)yt=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return yt=!1,Wp(e,t,r);yt=(e.flags&131072)!==0}else yt=!1,Oe&&(t.flags&1048576)!==0&&fc(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xa(e,t),e=t.pendingProps;var c=Lr(t,at.current);Dr(t,r),c=zl(null,t,i,e,c,r);var h=Bl();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(i)?(h=!0,Oa(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Al(t),c.updater=Ya,t.stateNode=c,c._reactInternals=t,Ql(t,i,e,r),t=Zl(null,t,i,!0,h,r)):(t.tag=0,Oe&&h&&bl(t),ht(null,t,c,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=lm(i),e=Ut(i,e),c){case 0:t=Xl(null,t,i,e,r);break e;case 1:t=ad(null,t,i,e,r);break e;case 11:t=ed(null,t,i,e,r);break e;case 14:t=td(null,t,i,Ut(i.type,e),r);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),Xl(e,t,i,c,r);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),ad(e,t,i,c,r);case 3:e:{if(id(t),e===null)throw Error(a(387));i=t.pendingProps,h=t.memoizedState,c=h.element,Sc(e,t),Ba(t,i,null,r);var g=t.memoizedState;if(i=g.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=Fr(Error(a(423)),t),t=ld(e,t,i,r,c);break e}else if(i!==c){c=Fr(Error(a(424)),t),t=ld(e,t,i,r,c);break e}else for(jt=Ln(t.stateNode.containerInfo.firstChild),Nt=t,Oe=!0,$t=null,r=xc(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mr(),i===c){t=pn(e,t,r);break e}ht(e,t,i,r)}t=t.child}return t;case 5:return jc(t),e===null&&Tl(t),i=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,g=c.children,xl(i,c)?g=null:h!==null&&xl(i,h)&&(t.flags|=32),sd(e,t),ht(e,t,g,r),t.child;case 6:return e===null&&Tl(t),null;case 13:return od(e,t,r);case 4:return Dl(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Or(t,null,i,r):ht(e,t,i,r),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),ed(e,t,i,c,r);case 7:return ht(e,t,t.pendingProps,r),t.child;case 8:return ht(e,t,t.pendingProps.children,r),t.child;case 12:return ht(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,h=t.memoizedProps,g=c.value,Le(Ua,i._currentValue),i._currentValue=g,h!==null)if(Ft(h.value,g)){if(h.children===c.children&&!gt.current){t=pn(e,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var w=h.dependencies;if(w!==null){g=h.child;for(var b=w.firstContext;b!==null;){if(b.context===i){if(h.tag===1){b=hn(-1,r&-r),b.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var J=A.pending;J===null?b.next=b:(b.next=J.next,J.next=b),A.pending=b}}h.lanes|=r,b=h.alternate,b!==null&&(b.lanes|=r),Ml(h.return,r,t),w.lanes|=r;break}b=b.next}}else if(h.tag===10)g=h.type===t.type?null:h.child;else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,w=g.alternate,w!==null&&(w.lanes|=r),Ml(g,r,t),g=h.sibling}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}ht(e,t,c.children,r),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,Dr(t,r),c=Lt(c),i=i(c),t.flags|=1,ht(e,t,i,r),t.child;case 14:return i=t.type,c=Ut(i,t.pendingProps),c=Ut(i.type,c),td(e,t,i,c,r);case 15:return nd(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Ut(i,c),Xa(e,t),t.tag=1,vt(i)?(e=!0,Oa(t)):e=!1,Dr(t,r),qc(t,i,c),Ql(t,i,c,r),Zl(null,t,i,!0,e,r);case 19:return cd(e,t,r);case 22:return rd(e,t,r)}throw Error(a(156,t.tag))};function Od(e,t){return xe(e,t)}function im(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,r,i){return new im(e,t,r,i)}function ko(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lm(e){if(typeof e=="function")return ko(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===V)return 14}return 2}function Kn(e,t){var r=e.alternate;return r===null?(r=Mt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ui(e,t,r,i,c,h){var g=2;if(i=e,typeof e=="function")ko(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case K:return hr(r.children,c,h,t);case q:g=8,c|=8;break;case ae:return e=Mt(12,r,t,c|2),e.elementType=ae,e.lanes=h,e;case H:return e=Mt(13,r,t,c),e.elementType=H,e.lanes=h,e;case ee:return e=Mt(19,r,t,c),e.elementType=ee,e.lanes=h,e;case Z:return ci(r,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:g=10;break e;case de:g=9;break e;case fe:g=11;break e;case V:g=14;break e;case P:g=16,i=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=Mt(g,r,t,c),t.elementType=e,t.type=i,t.lanes=h,t}function hr(e,t,r,i){return e=Mt(7,e,i,t),e.lanes=r,e}function ci(e,t,r,i){return e=Mt(22,e,i,t),e.elementType=Z,e.lanes=r,e.stateNode={isHidden:!1},e}function So(e,t,r){return e=Mt(6,e,null,t),e.lanes=r,e}function wo(e,t,r){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function om(e,t,r,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function No(e,t,r,i,c,h,g,w,b){return e=new om(e,t,r,w,b),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Mt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Al(h),e}function um(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Ad(e){if(!e)return In;e=e._reactInternals;e:{if(ln(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var r=e.type;if(vt(r))return uc(e,r,t)}return t}function Dd(e,t,r,i,c,h,g,w,b){return e=No(r,i,!0,e,c,h,g,w,b),e.context=Ad(null),r=e.current,i=pt(),c=$n(r),h=hn(i,c),h.callback=t??null,An(r,h,c),e.current.lanes=c,ds(e,c,i),kt(e,i),e}function di(e,t,r,i){var c=t.current,h=pt(),g=$n(c);return r=Ad(r),t.context===null?t.context=r:t.pendingContext=r,t=hn(h,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=An(c,t,g),e!==null&&(Bt(e,c,g,h),za(e,c,g)),g}function fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _d(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function jo(e,t){_d(e,t),(e=e.alternate)&&_d(e,t)}function cm(){return null}var Fd=typeof reportError=="function"?reportError:function(e){console.error(e)};function bo(e){this._internalRoot=e}hi.prototype.render=bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));di(e,t,null,null)},hi.prototype.unmount=bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cr(function(){di(null,e,null,null)}),t[on]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Su();e={blockedOn:null,target:e,priority:t};for(var r=0;r<En.length&&t!==0&&t<En[r].priority;r++);En.splice(r,0,e),r===0&&ju(e)}};function Co(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $d(){}function dm(e,t,r,i,c){if(c){if(typeof i=="function"){var h=i;i=function(){var A=fi(g);h.call(A)}}var g=Dd(t,i,e,0,null,!1,!1,"",$d);return e._reactRootContainer=g,e[on]=g.current,bs(e.nodeType===8?e.parentNode:e),cr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var w=i;i=function(){var A=fi(b);w.call(A)}}var b=No(e,0,!1,null,null,!1,!1,"",$d);return e._reactRootContainer=b,e[on]=b.current,bs(e.nodeType===8?e.parentNode:e),cr(function(){di(t,b,r,i)}),b}function mi(e,t,r,i,c){var h=r._reactRootContainer;if(h){var g=h;if(typeof c=="function"){var w=c;c=function(){var b=fi(g);w.call(b)}}di(t,g,e,c)}else g=dm(r,t,e,c,i);return fi(g)}xu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=cs(t.pendingLanes);r!==0&&(Qi(t,r|1),kt(t,be()),(Ce&6)===0&&(Kr=be()+500,Mn()))}break;case 13:cr(function(){var i=fn(e,1);if(i!==null){var c=pt();Bt(i,e,1,c)}}),jo(e,1)}},Yi=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var r=pt();Bt(t,e,134217728,r)}jo(e,134217728)}},ku=function(e){if(e.tag===13){var t=$n(e),r=fn(e,t);if(r!==null){var i=pt();Bt(r,e,t,i)}jo(e,t)}},Su=function(){return Te},wu=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}},an=function(e,t,r){switch(t){case"input":if(Wt(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var c=Ia(i);if(!c)throw Error(a(90));xn(i),Wt(i,c)}}}break;case"textarea":ts(e,r);break;case"select":t=r.value,t!=null&&Xe(e,!!r.multiple,t,!1)}},ss=vo,oa=cr;var fm={usingClientEntryPoint:!1,Events:[Ts,Tr,Ia,dt,la,vo]},zs={findFiberByHostInstance:nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hm={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qt(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||cm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{ha=gi.inject(hm),Jt=gi}catch{}}return St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fm,St.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Co(t))throw Error(a(200));return um(e,t,null,r)},St.createRoot=function(e,t){if(!Co(e))throw Error(a(299));var r=!1,i="",c=Fd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=No(e,1,!1,null,null,r,!1,i,c),e[on]=t.current,bs(e.nodeType===8?e.parentNode:e),new bo(t)},St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=qt(t),e=e===null?null:e.stateNode,e},St.flushSync=function(e){return cr(e)},St.hydrate=function(e,t,r){if(!pi(t))throw Error(a(200));return mi(null,e,t,!0,r)},St.hydrateRoot=function(e,t,r){if(!Co(e))throw Error(a(405));var i=r!=null&&r.hydratedSources||null,c=!1,h="",g=Fd;if(r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),t=Dd(t,null,e,1,r??null,c,!1,h,g),e[on]=t.current,bs(e),i)for(e=0;e<i.length;e++)r=i[e],c=r._getVersion,c=c(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,c]:t.mutableSourceEagerHydrationData.push(r,c);return new hi(t)},St.render=function(e,t,r){if(!pi(t))throw Error(a(200));return mi(null,e,t,!1,r)},St.unmountComponentAtNode=function(e){if(!pi(e))throw Error(a(40));return e._reactRootContainer?(cr(function(){mi(null,null,e,!1,function(){e._reactRootContainer=null,e[on]=null})}),!0):!1},St.unstable_batchedUpdates=vo,St.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!pi(r))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return mi(e,t,r,!1,i)},St.version="18.3.1-next-f1338f8080-20240426",St}var Jd;function Wf(){if(Jd)return Po.exports;Jd=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Po.exports=jm(),Po.exports}var Qd;function bm(){if(Qd)return vi;Qd=1;var s=Wf();return vi.createRoot=s.createRoot,vi.hydrateRoot=s.hydrateRoot,vi}var Cm=bm();const Em=ru(Cm);var Io,Yd;function Tm(){return Yd||(Yd=1,Io={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Io}var Pm=Tm();const Lm=ru(Pm);var Rm=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Gd(s){var n={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},a=s.match(/<\/?([^\s]+?)[/\s>]/);if(a&&(n.name=a[1],(Lm[a[1]]||s.charAt(s.length-2)==="/")&&(n.voidElement=!0),n.name.startsWith("!--"))){var o=s.indexOf("-->");return{type:"comment",comment:o!==-1?s.slice(4,o):""}}for(var u=new RegExp(Rm),d=null;(d=u.exec(s))!==null;)if(d[0].trim())if(d[1]){var f=d[1].trim(),m=[f,""];f.indexOf("=")>-1&&(m=f.split("=")),n.attrs[m[0]]=m[1],u.lastIndex--}else d[2]&&(n.attrs[d[2]]=d[3].trim().substring(1,d[3].length-1));return n}var Im=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Mm=/^\s*$/,Om=Object.create(null);function qf(s,n){switch(n.type){case"text":return s+n.content;case"tag":return s+="<"+n.name+(n.attrs?(function(a){var o=[];for(var u in a)o.push(u+'="'+a[u]+'"');return o.length?" "+o.join(" "):""})(n.attrs):"")+(n.voidElement?"/>":">"),n.voidElement?s:s+n.children.reduce(qf,"")+"</"+n.name+">";case"comment":return s+"<!--"+n.comment+"-->"}}var Am={parse:function(s,n){n||(n={}),n.components||(n.components=Om);var a,o=[],u=[],d=-1,f=!1;if(s.indexOf("<")!==0){var m=s.indexOf("<");o.push({type:"text",content:m===-1?s:s.substring(0,m)})}return s.replace(Im,function(p,v){if(f){if(p!=="</"+a.name+">")return;f=!1}var y,k=p.charAt(1)!=="/",S=p.startsWith("<!--"),j=v+p.length,T=s.charAt(j);if(S){var O=Gd(p);return d<0?(o.push(O),o):((y=u[d]).children.push(O),o)}if(k&&(d++,(a=Gd(p)).type==="tag"&&n.components[a.name]&&(a.type="component",f=!0),a.voidElement||f||!T||T==="<"||a.children.push({type:"text",content:s.slice(j,s.indexOf("<",j))}),d===0&&o.push(a),(y=u[d-1])&&y.children.push(a),u[d]=a),(!k||a.voidElement)&&(d>-1&&(a.voidElement||a.name===p.slice(2,-1))&&(d--,a=d===-1?o:u[d]),!f&&T!=="<"&&T)){y=d===-1?o:u[d].children;var N=s.indexOf("<",j),L=s.slice(j,N===-1?void 0:N);Mm.test(L)&&(L=" "),(N>-1&&d+y.length>=0||L!==" ")&&y.push({type:"text",content:L})}}),o},stringify:function(s){return s.reduce(function(n,a){return n+qf("",a)},"")}};const Ni=(s,n,a,o)=>{var d,f,m,p;const u=[a,{code:n,...o||{}}];if((f=(d=s==null?void 0:s.services)==null?void 0:d.logger)!=null&&f.forward)return s.services.logger.forward(u,"warn","react-i18next::",!0);At(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),(p=(m=s==null?void 0:s.services)==null?void 0:m.logger)!=null&&p.warn?s.services.logger.warn(...u):console!=null&&console.warn&&console.warn(...u)},Xd={},Gs=(s,n,a,o)=>{At(a)&&Xd[a]||(At(a)&&(Xd[a]=new Date),Ni(s,n,a,o))},Jf=(s,n)=>()=>{if(s.isInitialized)n();else{const a=()=>{setTimeout(()=>{s.off("initialized",a)},0),n()};s.on("initialized",a)}},Bo=(s,n,a)=>{s.loadNamespaces(n,Jf(s,a))},Zd=(s,n,a,o)=>{if(At(a)&&(a=[a]),s.options.preload&&s.options.preload.indexOf(n)>-1)return Bo(s,a,o);a.forEach(u=>{s.options.ns.indexOf(u)<0&&s.options.ns.push(u)}),s.loadLanguages(n,Jf(s,o))},Dm=(s,n,a={})=>!n.languages||!n.languages.length?(Gs(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(s,{lng:a.lng,precheck:(o,u)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!u(o.isLanguageChangingTo,s))return!1}}),At=s=>typeof s=="string",Hn=s=>typeof s=="object"&&s!==null,_m=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Fm={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},$m=s=>Fm[s],Um=s=>s.replace(_m,$m);let Ho={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Um};const Km=(s={})=>{Ho={...Ho,...s}},Qf=()=>Ho;let Yf;const zm=s=>{Yf=s},au=()=>Yf,Mo=(s,n)=>{var o;if(!s)return!1;const a=((o=s.props)==null?void 0:o.children)??s.children;return n?a.length>0:!!a},Oo=s=>{var a,o;if(!s)return[];const n=((a=s.props)==null?void 0:a.children)??s.children;return(o=s.props)!=null&&o.i18nIsDynamicList?qr(n):n},Bm=s=>Array.isArray(s)&&s.every(x.isValidElement),qr=s=>Array.isArray(s)?s:[s],Hm=(s,n)=>{const a={...n};return a.props=Object.assign(s.props,n.props),a},Gf=(s,n,a,o)=>{if(!s)return"";let u="";const d=qr(s),f=n!=null&&n.transSupportBasicHtmlNodes?n.transKeepBasicHtmlNodesFor??[]:[];return d.forEach((m,p)=>{if(At(m)){u+=`${m}`;return}if(x.isValidElement(m)){const{props:v,type:y}=m,k=Object.keys(v).length,S=f.indexOf(y)>-1,j=v.children;if(!j&&S&&!k){u+=`<${y}/>`;return}if(!j&&(!S||k)||v.i18nIsDynamicList){u+=`<${p}></${p}>`;return}if(S&&k===1&&At(j)){u+=`<${y}>${j}</${y}>`;return}const T=Gf(j,n,a,o);u+=`<${p}>${T}</${p}>`;return}if(m===null){Ni(a,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:o});return}if(Hn(m)){const{format:v,...y}=m,k=Object.keys(y);if(k.length===1){const S=v?`${k[0]}, ${v}`:k[0];u+=`{{${S}}}`;return}Ni(a,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:o,child:m});return}Ni(a,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:o,child:m})}),u},Vm=(s,n,a,o,u,d,f)=>{if(a==="")return[];const m=u.transKeepBasicHtmlNodesFor||[],p=a&&new RegExp(m.map(L=>`<${L}`).join("|")).test(a);if(!s&&!n&&!p&&!f)return[a];const v=n??{},y=L=>{qr(L).forEach(U=>{At(U)||(Mo(U)?y(Oo(U)):Hn(U)&&!x.isValidElement(U)&&Object.assign(v,U))})};y(s);const k=Am.parse(`<0>${a}</0>`),S={...v,...d},j=(L,_,U)=>{var B;const D=Oo(L),z=O(D,_.children,U);return Bm(D)&&z.length===0||(B=L.props)!=null&&B.i18nIsDynamicList?D:z},T=(L,_,U,D,z)=>{L.dummy?(L.children=_,U.push(x.cloneElement(L,{key:D},z?void 0:_))):U.push(...x.Children.map([L],B=>{const K={...B.props};return delete K.i18nIsDynamicList,x.createElement(B.type,{...K,key:D,ref:B.props.ref??B.ref},z?null:_)}))},O=(L,_,U)=>{const D=qr(L);return qr(_).reduce((B,K,q)=>{var ie,de;const ae=((de=(ie=K.children)==null?void 0:ie[0])==null?void 0:de.content)&&o.services.interpolator.interpolate(K.children[0].content,S,o.language);if(K.type==="tag"){let fe=D[parseInt(K.name,10)];!fe&&n&&(fe=n[K.name]),U.length===1&&!fe&&(fe=U[0][K.name]),fe||(fe={});const H=Object.keys(K.attrs).length!==0?Hm({props:K.attrs},fe):fe,ee=x.isValidElement(H),V=ee&&Mo(K,!0)&&!K.voidElement,P=p&&Hn(H)&&H.dummy&&!ee,Z=Hn(n)&&Object.hasOwnProperty.call(n,K.name);if(At(H)){const $=o.services.interpolator.interpolate(H,S,o.language);B.push($)}else if(Mo(H)||V){const $=j(H,K,U);T(H,$,B,q)}else if(P){const $=O(D,K.children,U);T(H,$,B,q)}else if(Number.isNaN(parseFloat(K.name)))if(Z){const $=j(H,K,U);T(H,$,B,q,K.voidElement)}else if(u.transSupportBasicHtmlNodes&&m.indexOf(K.name)>-1)if(K.voidElement)B.push(x.createElement(K.name,{key:`${K.name}-${q}`}));else{const $=O(D,K.children,U);B.push(x.createElement(K.name,{key:`${K.name}-${q}`},$))}else if(K.voidElement)B.push(`<${K.name} />`);else{const $=O(D,K.children,U);B.push(`<${K.name}>${$}</${K.name}>`)}else if(Hn(H)&&!ee){const $=K.children[0]?ae:null;$&&B.push($)}else T(H,ae,B,q,K.children.length!==1||!ae)}else if(K.type==="text"){const fe=u.transWrapTextNodes,H=f?u.unescape(o.services.interpolator.interpolate(K.content,S,o.language)):o.services.interpolator.interpolate(K.content,S,o.language);fe?B.push(x.createElement(fe,{key:`${K.name}-${q}`},H)):B.push(H)}return B},[])},N=O([{dummy:!0,children:s||[]}],k,qr(s||[]));return Oo(N[0])},Xf=(s,n,a)=>{const o=s.key||n,u=x.cloneElement(s,{key:o});if(!u.props||!u.props.children||a.indexOf(`${n}/>`)<0&&a.indexOf(`${n} />`)<0)return u;function d(){return x.createElement(x.Fragment,null,u)}return x.createElement(d,{key:o})},Wm=(s,n)=>s.map((a,o)=>Xf(a,o,n)),qm=(s,n)=>{const a={};return Object.keys(s).forEach(o=>{Object.assign(a,{[o]:Xf(s[o],o,n)})}),a},Jm=(s,n,a,o)=>s?Array.isArray(s)?Wm(s,n):Hn(s)?qm(s,n):(Gs(a,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:o}),null):null,Qm=s=>!Hn(s)||Array.isArray(s)?!1:Object.keys(s).reduce((n,a)=>n&&Number.isNaN(Number.parseFloat(a)),!0);function Ym({children:s,count:n,parent:a,i18nKey:o,context:u,tOptions:d={},values:f,defaults:m,components:p,ns:v,i18n:y,t:k,shouldUnescape:S,...j}){var ee,V,P,Z,$,X;const T=y||au();if(!T)return Gs(T,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:o}),s;const O=k||T.t.bind(T)||(Y=>Y),N={...Qf(),...(ee=T.options)==null?void 0:ee.react};let L=v||O.ns||((V=T.options)==null?void 0:V.defaultNS);L=At(L)?[L]:L||["translation"];const _=Gf(s,N,T,o),U=m||_||N.transEmptyNodeValue||o,{hashTransKey:D}=N,z=o||(D?D(_||U):_||U);(Z=(P=T.options)==null?void 0:P.interpolation)!=null&&Z.defaultVariables&&(f=f&&Object.keys(f).length>0?{...f,...T.options.interpolation.defaultVariables}:{...T.options.interpolation.defaultVariables});const B=f||n!==void 0&&!((X=($=T.options)==null?void 0:$.interpolation)!=null&&X.alwaysFormat)||!s?d.interpolation:{interpolation:{...d.interpolation,prefix:"#$?",suffix:"?$#"}},K={...d,context:u||d.context,count:n,...f,...B,defaultValue:U,ns:L},q=z?O(z,K):U,ae=Jm(p,q,T,o);let ie=ae||s,de=null;Qm(ae)&&(de=ae,ie=s);const fe=Vm(ie,de,q,T,N,K,S),H=a??N.defaultTransParent;return H?x.createElement(H,j,fe):fe}const Gm={type:"3rdParty",init(s){Km(s.options.react),zm(s)}},Zf=x.createContext();class Xm{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function Zm({children:s,count:n,parent:a,i18nKey:o,context:u,tOptions:d={},values:f,defaults:m,components:p,ns:v,i18n:y,t:k,shouldUnescape:S,...j}){var _;const{i18n:T,defaultNS:O}=x.useContext(Zf)||{},N=y||T||au(),L=k||(N==null?void 0:N.t.bind(N));return Ym({children:s,count:n,parent:a,i18nKey:o,context:u,tOptions:d,values:f,defaults:m,components:p,ns:v||(L==null?void 0:L.ns)||O||((_=N==null?void 0:N.options)==null?void 0:_.defaultNS),i18n:N,t:k,shouldUnescape:S,...j})}const eg=(s,n)=>{const a=x.useRef();return x.useEffect(()=>{a.current=s},[s,n]),a.current},eh=(s,n,a,o)=>s.getFixedT(n,a,o),tg=(s,n,a,o)=>x.useCallback(eh(s,n,a,o),[s,n,a,o]),Me=(s,n={})=>{var D,z,B,K;const{i18n:a}=n,{i18n:o,defaultNS:u}=x.useContext(Zf)||{},d=a||o||au();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new Xm),!d){Gs(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const q=(ie,de)=>At(de)?de:Hn(de)&&At(de.defaultValue)?de.defaultValue:Array.isArray(ie)?ie[ie.length-1]:ie,ae=[q,{},!1];return ae.t=q,ae.i18n={},ae.ready=!1,ae}(D=d.options.react)!=null&&D.wait&&Gs(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...Qf(),...d.options.react,...n},{useSuspense:m,keyPrefix:p}=f;let v=s||u||((z=d.options)==null?void 0:z.defaultNS);v=At(v)?[v]:v||["translation"],(K=(B=d.reportNamespaces).addUsedNamespaces)==null||K.call(B,v);const y=(d.isInitialized||d.initializedStoreOnce)&&v.every(q=>Dm(q,d,f)),k=tg(d,n.lng||null,f.nsMode==="fallback"?v:v[0],p),S=()=>k,j=()=>eh(d,n.lng||null,f.nsMode==="fallback"?v:v[0],p),[T,O]=x.useState(S);let N=v.join();n.lng&&(N=`${n.lng}${N}`);const L=eg(N),_=x.useRef(!0);x.useEffect(()=>{const{bindI18n:q,bindI18nStore:ae}=f;_.current=!0,!y&&!m&&(n.lng?Zd(d,n.lng,v,()=>{_.current&&O(j)}):Bo(d,v,()=>{_.current&&O(j)})),y&&L&&L!==N&&_.current&&O(j);const ie=()=>{_.current&&O(j)};return q&&(d==null||d.on(q,ie)),ae&&(d==null||d.store.on(ae,ie)),()=>{_.current=!1,d&&q&&(q==null||q.split(" ").forEach(de=>d.off(de,ie))),ae&&d&&ae.split(" ").forEach(de=>d.store.off(de,ie))}},[d,N]),x.useEffect(()=>{_.current&&y&&O(S)},[d,p,y]);const U=[T,d,y];if(U.t=T,U.i18n=d,U.ready=y,y||!y&&!m)return U;throw new Promise(q=>{n.lng?Zd(d,n.lng,v,()=>q()):Bo(d,v,()=>q())})};var ng=Wf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xs(){return Xs=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},Xs.apply(this,arguments)}var Vn;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Vn||(Vn={}));const ef="popstate";function rg(s){s===void 0&&(s={});function n(u,d){let{pathname:f="/",search:m="",hash:p=""}=mr(u.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Vo("",{pathname:f,search:m,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function a(u,d){let f=u.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=u.location.href,v=p.indexOf("#");m=v===-1?p:p.slice(0,v)}return m+"#"+(typeof d=="string"?d:Ei(d))}function o(u,d){_i(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(d)+")")}return ag(n,a,o,s)}function _e(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function _i(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function sg(){return Math.random().toString(36).substr(2,8)}function tf(s,n){return{usr:s.state,key:s.key,idx:n}}function Vo(s,n,a,o){return a===void 0&&(a=null),Xs({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof n=="string"?mr(n):n,{state:a,key:n&&n.key||o||sg()})}function Ei(s){let{pathname:n="/",search:a="",hash:o=""}=s;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function mr(s){let n={};if(s){let a=s.indexOf("#");a>=0&&(n.hash=s.substr(a),s=s.substr(0,a));let o=s.indexOf("?");o>=0&&(n.search=s.substr(o),s=s.substr(0,o)),s&&(n.pathname=s)}return n}function ag(s,n,a,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,f=u.history,m=Vn.Pop,p=null,v=y();v==null&&(v=0,f.replaceState(Xs({},f.state,{idx:v}),""));function y(){return(f.state||{idx:null}).idx}function k(){m=Vn.Pop;let N=y(),L=N==null?null:N-v;v=N,p&&p({action:m,location:O.location,delta:L})}function S(N,L){m=Vn.Push;let _=Vo(O.location,N,L);a&&a(_,N),v=y()+1;let U=tf(_,v),D=O.createHref(_);try{f.pushState(U,"",D)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;u.location.assign(D)}d&&p&&p({action:m,location:O.location,delta:1})}function j(N,L){m=Vn.Replace;let _=Vo(O.location,N,L);a&&a(_,N),v=y();let U=tf(_,v),D=O.createHref(_);f.replaceState(U,"",D),d&&p&&p({action:m,location:O.location,delta:0})}function T(N){let L=u.location.origin!=="null"?u.location.origin:u.location.href,_=typeof N=="string"?N:Ei(N);return _=_.replace(/ $/,"%20"),_e(L,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,L)}let O={get action(){return m},get location(){return s(u,f)},listen(N){if(p)throw new Error("A history only accepts one active listener");return u.addEventListener(ef,k),p=N,()=>{u.removeEventListener(ef,k),p=null}},createHref(N){return n(u,N)},createURL:T,encodeLocation(N){let L=T(N);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:S,replace:j,go(N){return f.go(N)}};return O}var nf;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(nf||(nf={}));function ig(s,n,a){return a===void 0&&(a="/"),lg(s,n,a)}function lg(s,n,a,o){let u=typeof n=="string"?mr(n):n,d=Qr(u.pathname||"/",a);if(d==null)return null;let f=th(s);og(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let v=xg(d);m=vg(f[p],v)}return m}function th(s,n,a,o){n===void 0&&(n=[]),a===void 0&&(a=[]),o===void 0&&(o="");let u=(d,f,m)=>{let p={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};p.relativePath.startsWith("/")&&(_e(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let v=Wn([o,p.relativePath]),y=a.concat(p);d.children&&d.children.length>0&&(_e(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),th(d.children,n,y,v)),!(d.path==null&&!d.index)&&n.push({path:v,score:mg(v,d.index),routesMeta:y})};return s.forEach((d,f)=>{var m;if(d.path===""||!((m=d.path)!=null&&m.includes("?")))u(d,f);else for(let p of nh(d.path))u(d,f,p)}),n}function nh(s){let n=s.split("/");if(n.length===0)return[];let[a,...o]=n,u=a.endsWith("?"),d=a.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let f=nh(o.join("/")),m=[];return m.push(...f.map(p=>p===""?d:[d,p].join("/"))),u&&m.push(...f),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function og(s){s.sort((n,a)=>n.score!==a.score?a.score-n.score:gg(n.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const ug=/^:[\w-]+$/,cg=3,dg=2,fg=1,hg=10,pg=-2,rf=s=>s==="*";function mg(s,n){let a=s.split("/"),o=a.length;return a.some(rf)&&(o+=pg),n&&(o+=dg),a.filter(u=>!rf(u)).reduce((u,d)=>u+(ug.test(d)?cg:d===""?fg:hg),o)}function gg(s,n){return s.length===n.length&&s.slice(0,-1).every((o,u)=>o===n[u])?s[s.length-1]-n[n.length-1]:0}function vg(s,n,a){let{routesMeta:o}=s,u={},d="/",f=[];for(let m=0;m<o.length;++m){let p=o[m],v=m===o.length-1,y=d==="/"?n:n.slice(d.length)||"/",k=Wo({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},y),S=p.route;if(!k)return null;Object.assign(u,k.params),f.push({params:u,pathname:Wn([d,k.pathname]),pathnameBase:jg(Wn([d,k.pathnameBase])),route:S}),k.pathnameBase!=="/"&&(d=Wn([d,k.pathnameBase]))}return f}function Wo(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,o]=yg(s.path,s.caseSensitive,s.end),u=n.match(a);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),m=u.slice(1);return{params:o.reduce((v,y,k)=>{let{paramName:S,isOptional:j}=y;if(S==="*"){let O=m[k]||"";f=d.slice(0,d.length-O.length).replace(/(.)\/+$/,"$1")}const T=m[k];return j&&!T?v[S]=void 0:v[S]=(T||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:f,pattern:s}}function yg(s,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),_i(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let o=[],u="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(o.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),u+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":s!==""&&s!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,n?void 0:"i"),o]}function xg(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return _i(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),s}}function Qr(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,o=s.charAt(a);return o&&o!=="/"?null:s.slice(a)||"/"}const kg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sg=s=>kg.test(s);function wg(s,n){n===void 0&&(n="/");let{pathname:a,search:o="",hash:u=""}=typeof s=="string"?mr(s):s,d;if(a)if(Sg(a))d=a;else{if(a.includes("//")){let f=a;a=a.replace(/\/\/+/g,"/"),_i(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+a))}a.startsWith("/")?d=sf(a.substring(1),"/"):d=sf(a,n)}else d=n;return{pathname:d,search:bg(o),hash:Cg(u)}}function sf(s,n){let a=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Ao(s,n,a,o){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ng(s){return s.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function iu(s,n){let a=Ng(s);return n?a.map((o,u)=>u===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function lu(s,n,a,o){o===void 0&&(o=!1);let u;typeof s=="string"?u=mr(s):(u=Xs({},s),_e(!u.pathname||!u.pathname.includes("?"),Ao("?","pathname","search",u)),_e(!u.pathname||!u.pathname.includes("#"),Ao("#","pathname","hash",u)),_e(!u.search||!u.search.includes("#"),Ao("#","search","hash",u)));let d=s===""||u.pathname==="",f=d?"/":u.pathname,m;if(f==null)m=a;else{let k=n.length-1;if(!o&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),k-=1;u.pathname=S.join("/")}m=k>=0?n[k]:"/"}let p=wg(u,m),v=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(v||y)&&(p.pathname+="/"),p}const Wn=s=>s.join("/").replace(/\/\/+/g,"/"),jg=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),bg=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Cg=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Eg(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const rh=["post","put","patch","delete"];new Set(rh);const Tg=["get",...rh];new Set(Tg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zs(){return Zs=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},Zs.apply(this,arguments)}const Fi=x.createContext(null),sh=x.createContext(null),vn=x.createContext(null),$i=x.createContext(null),yn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),ah=x.createContext(null);function Pg(s,n){let{relative:a}=n===void 0?{}:n;Zr()||_e(!1);let{basename:o,navigator:u}=x.useContext(vn),{hash:d,pathname:f,search:m}=Ui(s,{relative:a}),p=f;return o!=="/"&&(p=f==="/"?o:Wn([o,f])),u.createHref({pathname:p,search:m,hash:d})}function Zr(){return x.useContext($i)!=null}function Vt(){return Zr()||_e(!1),x.useContext($i).location}function ih(s){x.useContext(vn).static||x.useLayoutEffect(s)}function gr(){let{isDataRoute:s}=x.useContext(yn);return s?Hg():Lg()}function Lg(){Zr()||_e(!1);let s=x.useContext(Fi),{basename:n,future:a,navigator:o}=x.useContext(vn),{matches:u}=x.useContext(yn),{pathname:d}=Vt(),f=JSON.stringify(iu(u,a.v7_relativeSplatPath)),m=x.useRef(!1);return ih(()=>{m.current=!0}),x.useCallback(function(v,y){if(y===void 0&&(y={}),!m.current)return;if(typeof v=="number"){o.go(v);return}let k=lu(v,JSON.parse(f),d,y.relative==="path");s==null&&n!=="/"&&(k.pathname=k.pathname==="/"?n:Wn([n,k.pathname])),(y.replace?o.replace:o.push)(k,y.state,y)},[n,o,f,d,s])}const Rg=x.createContext(null);function Ig(s){let n=x.useContext(yn).outlet;return n&&x.createElement(Rg.Provider,{value:s},n)}function Ui(s,n){let{relative:a}=n===void 0?{}:n,{future:o}=x.useContext(vn),{matches:u}=x.useContext(yn),{pathname:d}=Vt(),f=JSON.stringify(iu(u,o.v7_relativeSplatPath));return x.useMemo(()=>lu(s,JSON.parse(f),d,a==="path"),[s,f,d,a])}function Mg(s,n){return Og(s,n)}function Og(s,n,a,o){Zr()||_e(!1);let{navigator:u}=x.useContext(vn),{matches:d}=x.useContext(yn),f=d[d.length-1],m=f?f.params:{};f&&f.pathname;let p=f?f.pathnameBase:"/";f&&f.route;let v=Vt(),y;if(n){var k;let N=typeof n=="string"?mr(n):n;p==="/"||(k=N.pathname)!=null&&k.startsWith(p)||_e(!1),y=N}else y=v;let S=y.pathname||"/",j=S;if(p!=="/"){let N=p.replace(/^\//,"").split("/");j="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=ig(s,{pathname:j}),O=$g(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:Wn([p,u.encodeLocation?u.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Wn([p,u.encodeLocation?u.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),d,a,o);return n&&O?x.createElement($i.Provider,{value:{location:Zs({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Vn.Pop}},O):O}function Ag(){let s=Bg(),n=Eg(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:u},a):null,null)}const Dg=x.createElement(Ag,null);class _g extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?x.createElement(yn.Provider,{value:this.props.routeContext},x.createElement(ah.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fg(s){let{routeContext:n,match:a,children:o}=s,u=x.useContext(Fi);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(yn.Provider,{value:n},o)}function $g(s,n,a,o){var u;if(n===void 0&&(n=[]),a===void 0&&(a=null),o===void 0&&(o=null),s==null){var d;if(!a)return null;if(a.errors)s=a.matches;else if((d=o)!=null&&d.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let f=s,m=(u=a)==null?void 0:u.errors;if(m!=null){let y=f.findIndex(k=>k.route.id&&(m==null?void 0:m[k.route.id])!==void 0);y>=0||_e(!1),f=f.slice(0,Math.min(f.length,y+1))}let p=!1,v=-1;if(a&&o&&o.v7_partialHydration)for(let y=0;y<f.length;y++){let k=f[y];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(v=y),k.route.id){let{loaderData:S,errors:j}=a,T=k.route.loader&&S[k.route.id]===void 0&&(!j||j[k.route.id]===void 0);if(k.route.lazy||T){p=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((y,k,S)=>{let j,T=!1,O=null,N=null;a&&(j=m&&k.route.id?m[k.route.id]:void 0,O=k.route.errorElement||Dg,p&&(v<0&&S===0?(Vg("route-fallback"),T=!0,N=null):v===S&&(T=!0,N=k.route.hydrateFallbackElement||null)));let L=n.concat(f.slice(0,S+1)),_=()=>{let U;return j?U=O:T?U=N:k.route.Component?U=x.createElement(k.route.Component,null):k.route.element?U=k.route.element:U=y,x.createElement(Fg,{match:k,routeContext:{outlet:y,matches:L,isDataRoute:a!=null},children:U})};return a&&(k.route.ErrorBoundary||k.route.errorElement||S===0)?x.createElement(_g,{location:a.location,revalidation:a.revalidation,component:O,error:j,children:_(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):_()},null)}var lh=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(lh||{}),oh=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(oh||{});function Ug(s){let n=x.useContext(Fi);return n||_e(!1),n}function Kg(s){let n=x.useContext(sh);return n||_e(!1),n}function zg(s){let n=x.useContext(yn);return n||_e(!1),n}function uh(s){let n=zg(),a=n.matches[n.matches.length-1];return a.route.id||_e(!1),a.route.id}function Bg(){var s;let n=x.useContext(ah),a=Kg(),o=uh();return n!==void 0?n:(s=a.errors)==null?void 0:s[o]}function Hg(){let{router:s}=Ug(lh.UseNavigateStable),n=uh(oh.UseNavigateStable),a=x.useRef(!1);return ih(()=>{a.current=!0}),x.useCallback(function(u,d){d===void 0&&(d={}),a.current&&(typeof u=="number"?s.navigate(u):s.navigate(u,Zs({fromRouteId:n},d)))},[s,n])}const af={};function Vg(s,n,a){af[s]||(af[s]=!0)}function Wg(s,n){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function ch(s){let{to:n,replace:a,state:o,relative:u}=s;Zr()||_e(!1);let{future:d,static:f}=x.useContext(vn),{matches:m}=x.useContext(yn),{pathname:p}=Vt(),v=gr(),y=lu(n,iu(m,d.v7_relativeSplatPath),p,u==="path"),k=JSON.stringify(y);return x.useEffect(()=>v(JSON.parse(k),{replace:a,state:o,relative:u}),[v,k,u,a,o]),null}function dh(s){return Ig(s.context)}function Ht(s){_e(!1)}function qg(s){let{basename:n="/",children:a=null,location:o,navigationType:u=Vn.Pop,navigator:d,static:f=!1,future:m}=s;Zr()&&_e(!1);let p=n.replace(/^\/*/,"/"),v=x.useMemo(()=>({basename:p,navigator:d,static:f,future:Zs({v7_relativeSplatPath:!1},m)}),[p,m,d,f]);typeof o=="string"&&(o=mr(o));let{pathname:y="/",search:k="",hash:S="",state:j=null,key:T="default"}=o,O=x.useMemo(()=>{let N=Qr(y,p);return N==null?null:{location:{pathname:N,search:k,hash:S,state:j,key:T},navigationType:u}},[p,y,k,S,j,T,u]);return O==null?null:x.createElement(vn.Provider,{value:v},x.createElement($i.Provider,{children:a,value:O}))}function Jg(s){let{children:n,location:a}=s;return Mg(qo(n),a)}new Promise(()=>{});function qo(s,n){n===void 0&&(n=[]);let a=[];return x.Children.forEach(s,(o,u)=>{if(!x.isValidElement(o))return;let d=[...n,u];if(o.type===x.Fragment){a.push.apply(a,qo(o.props.children,d));return}o.type!==Ht&&_e(!1),!o.props.index||!o.props.children||_e(!1);let f={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=qo(o.props.children,d)),a.push(f)}),a}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(s){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o])}return s},Ti.apply(this,arguments)}function fh(s,n){if(s==null)return{};var a={},o=Object.keys(s),u,d;for(d=0;d<o.length;d++)u=o[d],!(n.indexOf(u)>=0)&&(a[u]=s[u]);return a}function Qg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Yg(s,n){return s.button===0&&(!n||n==="_self")&&!Qg(s)}function Jo(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((n,a)=>{let o=s[a];return n.concat(Array.isArray(o)?o.map(u=>[a,u]):[[a,o]])},[]))}function Gg(s,n){let a=Jo(s);return n&&n.forEach((o,u)=>{a.has(u)||n.getAll(u).forEach(d=>{a.append(u,d)})}),a}const Xg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zg=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ev="6";try{window.__reactRouterVersion=ev}catch{}const tv=x.createContext({isTransitioning:!1}),nv="startTransition",lf=Sm[nv];function rv(s){let{basename:n,children:a,future:o,window:u}=s,d=x.useRef();d.current==null&&(d.current=rg({window:u,v5Compat:!0}));let f=d.current,[m,p]=x.useState({action:f.action,location:f.location}),{v7_startTransition:v}=o||{},y=x.useCallback(k=>{v&&lf?lf(()=>p(k)):p(k)},[p,v]);return x.useLayoutEffect(()=>f.listen(y),[f,y]),x.useEffect(()=>Wg(o),[o]),x.createElement(qg,{basename:n,children:a,location:m.location,navigationType:m.action,navigator:f,future:o})}const sv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",av=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iv=x.forwardRef(function(n,a){let{onClick:o,relative:u,reloadDocument:d,replace:f,state:m,target:p,to:v,preventScrollReset:y,viewTransition:k}=n,S=fh(n,Xg),{basename:j}=x.useContext(vn),T,O=!1;if(typeof v=="string"&&av.test(v)&&(T=v,sv))try{let U=new URL(window.location.href),D=v.startsWith("//")?new URL(U.protocol+v):new URL(v),z=Qr(D.pathname,j);D.origin===U.origin&&z!=null?v=z+D.search+D.hash:O=!0}catch{}let N=Pg(v,{relative:u}),L=ov(v,{replace:f,state:m,target:p,preventScrollReset:y,relative:u,viewTransition:k});function _(U){o&&o(U),U.defaultPrevented||L(U)}return x.createElement("a",Ti({},S,{href:T||N,onClick:O||d?o:_,ref:a,target:p}))}),Do=x.forwardRef(function(n,a){let{"aria-current":o="page",caseSensitive:u=!1,className:d="",end:f=!1,style:m,to:p,viewTransition:v,children:y}=n,k=fh(n,Zg),S=Ui(p,{relative:k.relative}),j=Vt(),T=x.useContext(sh),{navigator:O,basename:N}=x.useContext(vn),L=T!=null&&uv(S)&&v===!0,_=O.encodeLocation?O.encodeLocation(S).pathname:S.pathname,U=j.pathname,D=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;u||(U=U.toLowerCase(),D=D?D.toLowerCase():null,_=_.toLowerCase()),D&&N&&(D=Qr(D,N)||D);const z=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let B=U===_||!f&&U.startsWith(_)&&U.charAt(z)==="/",K=D!=null&&(D===_||!f&&D.startsWith(_)&&D.charAt(_.length)==="/"),q={isActive:B,isPending:K,isTransitioning:L},ae=B?o:void 0,ie;typeof d=="function"?ie=d(q):ie=[d,B?"active":null,K?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let de=typeof m=="function"?m(q):m;return x.createElement(iv,Ti({},k,{"aria-current":ae,className:ie,ref:a,style:de,to:p,viewTransition:v}),typeof y=="function"?y(q):y)});var Qo;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(Qo||(Qo={}));var of;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(of||(of={}));function lv(s){let n=x.useContext(Fi);return n||_e(!1),n}function ov(s,n){let{target:a,replace:o,state:u,preventScrollReset:d,relative:f,viewTransition:m}=n===void 0?{}:n,p=gr(),v=Vt(),y=Ui(s,{relative:f});return x.useCallback(k=>{if(Yg(k,a)){k.preventDefault();let S=o!==void 0?o:Ei(v)===Ei(y);p(s,{replace:S,state:u,preventScrollReset:d,relative:f,viewTransition:m})}},[v,p,y,o,u,a,s,d,f,m])}function ou(s){let n=x.useRef(Jo(s)),a=x.useRef(!1),o=Vt(),u=x.useMemo(()=>Gg(o.search,a.current?null:n.current),[o.search]),d=gr(),f=x.useCallback((m,p)=>{const v=Jo(typeof m=="function"?m(u):m);a.current=!0,d("?"+v,p)},[d,u]);return[u,f]}function uv(s,n){n===void 0&&(n={});let a=x.useContext(tv);a==null&&_e(!1);let{basename:o}=lv(Qo.useViewTransitionState),u=Ui(s,{relative:n.relative});if(!a.isTransitioning)return!1;let d=Qr(a.currentLocation.pathname,o)||a.currentLocation.pathname,f=Qr(a.nextLocation.pathname,o)||a.nextLocation.pathname;return Wo(u.pathname,f)!=null||Wo(u.pathname,d)!=null}function cv({title:s,titleId:n,...a},o){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":n},a),s?x.createElement("title",{id:n},s):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 3.104v5.714a2.25 2.25 0 0 1-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 0 1 4.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0 1 12 15a9.065 9.065 0 0 0-6.23-.693L5 14.5m14.8.8 1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0 1 12 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5"}))}const dv=x.forwardRef(cv);function We({children:s,title:n,className:a}){return l.jsxs("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",role:n?"img":"presentation","aria-label":n,"aria-hidden":n?void 0:!0,className:a,children:[n?l.jsx("title",{children:n}):null,s]})}function Yr(s){return l.jsx(We,{...s,children:l.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})})}function gn(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M21 2l-2 2"}),l.jsx("path",{d:"M7.5 10.5a4.5 4.5 0 1 1 6.4 6.4L8 22H3v-5l4.2-4.2"}),l.jsx("path",{d:"M14 7l3 3"})]})}function Gr(s){return l.jsxs(We,{...s,children:[l.jsx("circle",{cx:"12",cy:"12",r:"8"}),l.jsx("path",{d:"M8 12h8"}),l.jsx("path",{d:"M12 8v8"})]})}function hh(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M12 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"}),l.jsx("path",{d:"M19.4 15a1.8 1.8 0 0 0 .36 1.98l.06.06-1.4 2.42-.08-.02a1.8 1.8 0 0 0-2 .78l-.04.07H13.7l-.03-.07a1.8 1.8 0 0 0-3.34 0l-.03.07H7.74l-.04-.07a1.8 1.8 0 0 0-2-.78l-.08.02-1.4-2.42.06-.06A1.8 1.8 0 0 0 4.6 15l-.02-.08v-2.84l.02-.08A1.8 1.8 0 0 0 4.24 10l-.06-.06 1.4-2.42.08.02a1.8 1.8 0 0 0 2-.78l.04-.07H10.3l.03.07a1.8 1.8 0 0 0 3.34 0l.03-.07h2.56l.04.07a1.8 1.8 0 0 0 2 .78l.08-.02 1.4 2.42-.06.06A1.8 1.8 0 0 0 19.4 12l.02.08v2.84l-.02.08z"})]})}function Yo(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M12 5v14"}),l.jsx("path",{d:"M5 12h14"})]})}function Zt(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M21 12a9 9 0 0 1-15.5 6.4"}),l.jsx("path",{d:"M3 12a9 9 0 0 1 15.5-6.4"}),l.jsx("path",{d:"M21 19v-7h-7"}),l.jsx("path",{d:"M3 5v7h7"})]})}function fv(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M9 9h10v10H9z"}),l.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})}function hv(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),l.jsx("path",{d:"M16 17l5-5-5-5"}),l.jsx("path",{d:"M21 12H9"})]})}function uu(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M18 6L6 18"}),l.jsx("path",{d:"M6 6l12 12"})]})}function es(s){return l.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...s,children:[l.jsx("circle",{cx:"11",cy:"11",r:"8"}),l.jsx("path",{d:"m21 21-4.3-4.3"})]})}function pv(s){return l.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...s,children:[l.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}function mv(s){return l.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...s,children:[l.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),l.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),l.jsx("path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),l.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]})}function ji(s){return l.jsxs("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...s,children:[l.jsx("path",{d:"M3 6h18"}),l.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),l.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})}function cu(s){return l.jsx(We,{...s,children:l.jsx("path",{d:"M20 6L9 17l-5-5"})})}function Pi(s){return l.jsxs(We,{...s,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 8v4"}),l.jsx("path",{d:"M12 16h.01"})]})}function ph(s){return l.jsxs(We,{...s,children:[l.jsx("circle",{cx:"12",cy:"12",r:"10"}),l.jsx("path",{d:"M12 16v-4"}),l.jsx("path",{d:"M12 8h.01"})]})}function uf(s){return l.jsxs(We,{...s,children:[l.jsx("circle",{cx:"12",cy:"12",r:"5"}),l.jsx("path",{d:"M12 1v2"}),l.jsx("path",{d:"M12 21v2"}),l.jsx("path",{d:"M4.22 4.22l1.42 1.42"}),l.jsx("path",{d:"M18.36 18.36l1.42 1.42"}),l.jsx("path",{d:"M1 12h2"}),l.jsx("path",{d:"M21 12h2"}),l.jsx("path",{d:"M4.22 19.78l1.42-1.42"}),l.jsx("path",{d:"M18.36 5.64l1.42-1.42"})]})}function cf(s){return l.jsx(We,{...s,children:l.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}function mh(s){return l.jsx(We,{...s,children:l.jsx("path",{d:"M15 18l-6-6 6-6"})})}function gh(s){return l.jsx(We,{...s,children:l.jsx("path",{d:"M9 18l6-6-6-6"})})}function df(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"7 10 12 15 17 10"}),l.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}function ff(s){return l.jsxs(We,{...s,children:[l.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),l.jsx("polyline",{points:"17 8 12 3 7 8"}),l.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]})}function hf(s){return l.jsxs(We,{...s,children:[l.jsx("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}),l.jsx("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"})]})}const Pe={overview:"/",keys:"/keys",tokens:"/tokens",usage:"/usage",playground:"/playground",settings:"/settings",login:"/login"},gv=Object.values(Pe),vv=gv.filter(s=>s!==Pe.login),yv=new Set(vv);function vh(s){if(!s||!s.startsWith("/")||s.startsWith("//"))return"/";const n=s.indexOf("?"),a=n===-1?s:s.slice(0,n),o=n===-1?"":s.slice(n);return yv.has(a)?o?`${a}${o}`:a:"/"}function pr(s){const n=vh(s);return`${Pe.login}?next=${encodeURIComponent(n)}`}const pf=[{path:Pe.overview,icon:l.jsx(Yr,{}),labelKey:"pages.overview",requiresAuth:!0},{path:Pe.keys,icon:l.jsx(gn,{}),labelKey:"pages.keys",requiresAuth:!0},{path:Pe.tokens,icon:l.jsx(Gr,{}),labelKey:"pages.tokens",requiresAuth:!0},{path:Pe.usage,icon:l.jsx(es,{}),labelKey:"pages.usage",requiresAuth:!0},{path:Pe.playground,icon:l.jsx(dv,{}),labelKey:"pages.playground",requiresAuth:!0},{path:Pe.settings,icon:l.jsx(hh,{}),labelKey:"pages.settings",requiresAuth:!1}],xv={[Pe.overview]:{titleKey:"pages.overview",subtitleKey:"pageSubtitles.overview"},[Pe.keys]:{titleKey:"pages.keys",subtitleKey:"pageSubtitles.keys"},[Pe.tokens]:{titleKey:"pages.tokens",subtitleKey:"pageSubtitles.tokens"},[Pe.usage]:{titleKey:"pages.usage",subtitleKey:"pageSubtitles.usage"},[Pe.playground]:{titleKey:"pages.playground",subtitleKey:"pageSubtitles.playground"},[Pe.settings]:{titleKey:"pages.settings",subtitleKey:"pageSubtitles.settings"}};function kv({connectionSummary:s,theme:n,onToggleTheme:a,signedIn:o,onSignOut:u,sidebarCollapsed:d,onToggleSidebar:f}){const{t:m}=Me("nav"),{t:p}=Me("common"),v=Vt(),y=xv[v.pathname]||{titleKey:"pages.overview",subtitleKey:""},k=m(y.titleKey),S=y.subtitleKey?m(y.subtitleKey):"",j=`${v.pathname}${v.search}`,T=pr(j),O=m(n==="light"?"theme.dark":"theme.light"),N=m("theme.switchTo",{mode:m(n==="light"?"theme.dark":"theme.light")});return l.jsxs("div",{className:`appFrame${d?" sidebar-collapsed":""}`,children:[l.jsx("a",{className:"skipLink",href:"#mainContent",children:m("a11y.skipToContent")}),l.jsxs("div",{className:"appShell",children:[l.jsxs("aside",{className:"sidebar",children:[l.jsx("div",{className:"navHeader",children:l.jsxs("div",{className:"navTitle",children:[l.jsx(Yr,{title:"Admin"}),l.jsxs("div",{className:"navTitleText",children:[l.jsx("div",{className:"navBrand",children:m("brand")}),l.jsx("div",{className:"help",children:m("subtitle")})]})]})}),l.jsx("nav",{className:"nav","aria-label":"Admin navigation",children:pf.map(L=>{const _=m(L.labelKey),U=!L.requiresAuth||o?L.path:pr(L.path);return l.jsxs(Do,{to:U,className:({isActive:D})=>`navItem${D?" navItem--active":""}`,"data-active":v.pathname===L.path,end:L.path==="/",title:d?_:void 0,children:[l.jsx("span",{className:"navItemIcon",children:L.icon}),l.jsx("span",{className:"navItemLabel",children:_})]},L.path)})}),l.jsxs("div",{className:"navFooter",children:[l.jsxs("button",{className:"themeToggle",onClick:a,"aria-label":N,title:d?O:void 0,children:[n==="light"?l.jsx(cf,{}):l.jsx(uf,{}),l.jsx("span",{children:O})]}),l.jsxs("button",{className:"sidebarToggle",onClick:f,"aria-label":m(d?"sidebar.expandSidebar":"sidebar.collapseSidebar"),title:m(d?"sidebar.expand":"sidebar.collapse"),children:[d?l.jsx(gh,{}):l.jsx(mh,{}),l.jsx("span",{children:m(d?"sidebar.expand":"sidebar.collapse")})]}),l.jsxs("div",{className:"navConnectionInfo",children:[l.jsx("div",{className:"help",children:m("connection")}),l.jsx("div",{className:"mono navConnectionSummary",children:s})]})]})]}),l.jsxs("main",{className:"mainPanel",id:"mainContent",tabIndex:-1,children:[l.jsxs("header",{className:"appHeader",children:[l.jsxs("div",{className:"topbarTitle",children:[l.jsx("div",{className:"h1",children:k}),l.jsx("div",{className:"help",children:S})]}),l.jsxs("div",{className:"appHeaderMeta",children:[l.jsx("span",{className:"help",children:m("connection")}),l.jsx("span",{className:"headerConnection mono",title:s,children:s})]}),l.jsx("div",{className:"appHeaderMeta",children:o?l.jsx("button",{className:"btn","data-variant":"ghost",onClick:u,children:p("actions.signOut")}):l.jsx(Do,{className:"btn","data-variant":"primary",to:T,children:p("actions.signIn")})})]}),l.jsx("div",{className:"mainBody",children:l.jsx(dh,{})})]})]}),l.jsxs("nav",{className:"mobileNav","aria-label":"Mobile navigation",children:[pf.map(L=>{const _=m(L.labelKey),U=!L.requiresAuth||o?L.path:pr(L.path);return l.jsxs(Do,{to:U,className:"mobileNavItem","data-active":v.pathname===L.path,"aria-label":_,"aria-current":v.pathname===L.path?"page":void 0,end:L.path==="/",children:[L.icon,l.jsx("span",{children:_})]},L.path)}),l.jsxs("button",{className:"mobileNavItem",onClick:a,"aria-label":N,children:[n==="light"?l.jsx(cf,{}):l.jsx(uf,{}),l.jsx("span",{children:m("theme.toggle")})]})]})]})}function mf(s){try{const n=localStorage.getItem(s);return n?JSON.parse(n):null}catch{return null}}function Sv(s,n){try{localStorage.setItem(s,JSON.stringify(n))}catch{}}const Js="mcp-nexus.adminUiAdminToken.session.v1",Qs="mcp-nexus.adminUiAdminToken.local.v1";function gf(s,n){try{return(s==null?void 0:s.getItem(n))??null}catch{return null}}function vf(s,n,a){try{s==null||s.setItem(n,a)}catch{}}function Jr(s,n){try{s==null||s.removeItem(n)}catch{}}function du(){try{return typeof sessionStorage>"u"?null:sessionStorage}catch{return null}}function fu(){try{return typeof localStorage>"u"?null:localStorage}catch{return null}}function Go(s={}){const n=s.session??du(),a=s.local??fu(),o=gf(n,Js);if(typeof o=="string"&&o.trim())return o;const u=gf(a,Qs);return typeof u=="string"&&u.trim()?u:""}function yh(s,n,a={}){const o=a.session??du(),u=a.local??fu(),d=s.trim();if(!d){Jr(o,Js),Jr(u,Qs);return}n?(vf(u,Qs,d),Jr(o,Js)):(vf(o,Js,d),Jr(u,Qs))}function wv(s={}){const n=s.session??du(),a=s.local??fu();Jr(n,Js),Jr(a,Qs)}const Nv="mcp-nexus.adminUiPrefs.v1",xh="mcp-nexus.adminUiPrefs.v2";function jv(s={}){const n=mf(xh)??null,a=n?null:mf(Nv)??null,o=typeof(n==null?void 0:n.apiBaseUrl)=="string"?n.apiBaseUrl:typeof(a==null?void 0:a.apiBaseUrl)=="string"?a.apiBaseUrl:typeof s.apiBaseUrl=="string"?s.apiBaseUrl:"",u=(n==null?void 0:n.theme)==="dark"||(n==null?void 0:n.theme)==="light"?n.theme:(a==null?void 0:a.theme)==="dark"||(a==null?void 0:a.theme)==="light"?a.theme:s.theme==="dark"||s.theme==="light"?s.theme:Cv(),d=typeof(n==null?void 0:n.rememberAdminToken)=="boolean"?n.rememberAdminToken:typeof s.rememberAdminToken=="boolean"?s.rememberAdminToken:!1,f=typeof(n==null?void 0:n.sidebarCollapsed)=="boolean"?n.sidebarCollapsed:typeof s.sidebarCollapsed=="boolean"?s.sidebarCollapsed:!1,m=(n==null?void 0:n.locale)==="en"||(n==null?void 0:n.locale)==="zh-CN"?n.locale:s.locale==="en"||s.locale==="zh-CN"?s.locale:Ev(),p=typeof(a==null?void 0:a.adminToken)=="string"?a.adminToken:"";return p.trim()&&!Go().trim()&&yh(p,!0),{apiBaseUrl:o,theme:u,rememberAdminToken:d,sidebarCollapsed:f,locale:m}}function bv(s){Sv(xh,s)}function Cv(){return typeof window>"u"?"light":window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ev(){if(typeof window>"u")return"en";const s=localStorage.getItem("mcp-nexus.locale");return s==="zh-CN"?"zh-CN":s==="en"?"en":(navigator.language||navigator.userLanguage||"").startsWith("zh")?"zh-CN":"en"}class Ot extends Error{constructor(a,o){super(a);Ud(this,"status");this.name="AdminApiError",this.status=o.status}}function kh(s,n={}){const a=n.fetchImpl??fetch,o=Tv(s.baseUrl);function u(p,v){if((p.headers.get("content-type")??"").toLowerCase().includes("text/html"))return!0;const k=v.trimStart().toLowerCase();return k.startsWith("<!doctype html")||k.startsWith("<html")}async function d(p){var S;const v=await p.text();if(!p.ok&&u(p,v))throw new Ot(`Server returned an HTML error page (HTTP ${p.status}). This usually means the backend threw an exception or the request was routed to an error page. Check the server logs and verify env vars (DATABASE_URL, ADMIN_API_TOKEN, KEY_ENCRYPTION_SECRET).`,{status:p.status});const y=Pv(v);if(p.ok)return y;if(p.status===401){try{(S=n.onAuthFailure)==null||S.call(n)}catch{}throw new Ot("Unauthorized (401): token must match server ADMIN_API_TOKEN",{status:401})}if(p.status===404)throw new Ot("Not found (404): check Admin API base URL and that /admin/api routes exist",{status:404});const k=typeof(y==null?void 0:y.error)=="string"?y.error:typeof(y==null?void 0:y.message)=="string"?y.message:p.statusText||`HTTP ${p.status}`;throw new Ot(k,{status:p.status})}async function f(p,v){let y;try{y=await a(yf(o,p),{...v,headers:{...v.headers??{},authorization:`Bearer ${s.adminToken}`,"content-type":"application/json"}})}catch(k){const S=typeof(k==null?void 0:k.message)=="string"?` (${k.message})`:"";throw new Ot(`Network error: could not reach Admin API. In local dev, enable the Vite /admin/api proxy or set Settings  Admin API base URL to http://127.0.0.1:8787.${S}`,{status:0})}return d(y)}async function m(p){let v;try{v=await a(yf(o,p),{method:"GET",headers:{authorization:`Bearer ${s.adminToken}`}})}catch(y){const k=typeof(y==null?void 0:y.message)=="string"?` (${y.message})`:"";throw new Ot(`Network error: could not reach Admin API. In local dev, enable the Vite /admin/api proxy or set Settings  Admin API base URL to http://127.0.0.1:8787.${k}`,{status:0})}return d(v)}return{getServerInfo:()=>m("/admin/api/server-info"),updateServerInfo:p=>f("/admin/api/server-info",{method:"PATCH",body:JSON.stringify(p)}),getMetrics:()=>m("/admin/api/metrics"),listKeys:()=>m("/admin/api/keys"),createKey:p=>f("/admin/api/keys",{method:"POST",body:JSON.stringify(p)}),revealKey:p=>m(`/admin/api/keys/${encodeURIComponent(p)}/reveal`),updateKeyStatus:(p,v)=>f(`/admin/api/keys/${encodeURIComponent(p)}`,{method:"PATCH",body:JSON.stringify({status:v})}),deleteKey:p=>f(`/admin/api/keys/${encodeURIComponent(p)}`,{method:"DELETE",body:"{}"}),refreshKeyCredits:p=>f(`/admin/api/keys/${encodeURIComponent(p)}/refresh-credits`,{method:"POST",body:"{}"}),syncAllKeyCredits:()=>f("/admin/api/keys/sync-credits",{method:"POST",body:"{}"}),listBraveKeys:()=>m("/admin/api/brave-keys"),createBraveKey:p=>f("/admin/api/brave-keys",{method:"POST",body:JSON.stringify(p)}),revealBraveKey:p=>m(`/admin/api/brave-keys/${encodeURIComponent(p)}/reveal`),updateBraveKeyStatus:(p,v)=>f(`/admin/api/brave-keys/${encodeURIComponent(p)}`,{method:"PATCH",body:JSON.stringify({status:v})}),deleteBraveKey:p=>f(`/admin/api/brave-keys/${encodeURIComponent(p)}`,{method:"DELETE",body:"{}"}),listTokens:()=>m("/admin/api/tokens"),createToken:p=>f("/admin/api/tokens",{method:"POST",body:JSON.stringify(p)}),revokeToken:p=>f(`/admin/api/tokens/${encodeURIComponent(p)}/revoke`,{method:"POST",body:"{}"}),deleteToken:p=>f(`/admin/api/tokens/${encodeURIComponent(p)}`,{method:"DELETE",body:"{}"}),listUsage:(p={})=>{const v=new URLSearchParams;p.page&&v.set("page",p.page.toString()),p.limit&&v.set("limit",p.limit.toString()),p.toolName&&v.set("toolName",p.toolName),p.outcome&&v.set("outcome",p.outcome),p.clientTokenPrefix&&v.set("clientTokenPrefix",p.clientTokenPrefix),p.queryHash&&v.set("queryHash",p.queryHash),p.dateFrom&&v.set("dateFrom",p.dateFrom),p.dateTo&&v.set("dateTo",p.dateTo),p.order&&v.set("order",p.order);const y=v.toString(),k=y?`/admin/api/usage?${y}`:"/admin/api/usage";return m(k)},getUsageSummary:(p={})=>{const v=new URLSearchParams;p.dateFrom&&v.set("dateFrom",p.dateFrom),p.dateTo&&v.set("dateTo",p.dateTo);const y=v.toString(),k=y?`/admin/api/usage/summary?${y}`:"/admin/api/usage/summary";return m(k)},getCostEstimate:(p={})=>{const v=new URLSearchParams;p.dateFrom&&v.set("dateFrom",p.dateFrom),p.dateTo&&v.set("dateTo",p.dateTo);const y=v.toString(),k=y?`/admin/api/cost-estimate?${y}`:"/admin/api/cost-estimate";return m(k)},exportKeys:()=>m("/admin/api/keys/export"),importKeys:p=>f("/admin/api/keys/import",{method:"POST",body:JSON.stringify(p)})}}function Tv(s){const n=s.trim();return n?n.replace(/\/+$/,""):""}function yf(s,n){if(!n.startsWith("/"))throw new Error(`path must start with '/': ${n}`);return s?`${s}${n}`:n}function Pv(s){try{return JSON.parse(s)}catch{return{message:s}}}function Lv({adminToken:s}){const n=Vt();if(s.trim())return l.jsx(dh,{});const a=`${n.pathname}${n.search}`,o=pr(a);return l.jsx(ch,{to:o,replace:!0})}function en(s){if(!s)return"";const n=new Date(s);return Number.isNaN(n.getTime())?"":new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(n)}function Rv(s,n){if(!s||s<=0)return n?n("noExpiry"):"No expiry";if(s<60)return n?n("seconds",{count:s}):`${s}s`;if(s<3600){const o=Math.round(s/60);return n?n("minutes",{count:o}):`${o}m`}if(s<86400){const o=Math.round(s/3600);return n?n("hours",{count:o}):`${o}h`}const a=Math.round(s/86400);return n?n("days",{count:a}):`${a}d`}function Iv(s){return s?s.length<=10?"":`${s.slice(0,6)}${s.slice(-4)}`:""}const Sh=x.createContext(null),Mv=5e3;function Ov({children:s}){const[n,a]=x.useState([]),o=x.useCallback(f=>{a(m=>m.filter(p=>p.id!==f))},[]),u=x.useCallback(f=>{const m=`${Date.now()}_${Math.random().toString(16).slice(2)}`,p={...f,id:m,variant:f.variant??"info"};a(v=>[p,...v].slice(0,4))},[]),d=x.useMemo(()=>({push:u}),[u]);return l.jsxs(Sh.Provider,{value:d,children:[s,l.jsx("div",{className:"toastWrap","aria-live":"polite","aria-relevant":"additions removals",children:n.map(f=>l.jsx(Av,{toast:f,onDismiss:()=>o(f.id)},f.id))})]})}function Av({toast:s,onDismiss:n}){const[a,o]=x.useState(100),[u,d]=x.useState(!1);x.useEffect(()=>{const k=50/Mv*100,S=setInterval(()=>{o(j=>{const T=j-k;return T<=0?(clearInterval(S),f(),0):T})},50);return()=>clearInterval(S)},[]);function f(){d(!0),setTimeout(n,200)}const m=s.variant??"info",v={success:{icon:l.jsx(cu,{}),color:"var(--success)"},error:{icon:l.jsx(Pi,{}),color:"var(--danger)"},warning:{icon:l.jsx(Pi,{}),color:"var(--warning)"},info:{icon:l.jsx(ph,{}),color:"var(--primary)"}}[m];return l.jsxs("div",{className:`toast${u?" toast--exiting":""}`,"data-variant":m,role:"status",children:[l.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[l.jsx("div",{className:"toastIcon","data-variant":m,children:v.icon}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("p",{className:"toastTitle",children:s.title}),s.message?l.jsx("p",{className:"toastMsg",children:s.message}):null]}),l.jsx("button",{onClick:f,className:"toastDismiss","aria-label":"Dismiss notification",children:l.jsx(uu,{})})]}),l.jsx("div",{className:"toastProgress",children:l.jsx("div",{className:"toastProgressBar",style:{width:`${a}%`,background:v.color}})})]})}function Qn(){const s=x.useContext(Sh);if(!s)throw new Error("useToast must be used within <ToastProvider>");return s}function Xo({text:s,className:n,variant:a="ghost",label:o,buttonText:u,disabled:d,onCopied:f}){const{t:m}=Me("common"),p=Qn(),[v,y]=Di.useState(!1),k=m("copy.copied"),S=async j=>{if(j.stopPropagation(),!d)try{await navigator.clipboard.writeText(s),y(!0),p.push({title:o||k,variant:"success"}),f==null||f(),setTimeout(()=>y(!1),2e3)}catch{p.push({title:m("copy.failed"),message:m("copy.permissionDenied"),variant:"error"})}};return l.jsxs("button",{className:`btn ${a==="ghost"?"btn--icon":""} ${n||""}`,"data-variant":a,onClick:S,disabled:d,"aria-label":o||k,title:o||k,children:[v?l.jsx(cu,{}):l.jsx(fv,{}),typeof u=="string"&&u.trim()?l.jsx("span",{children:u}):null]})}const ea=Di.forwardRef(function({icon:n,variant:a="ghost",size:o="md",loading:u,className:d,...f},m){const p=["iconBtn",o==="sm"&&"iconBtn--sm",a!=="ghost"&&`iconBtn--${a}`,d].filter(Boolean).join(" "),v=typeof f["aria-label"]=="string"?f["aria-label"]:typeof f["aria-labelledby"]=="string"?void 0:typeof f.title=="string"?f.title:void 0;return l.jsx("button",{ref:m,className:p,disabled:u||f.disabled,"aria-label":v,...f,children:u?l.jsx("div",{className:"spin",style:{width:14,height:14,border:"2px solid currentColor",borderTopColor:"transparent",borderRadius:"50%"}}):n})});function xf({keyId:s,maskedKey:n,api:a}){const[o,u]=x.useState(!1),[d,f]=x.useState(!1),[m,p]=x.useState(null),v=Qn();x.useEffect(()=>{if(o&&m){const k=setTimeout(()=>{u(!1),p(null)},15e3);return()=>clearTimeout(k)}},[o,m]),x.useEffect(()=>{if(!o)return;const k=()=>{u(!1),p(null)},S=()=>{document.hidden&&k()};return window.addEventListener("blur",k),document.addEventListener("visibilitychange",S),()=>{window.removeEventListener("blur",k),document.removeEventListener("visibilitychange",S)}},[o]);const y=async()=>{if(o){u(!1),p(null);return}f(!0);try{const{apiKey:k}=await a.revealKey(s);p(k),u(!0)}catch(k){v.push({title:"Reveal failed",message:k.message||"Error",variant:"error"})}finally{f(!1)}};return l.jsxs("div",{className:"keyReveal",children:[l.jsx("div",{className:"keyRevealValue","data-revealed":o,children:l.jsx("span",{className:"keyReveal__text mono",children:o&&m?m:n})}),l.jsxs("div",{className:"keyReveal__actions",children:[l.jsx("span",{style:{visibility:o&&m?"visible":"hidden",pointerEvents:o&&m?"auto":"none"},children:l.jsx(Xo,{text:m??"",variant:"primary",label:"Copy key",disabled:!o||!m,className:"btn--icon"})}),l.jsx(ea,{icon:o?l.jsx(mv,{}):l.jsx(pv,{}),onClick:y,loading:d,size:"sm",title:o?"Hide key":"Reveal key","aria-label":o?"Hide key":"Reveal key"})]})]})}function Dv({keyId:s,remaining:n,total:a,lastChecked:o,api:u,onUpdate:d}){const[f,m]=x.useState(!1),p=Qn(),v=async j=>{j.stopPropagation(),m(!0);try{await u.refreshKeyCredits(s),p.push({title:"Credits updated",variant:"success"}),d==null||d()}catch(T){p.push({title:"Update failed",message:T.message,variant:"error"})}finally{m(!1)}};if(n===null)return l.jsxs("div",{className:"creditsCell",children:[l.jsx("span",{className:"muted text-xs",children:"Unknown"}),l.jsx("button",{onClick:v,disabled:f,className:"btn btn--xs",title:"Check credits now",children:f?"...":""})]});const y=a||1e3,k=Math.max(0,Math.min(100,n/y*100));let S="success";return k<10||n===0?S="danger":k<30&&(S="warning"),l.jsxs("div",{className:"creditsCell",children:[l.jsxs("div",{className:"creditsInfo",children:[l.jsxs("div",{className:"creditsText",children:[l.jsx("span",{className:"creditsValue",children:n.toLocaleString()}),l.jsxs("span",{className:"creditsTotal",children:["/ ",y.toLocaleString()]})]}),l.jsx("div",{className:"creditsMeta",children:o?l.jsxs("span",{title:`Last checked: ${en(o)}`,children:["Checked ",new Date(o).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}):null})]}),l.jsx("div",{className:"creditsVisual",children:l.jsx("div",{className:"progressBar",children:l.jsx("div",{className:"progressFill","data-variant":S,style:{width:`${k}%`}})})}),l.jsx("div",{className:"creditsActions",children:l.jsx("button",{onClick:v,disabled:f,className:"btn btn--xs",title:"Refresh credits",children:f?"...":""})})]})}function qn({title:s,description:n,open:a,onClose:o,children:u}){const d=x.useId(),f=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{if(!a)return;m.current=document.activeElement;const p=f.current;if(!p)return;const y=p.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')[0];return y&&y.focus(),()=>{m.current&&m.current.focus()}},[a]),x.useEffect(()=>{if(!a)return;const p=v=>{if(v.key==="Escape"){o();return}if(v.key==="Tab"){const y=f.current;if(!y)return;const k=Array.from(y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(k.length===0)return;const S=k[0],j=k[k.length-1],T=document.activeElement;v.shiftKey?T===S&&(v.preventDefault(),j.focus()):T===j&&(v.preventDefault(),S.focus())}};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[a,o]),x.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[a]),a?l.jsx("div",{className:"dialogOverlay",role:"dialog","aria-modal":"true","aria-labelledby":d,onMouseDown:p=>{p.target===p.currentTarget&&o()},children:l.jsxs("div",{className:"dialog",ref:f,children:[l.jsxs("div",{className:"dialogHeader",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("div",{id:d,className:"h2",children:s}),n===""?null:l.jsx("div",{className:"help",children:n??"Press Esc to close"})]}),l.jsx(ea,{icon:l.jsx(uu,{}),onClick:o,"aria-label":"Close dialog"})]}),l.jsx("div",{className:"dialogBody",children:u})]})}):null}function bi({open:s,title:n,description:a,confirmLabel:o,confirmVariant:u="danger",cancelLabel:d,requireText:f,requireTextLabel:m,onClose:p,onConfirm:v,confirming:y}){const{t:k}=Me("common"),[S,j]=x.useState("");x.useEffect(()=>{s&&j("")},[s]);const T=typeof f=="string"&&f.length>0,O=x.useMemo(()=>y?!1:T?S===f:!0,[y,T,f,S]);return l.jsx(qn,{title:n,description:a,open:s,onClose:p,children:l.jsxs("div",{className:"stack",children:[T?l.jsxs("div",{className:"stack",children:[l.jsx("label",{className:"label",htmlFor:"confirm-input",children:m||k("confirm.typeToConfirm")}),l.jsx("input",{id:"confirm-input",className:"input mono",value:S,onChange:N=>j(N.target.value),placeholder:k("confirm.typePlaceholder",{text:f}),autoComplete:"off"}),l.jsx("div",{className:"help",children:k("confirm.cannotUndo")})]}):null,l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10},children:[l.jsx("button",{className:"btn",onClick:p,disabled:y,children:d??k("actions.cancel")}),l.jsx("button",{className:"btn","data-variant":u,onClick:v,disabled:!O,children:y?`${o}`:o})]})]})})}function Zo({children:s}){const[n,a]=x.useState(!1),o=x.useMemo(()=>{if(typeof document>"u")return null;const u=document.createElement("div");return u.dataset.portalRoot="true",u},[]);return x.useEffect(()=>{if(o)return document.body.appendChild(o),a(!0),()=>{o.remove()}},[o]),!o||!n?null:ng.createPortal(s,o)}const _v=["active","disabled","cooldown","invalid"];function kf({status:s,onChange:n,disabled:a,options:o=_v}){const[u,d]=x.useState(!1),[f,m]=x.useState(0),p=x.useRef(null),v=x.useRef(null),y=x.useRef(null),k=s==="active"?"success":s==="disabled"?"neutral":s==="cooldown"?"warning":"danger",[S,j]=x.useState(null),T=x.useCallback(()=>{const N=v.current;if(!N)return;const L=N.getBoundingClientRect(),_=8,U=L.width,D=y.current,z=(D==null?void 0:D.offsetWidth)??Math.max(160,U),B=(D==null?void 0:D.offsetHeight)??240;let K=L.left;K+z>window.innerWidth-_&&(K=window.innerWidth-_-z),K=Math.max(_,K);const q=L.bottom+6,ae=L.top-6-B,ie=q+B<=window.innerHeight-_?q:ae>=_?ae:Math.max(_,Math.min(q,window.innerHeight-_-B));j({top:ie,left:K,minWidth:U})},[]),O=x.useCallback(N=>{y.current=N,N&&T()},[T]);return x.useEffect(()=>{const N=L=>{var U,D;const _=L.target;_&&((U=p.current)!=null&&U.contains(_)||(D=y.current)!=null&&D.contains(_)||d(!1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),x.useEffect(()=>{if(!u)return;const N=L=>{var _,U;switch(L.key){case"Escape":L.preventDefault(),d(!1),(_=v.current)==null||_.focus();break;case"ArrowDown":L.preventDefault(),m(D=>(D+1)%o.length);break;case"ArrowUp":L.preventDefault(),m(D=>(D-1+o.length)%o.length);break;case"Enter":case" ":L.preventDefault(),n(o[f]),d(!1),(U=v.current)==null||U.focus();break;case"Home":L.preventDefault(),m(0);break;case"End":L.preventDefault(),m(o.length-1);break}};return window.addEventListener("keydown",N),()=>window.removeEventListener("keydown",N)},[u,f,o,n]),x.useEffect(()=>{if(u){const N=o.indexOf(s);m(N>=0?N:0)}},[u,s,o]),x.useLayoutEffect(()=>{u&&T()},[u,T]),x.useEffect(()=>{if(!u)return;const N=()=>T();return window.addEventListener("resize",N),window.addEventListener("scroll",N,!0),()=>{window.removeEventListener("resize",N),window.removeEventListener("scroll",N,!0)}},[u,T]),l.jsxs("div",{ref:p,children:[l.jsxs("button",{ref:v,className:"badge mono","data-variant":k,onClick:()=>{a||d(N=>!N)},disabled:a,style:{cursor:a?"default":"pointer",border:"none"},"aria-haspopup":"listbox","aria-expanded":u,"aria-label":`Status: ${s}. Click to change.`,children:[s,!a&&l.jsx("span",{style:{marginLeft:6,fontSize:10,opacity:.6},children:""})]}),u?l.jsx(Zo,{children:l.jsx("div",{ref:O,className:"statusMenu",role:"listbox","aria-activedescendant":`status-option-${o[f]}`,style:{position:"fixed",top:(S==null?void 0:S.top)??0,left:(S==null?void 0:S.left)??0,minWidth:(S==null?void 0:S.minWidth)??140},children:o.map((N,L)=>l.jsxs("div",{id:`status-option-${N}`,className:"statusMenuItem",role:"option","aria-selected":N===s,"data-focused":L===f,onClick:()=>{var _;n(N),d(!1),(_=v.current)==null||_.focus()},onMouseEnter:()=>m(L),children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:Fv(N)}}),l.jsx("span",{className:"mono text-sm capitalize",children:N})]},N))})}):null]})}function Fv(s){switch(s){case"active":return"var(--success)";case"disabled":return"var(--muted)";case"cooldown":return"var(--warning)";case"invalid":return"var(--danger)";default:return"var(--text)"}}function hu({total:s,page:n,pageSize:a,onChange:o}){const{t:u}=Me("common"),d=Math.ceil(s/a);if(d<=1)return null;const f=(n-1)*a+1,m=Math.min(n*a,s);return l.jsxs("div",{className:"pagination",children:[l.jsx("div",{className:"help",children:l.jsx(Zm,{i18nKey:"pagination.showing",ns:"common",values:{start:f,end:m,total:s},components:{strong:l.jsx("strong",{})}})}),l.jsxs("div",{className:"paginationButtons",children:[l.jsxs("button",{className:"btn",disabled:n===1,onClick:()=>o(n-1),"aria-label":u("pagination.prev"),children:[l.jsx(mh,{}),u("pagination.prev")]}),l.jsxs("button",{className:"btn",disabled:n===d,onClick:()=>o(n+1),"aria-label":u("pagination.next"),children:[u("pagination.next"),l.jsx(gh,{})]})]})]})}function Bn({title:s,label:n,value:a,icon:o,trend:u,hint:d,variant:f="neutral",onClick:m}){const p=s||n,v=m?"button":"div",y=m?"card kpiCard":"kpiCard";return l.jsxs(v,{className:y,onClick:m,"data-variant":f,children:[l.jsxs("div",{className:"kpiCardHeader",children:[l.jsx("div",{className:"muted text-xs font-bold uppercase",style:{letterSpacing:"0.08em"},children:p}),o&&l.jsx("div",{className:"kpiCardIcon","data-variant":f,children:o})]}),l.jsx("div",{className:"kpiValue",children:a}),l.jsxs("div",{className:"kpiCardFooter",children:[u&&l.jsx(l.Fragment,{children:l.jsx("span",{className:"badge","data-variant":u.isPositive?"success":"danger",children:u.value})}),d&&l.jsx("div",{className:"help",children:d}),m&&l.jsx("span",{className:"kpiCardArrow",children:""})]})]})}function Xr({message:s,onRetry:n,retrying:a}){const{t:o}=Me("common");return l.jsx("div",{role:"alert",className:"card errorBanner",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"errorBannerIcon",children:l.jsx(Pi,{})}),l.jsxs("div",{style:{flex:1,minWidth:0},children:[l.jsx("div",{className:"errorBannerTitle",children:o("errors.loadingData")}),l.jsx("div",{className:"errorBannerMessage",children:s})]}),n&&l.jsxs("button",{className:"btn","data-variant":"ghost",onClick:n,disabled:a,style:{flexShrink:0},children:[l.jsx(Zt,{className:a?"spin":""}),o("actions.retry")]})]})})}function ta({icon:s,title:n,message:a,action:o,compact:u}){return l.jsxs("div",{className:u?"emptyState emptyState--compact":"emptyState",children:[s&&l.jsx("div",{className:"emptyStateIcon",children:s}),n&&l.jsx("div",{className:"emptyStateTitle",children:n}),l.jsx("div",{className:"emptyStateMessage",children:a}),o&&l.jsx("button",{className:"btn","data-variant":o.variant??"primary",onClick:o.onClick,children:o.label})]})}function $v(s){return Math.max(1,s)}function na({ariaLabel:s,columns:n,rows:a,rowKey:o,empty:u,loading:d,skeletonRows:f=3,getRowProps:m}){const p=x.useMemo(()=>$v(n.length),[n.length]);return d&&a.length===0?l.jsx("div",{className:"p-4","aria-label":`${s} loading`,children:Array.from({length:f}).map((v,y)=>l.jsx("div",{className:"skeleton skeletonTableRow"},y))}):l.jsxs("table",{className:"table","aria-label":s,children:[l.jsx("thead",{children:l.jsx("tr",{children:n.map(v=>{var y;return l.jsx("th",{style:{...v.headerStyle??null,textAlign:v.headerAlign??((y=v.headerStyle)==null?void 0:y.textAlign)??void 0},children:v.header},v.id)})})}),l.jsxs("tbody",{children:[a.map(v=>l.jsx("tr",{...m?m(v):null,children:n.map(y=>{const k=typeof y.cellStyle=="function"?y.cellStyle(v):y.cellStyle,S=typeof y.cellClassName=="function"?y.cellClassName(v):y.cellClassName;return l.jsx("td",{className:S,style:{...k??null,textAlign:y.cellAlign??(k==null?void 0:k.textAlign)??void 0},"data-label":y.dataLabel,children:y.cell(v)},y.id)})},o(v))),!d&&a.length===0&&u?l.jsx("tr",{children:l.jsx("td",{colSpan:p,children:u})}):null]})]})}function Uv({onExportToFile:s,onExportToClipboard:n,onImportFromFile:a,onImportFromClipboard:o,loading:u}){const{t:d}=Me("keys"),f=x.useId(),m=x.useId(),[p,v]=x.useState(null),[y,k]=x.useState(0),S=x.useRef(null),j=x.useRef(null),T=x.useRef(null),O=x.useRef(null),N=x.useRef(null),L=x.useRef(null),_=x.useRef([]),U=x.useRef([]),[D,z]=x.useState(null),[B,K]=x.useState(null),q=x.useMemo(()=>[{key:"file",icon:l.jsx(ff,{}),label:d("import.fromFile"),onSelect:a},{key:"clipboard",icon:l.jsx(hf,{}),label:d("import.fromClipboard"),onSelect:o}],[o,a,d]),ae=x.useMemo(()=>[{key:"file",icon:l.jsx(df,{}),label:d("export.toFile"),onSelect:s},{key:"clipboard",icon:l.jsx(hf,{}),label:d("export.toClipboard"),onSelect:n}],[n,s,d]),ie=x.useCallback(H=>{const ee=H.trigger.getBoundingClientRect(),V=H.menu.offsetWidth||180,P=H.menu.offsetHeight||160,Z=8;let $=ee.left;$+V>window.innerWidth-Z&&($=window.innerWidth-Z-V),$=Math.max(Z,$);const X=ee.bottom+4,Y=ee.top-4-P;return{top:X+P<=window.innerHeight-Z?X:Y>=Z?Y:Math.max(Z,Math.min(X,window.innerHeight-Z-P)),left:$}},[]),de=x.useCallback(()=>{if(p==="import"){const H=T.current,ee=N.current;if(!H||!ee)return;z(ie({trigger:H,menu:ee}));return}if(p==="export"){const H=O.current,ee=L.current;if(!H||!ee)return;K(ie({trigger:H,menu:ee}))}},[ie,p]),fe=x.useCallback(H=>{var ee,V;v(null),H==="import"&&((ee=T.current)==null||ee.focus()),H==="export"&&((V=O.current)==null||V.focus())},[]);return x.useEffect(()=>{if(!p)return;const H=ee=>{var P,Z,$,X;const V=ee.target;V&&((P=S.current)!=null&&P.contains(V)||(Z=N.current)!=null&&Z.contains(V)||($=j.current)!=null&&$.contains(V)||(X=L.current)!=null&&X.contains(V)||fe(p))};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[fe,p]),x.useEffect(()=>{if(!p)return;const H=ee=>{var P;const V=p==="import"?q:ae;switch(ee.key){case"Escape":ee.preventDefault(),fe(p);return;case"Tab":ee.preventDefault(),fe(p);return;case"ArrowDown":ee.preventDefault(),k(Z=>(Z+1)%V.length);return;case"ArrowUp":ee.preventDefault(),k(Z=>(Z-1+V.length)%V.length);return;case"Home":ee.preventDefault(),k(0);return;case"End":ee.preventDefault(),k(V.length-1);return;case"Enter":case" ":ee.preventDefault(),(P=V[y])==null||P.onSelect(),fe(p);return}};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[fe,ae,y,q,p]),x.useEffect(()=>{var ee;if(!p)return;(ee=(p==="import"?_:U).current[y])==null||ee.focus()},[y,p]),x.useEffect(()=>{p&&k(0)},[p]),x.useEffect(()=>{p&&requestAnimationFrame(()=>{var ee;de(),(ee=(p==="import"?_:U).current[0])==null||ee.focus()})},[p,de]),x.useEffect(()=>{if(!p)return;const H=()=>de();return window.addEventListener("resize",H),window.addEventListener("scroll",H,!0),()=>{window.removeEventListener("resize",H),window.removeEventListener("scroll",H,!0)}},[p,de]),l.jsxs(l.Fragment,{children:[l.jsxs("div",{ref:S,style:{position:"relative",display:"inline-block"},children:[l.jsxs("button",{ref:T,className:"btn",onClick:()=>v(H=>H==="import"?null:"import"),onKeyDown:H=>{(H.key==="ArrowDown"||H.key==="Enter"||H.key===" ")&&(H.preventDefault(),v("import"))},disabled:u,"aria-haspopup":"menu","aria-expanded":p==="import","aria-controls":f,children:[l.jsx(ff,{}),d("import.button","Import")]}),p==="import"&&l.jsx(Zo,{children:l.jsx("div",{ref:N,className:"actionMenu",role:"menu",id:f,"aria-label":d("import.button","Import"),style:{position:"fixed",top:(D==null?void 0:D.top)??0,left:(D==null?void 0:D.left)??0},children:q.map((H,ee)=>l.jsxs("button",{ref:V=>{_.current[ee]=V},type:"button",className:"actionMenuItem",role:"menuitem",tabIndex:y===ee?0:-1,"data-focused":y===ee,onMouseMove:()=>k(ee),onFocus:()=>k(ee),onClick:()=>{H.onSelect(),fe("import")},children:[H.icon,l.jsx("span",{children:H.label})]},H.key))})})]}),l.jsxs("div",{ref:j,style:{position:"relative",display:"inline-block"},children:[l.jsxs("button",{ref:O,className:"btn",onClick:()=>v(H=>H==="export"?null:"export"),onKeyDown:H=>{(H.key==="ArrowDown"||H.key==="Enter"||H.key===" ")&&(H.preventDefault(),v("export"))},disabled:u,"aria-haspopup":"menu","aria-expanded":p==="export","aria-controls":m,children:[l.jsx(df,{}),d("export.button","Export")]}),p==="export"&&l.jsx(Zo,{children:l.jsx("div",{ref:L,className:"actionMenu",role:"menu",id:m,"aria-label":d("export.button","Export"),style:{position:"fixed",top:(B==null?void 0:B.top)??0,left:(B==null?void 0:B.left)??0},children:ae.map((H,ee)=>l.jsxs("button",{ref:V=>{U.current[ee]=V},type:"button",className:"actionMenuItem",role:"menuitem",tabIndex:y===ee?0:-1,"data-focused":y===ee,onMouseMove:()=>k(ee),onFocus:()=>k(ee),onClick:()=>{H.onSelect(),fe("export")},children:[H.icon,l.jsx("span",{children:H.label})]},H.key))})})]})]})}function eu(s){try{return{data:JSON.parse(s),error:null}}catch(n){return{data:null,error:n instanceof Error?n.message:"Failed to parse JSON file"}}}function tu(s){if(s.schemaVersion!==1)throw new Error("Invalid file format: schemaVersion must be 1");if(s.tavily!==void 0&&!Array.isArray(s.tavily)||s.brave!==void 0&&!Array.isArray(s.brave))throw new Error("Invalid file format: tavily and brave must be arrays if provided");if(!Array.isArray(s.tavily)&&!Array.isArray(s.brave))throw new Error("Invalid file format: at least one of tavily or brave must be provided");s.tavily||(s.tavily=[]),s.brave||(s.brave=[]);const n=s.tavily,a=s.brave;let o=0,u=0;for(const d of n)typeof d.label=="string"&&d.label.trim()&&typeof d.apiKey=="string"&&d.apiKey.trim()?o++:u++;for(const d of a)typeof d.label=="string"&&d.label.trim()&&typeof d.apiKey=="string"&&d.apiKey.trim()?o++:u++;return{valid:o,invalid:u,tavilyCount:n.length,braveCount:a.length}}function Kv({open:s,onClose:n,onConfirm:a}){const{t:o}=Me("keys"),{t:u}=Me("common"),[d,f]=x.useState(null),[m,p]=x.useState(null),[v,y]=x.useState(!1),[k,S]=x.useState(!1),[j,T]=x.useState(null),[O,N]=x.useState(null),L=async D=>{var B;const z=(B=D.target.files)==null?void 0:B[0];if(z){f(z),p(null),N(null),T(null),y(!0);try{const K=await z.text(),{data:q,error:ae}=eu(K);if(ae){N(ae),y(!1);return}const ie=tu(q);p(ie)}catch(K){N(K instanceof Error?K.message:"Failed to parse JSON file")}finally{y(!1)}}},_=async()=>{if(!(!d||!m)){S(!0),N(null);try{const D=await d.text(),z=JSON.parse(D),B=await a(z);T(B)}catch(D){N(D instanceof Error?D.message:"Failed to import keys")}finally{S(!1)}}},U=()=>{f(null),p(null),N(null),T(null),y(!1),S(!1),n()};return l.jsx(qn,{open:s,onClose:U,title:o("import.title"),children:l.jsx("div",{className:"stack",children:j?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"h3",children:o("import.resultTitle")}),l.jsx("div",{className:"help",children:o("import.resultSummary",{imported:j.summary.imported,failed:j.summary.failed,renamed:j.summary.renamed})}),j.renamed.length>0&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:o("import.renamedKeys")}),l.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:j.renamed.map((D,z)=>l.jsxs("li",{children:[l.jsx("span",{className:"mono",children:D.from}),"  ",l.jsx("span",{className:"mono",children:D.to})," (",D.provider,")"]},z))})]}),j.errors.length>0&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",style:{color:"var(--danger)"},children:o("import.errors")}),l.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:[j.errors.slice(0,10).map((D,z)=>l.jsxs("li",{children:[l.jsx("span",{className:"mono",children:D.label})," (",D.provider,"): ",D.error]},z)),j.errors.length>10&&l.jsxs("li",{children:["...and ",j.errors.length-10," more errors"]})]})]})]}),l.jsx("div",{className:"row",style:{justifyContent:"flex-end"},children:l.jsx("button",{className:"btn","data-variant":"primary",onClick:U,children:u("actions.close")})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{className:"label",htmlFor:"import-file",children:o("import.selectFile")}),l.jsx("input",{id:"import-file",type:"file",accept:".json,application/json",onChange:L,disabled:k,className:"input"})]}),v&&l.jsx("div",{className:"help",children:o("import.parsing")}),O&&l.jsx("div",{className:"help",style:{color:"var(--danger)"},children:O}),m&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"help",children:o("import.preview",{valid:m.valid,invalid:m.invalid,tavily:m.tavilyCount,brave:m.braveCount})}),m.invalid>0&&l.jsx("div",{className:"help",style:{color:"var(--warning)"},children:o("import.invalidWarning",{count:m.invalid})})]}),l.jsxs("div",{className:"row",style:{justifyContent:"flex-end",gap:"0.5rem"},children:[l.jsx("button",{className:"btn",onClick:U,disabled:k,children:u("actions.cancel")}),l.jsx("button",{className:"btn","data-variant":"primary",onClick:_,disabled:!m||m.valid===0||k,children:o(k?"import.importing":"import.confirm")})]})]})})})}function zv({open:s,onClose:n,onConfirm:a}){const{t:o}=Me("keys"),{t:u}=Me("common"),[d,f]=x.useState(""),[m,p]=x.useState(null),[v,y]=x.useState(!1),[k,S]=x.useState(!1),[j,T]=x.useState(null),[O,N]=x.useState(null),L=z=>{const B=z.target.value;if(f(B),p(null),N(null),T(null),!!B.trim()){y(!0);try{const{data:K,error:q}=eu(B);if(q){N(q),y(!1);return}const ae=tu(K);p(ae)}catch(K){N(K instanceof Error?K.message:"Failed to parse JSON")}finally{y(!1)}}},_=async()=>{if(!navigator.clipboard||!navigator.clipboard.readText){N(o("import.clipboardReadFailed"));return}try{const z=await navigator.clipboard.readText();f(z),p(null),N(null),T(null),y(!0);const{data:B,error:K}=eu(z);if(K){N(K),y(!1);return}const q=tu(B);p(q)}catch(z){N(z instanceof Error?z.message:o("import.clipboardReadFailed"))}finally{y(!1)}},U=async()=>{if(!(!d||!m)){S(!0),N(null);try{const z=JSON.parse(d),B=await a(z);T(B)}catch(z){N(z instanceof Error?z.message:"Failed to import keys")}finally{S(!1)}}},D=()=>{f(""),p(null),N(null),T(null),y(!1),S(!1),n()};return l.jsx(qn,{open:s,onClose:D,title:o("import.clipboardTitle"),children:l.jsx("div",{className:"stack",children:j?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"h3",children:o("import.resultTitle")}),l.jsx("div",{className:"help",children:o("import.resultSummary",{imported:j.summary.imported,failed:j.summary.failed,renamed:j.summary.renamed})}),j.renamed.length>0&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:o("import.renamedKeys")}),l.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:j.renamed.map((z,B)=>l.jsxs("li",{children:[l.jsx("span",{className:"mono",children:z.from}),"  ",l.jsx("span",{className:"mono",children:z.to})," (",z.provider,")"]},B))})]}),j.errors.length>0&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",style:{color:"var(--danger)"},children:o("import.errors")}),l.jsxs("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:[j.errors.slice(0,10).map((z,B)=>l.jsxs("li",{children:[l.jsx("span",{className:"mono",children:z.label})," (",z.provider,"): ",z.error]},B)),j.errors.length>10&&l.jsxs("li",{children:["...and ",j.errors.length-10," more errors"]})]})]})]}),l.jsx("div",{className:"row",style:{justifyContent:"flex-end"},children:l.jsx("button",{className:"btn","data-variant":"primary",onClick:D,children:u("actions.close")})})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{className:"label",htmlFor:"import-json",children:o("import.pasteJson")}),l.jsx("textarea",{id:"import-json",value:d,onChange:L,disabled:k,className:"input",rows:10,placeholder:'{"schemaVersion": 1, "tavily": [...], "brave": [...]}',style:{fontFamily:"monospace",fontSize:"0.875rem"}}),l.jsx("div",{className:"help",children:o("import.pasteHelp")}),l.jsx("button",{className:"btn",onClick:_,disabled:k,style:{alignSelf:"flex-start"},children:o("import.pasteFromClipboard")})]}),v&&l.jsx("div",{className:"help",children:o("import.parsing")}),O&&l.jsx("div",{className:"help",style:{color:"var(--danger)"},children:O}),m&&l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"help",children:o("import.preview",{valid:m.valid,invalid:m.invalid,tavily:m.tavilyCount,brave:m.braveCount})}),m.invalid>0&&l.jsx("div",{className:"help",style:{color:"var(--warning)"},children:o("import.invalidWarning",{count:m.invalid})})]}),l.jsxs("div",{className:"row",style:{justifyContent:"flex-end",gap:"0.5rem"},children:[l.jsx("button",{className:"btn",onClick:D,disabled:k,children:u("actions.cancel")}),l.jsx("button",{className:"btn","data-variant":"primary",onClick:U,disabled:!m||m.valid===0||k,children:o(k?"import.importing":"import.confirm")})]})]})})})}const _o=10;function Bv({api:s}){const{t:n}=Me("keys"),{t:a}=Me("common"),o=Qn(),[u,d]=ou(),[f,m]=x.useState("tavily"),[p,v]=x.useState([]),[y,k]=x.useState(!0),[S,j]=x.useState(!1),[T,O]=x.useState(null),[N,L]=x.useState([]),[_,U]=x.useState(!0),[D,z]=x.useState(null),[B,K]=x.useState(""),[q,ae]=x.useState("all"),[ie,de]=x.useState("createdAt"),[fe,H]=x.useState("desc"),[ee,V]=x.useState(1),[P,Z]=x.useState(new Set),[$,X]=x.useState(!1),[Y,E]=x.useState(!1),[F,he]=x.useState(""),[oe,ve]=x.useState(""),[ce,Se]=x.useState({}),je=u.get("create");x.useEffect(()=>{if(je!=="1")return;X(!0);const R=new URLSearchParams(u.toString());R.delete("create"),d(R,{replace:!0})},[je,u,d]);const[Ne,ze]=x.useState(null),[mt,xn]=x.useState(!1),[nt,nn]=x.useState(null),[Yn,rn]=x.useState(!1),[Wt,te]=x.useState(!1),[Ue,ut]=x.useState(!1),[Xe,vr]=x.useState(""),[sn,ts]=x.useState(""),[ct,yr]=x.useState({}),[Dt,kn]=x.useState(null),[ns,Sn]=x.useState(!1),[Gn,sa]=x.useState(!1),[aa,rs]=x.useState(!1),[zi,wn]=x.useState(!1),rt=x.useCallback(async()=>{k(!0),O(null);try{v(await s.listKeys())}catch(R){O(typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError")),v([])}finally{k(!1)}},[s,a]),Ct=x.useCallback(async()=>{U(!0),z(null);try{L(await s.listBraveKeys())}catch(R){z(typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError")),L([])}finally{U(!1)}},[s,a]);x.useEffect(()=>{rt(),Ct()},[rt,Ct]);const Nn=x.useMemo(()=>{let R=p;return B.trim()&&(R=R.filter(xe=>xe.label.toLowerCase().includes(B.toLowerCase()))),q!=="all"&&(R=R.filter(xe=>xe.status===q)),R=[...R].sort((xe,ke)=>{let qe=0;switch(ie){case"label":qe=xe.label.localeCompare(ke.label);break;case"status":qe=xe.status.localeCompare(ke.status);break;case"lastUsedAt":qe=(xe.lastUsedAt||"").localeCompare(ke.lastUsedAt||"");break;case"createdAt":qe=xe.createdAt.localeCompare(ke.createdAt);break}return fe==="asc"?qe:-qe}),R},[p,B,q,ie,fe]),an=x.useMemo(()=>{const R=(ee-1)*_o;return Nn.slice(R,R+_o)},[Nn,ee]);x.useEffect(()=>{V(1)},[B,q,ie,fe]);const st=x.useMemo(()=>{const R=p.filter(ft=>ft.status==="active").length,xe=p.filter(ft=>ft.status==="disabled").length,ke=p.filter(ft=>ft.status==="cooldown").length,qe=p.filter(ft=>ft.status==="invalid").length,Et=p.length,be=p.reduce((ft,da)=>ft+(da.remainingCredits||0),0),us=Et>0?Math.round(R/Et*100):0;return{active:R,disabled:xe,cooldown:ke,invalid:qe,total:Et,totalCredits:be,activeRate:us}},[p]),Be=x.useMemo(()=>{const R={};return ce.label&&!F.trim()?R.label=n("form.labelRequired"):ce.label&&F.length<2&&(R.label=n("form.labelMinLength")),ce.apiKey&&!oe.trim()?R.apiKey=n("form.apiKeyRequired"):ce.apiKey&&!oe.startsWith("tvly-")&&(R.apiKey=n("form.apiKeyFormat")),R},[F,oe,ce,n]),ia=!Be.label&&!Be.apiKey&&F.trim()&&oe.trim(),dt=x.useMemo(()=>{const R={};return ct.label&&!Xe.trim()?R.label=n("form.labelRequired"):ct.label&&Xe.length<2&&(R.label=n("form.labelMinLength")),ct.apiKey&&!sn.trim()&&(R.apiKey=n("form.apiKeyRequired")),R},[Xe,sn,ct,n]),la=!dt.label&&!dt.apiKey&&Xe.trim()&&sn.trim();function ss(){K(""),ae("all")}function oa(R){const[xe,ke]=R.split("-");de(xe),H(ke)}async function as(){if(!(!F.trim()||!oe.trim())){E(!0);try{await s.createKey({label:F.trim(),apiKey:oe.trim()}),o.push({title:n("toast.added"),message:n("toast.addedMessage",{name:F.trim()}),variant:"success"}),X(!1),he(""),ve(""),Se({}),await rt()}catch(R){o.push({title:n("toast.createFailed"),message:typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError"),variant:"error"})}finally{E(!1)}}}async function ua(R,xe){try{await s.updateKeyStatus(R,xe),o.push({title:n("toast.updated"),message:n("toast.updatedMessage",{status:xe}),variant:"success"}),await rt()}catch(ke){o.push({title:n("toast.updateFailed"),message:typeof(ke==null?void 0:ke.message)=="string"?ke.message:a("errors.unknownError"),variant:"error"})}}async function Xn(R,xe){try{await s.updateBraveKeyStatus(R,xe),o.push({title:n("toast.updated"),message:n("toast.updatedMessage",{status:xe}),variant:"success"}),await Ct()}catch(ke){o.push({title:n("toast.updateFailed"),message:typeof(ke==null?void 0:ke.message)=="string"?ke.message:a("errors.unknownError"),variant:"error"})}}async function is(){if(Ne){xn(!0);try{await s.deleteKey(Ne.id),o.push({title:n("toast.deleted"),message:n("toast.deletedMessage",{name:Ne.label}),variant:"success"}),ze(null),await rt()}catch(R){o.push({title:n("toast.deleteFailed"),message:typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError"),variant:"error"})}finally{xn(!1)}}}async function Zn(){if(!(!Xe.trim()||!sn.trim())){ut(!0);try{await s.createBraveKey({label:Xe.trim(),apiKey:sn.trim()}),o.push({title:n("toast.added"),message:n("toast.addedMessage",{name:Xe.trim()}),variant:"success"}),te(!1),vr(""),ts(""),yr({}),await Ct()}catch(R){o.push({title:n("toast.createFailed"),message:typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError"),variant:"error"})}finally{ut(!1)}}}async function Bi(){if(Dt){Sn(!0);try{await s.deleteBraveKey(Dt.id),o.push({title:n("toast.deleted"),message:n("toast.deletedMessage",{name:Dt.label}),variant:"success"}),kn(null),await Ct()}catch(R){o.push({title:n("toast.deleteFailed"),message:typeof(R==null?void 0:R.message)=="string"?R.message:a("errors.unknownError"),variant:"error"})}finally{Sn(!1)}}}async function er(){if(!S){j(!0);try{o.push({title:n("toast.checkingCredits"),message:n("toast.checkingCreditsMessage"),variant:"info"});const R=await s.syncAllKeyCredits();o.push({title:n("toast.creditsUpdated"),message:n("toast.creditsUpdatedMessage",{total:R.total,success:R.success,failed:R.failed}),variant:R.failed>0?"warning":"success"}),await rt()}catch(R){o.push({title:n("toast.syncFailed"),message:R.message,variant:"error"})}finally{j(!1)}}}const xr=()=>{P.size===an.length?Z(new Set):Z(new Set(an.map(R=>R.id)))},kr=R=>{const xe=new Set(P);xe.has(R)?xe.delete(R):xe.add(R),Z(xe)},tr=()=>{Z(new Set)},Hi=async()=>{const R=Array.from(P);if(R.length!==0){o.push({title:n("toast.syncing"),message:n("toast.syncingMessage",{count:R.length}),variant:"info"});try{await Promise.all(R.map(xe=>s.refreshKeyCredits(xe))),o.push({title:n("toast.syncSuccess"),message:n("toast.syncSuccessMessage",{count:R.length}),variant:"success"}),tr(),await rt()}catch(xe){o.push({title:n("toast.bulkRefreshFailed"),message:xe.message,variant:"error"})}}},Vi=async()=>{const R=Array.from(P);R.length!==0&&nn(R)},Wi=async()=>{if(!(!nt||nt.length===0)){rn(!0),o.push({title:n("toast.bulkDeleting"),message:n("toast.bulkDeletingMessage",{count:nt.length}),variant:"info"});try{await Promise.all(nt.map(R=>s.deleteKey(R))),o.push({title:n("toast.bulkDeleted"),message:n("toast.bulkDeletedMessage",{count:nt.length}),variant:"success"}),tr(),nn(null),await rt()}catch(R){o.push({title:n("toast.bulkDeleteFailed"),message:R.message,variant:"error"})}finally{rn(!1)}}},ln=async()=>{var R,xe;wn(!0),o.push({title:n("export.preparing"),message:n("export.securityWarning"),variant:"warning"});try{const ke=await s.exportKeys(),qe=new Blob([JSON.stringify(ke,null,2)],{type:"application/json"}),Et=URL.createObjectURL(qe),be=document.createElement("a");be.href=Et;const us=new Date().toISOString().replace(/[:.]/g,"-").slice(0,19);be.download=`mcp-nexus-keys-${us}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(Et);const ft=(((R=ke.tavily)==null?void 0:R.length)||0)+(((xe=ke.brave)==null?void 0:xe.length)||0);o.push({title:n("export.success"),message:n("export.successMessage",{count:ft}),variant:"success"})}catch(ke){o.push({title:n("export.failed"),message:typeof(ke==null?void 0:ke.message)=="string"?ke.message:a("errors.unknownError"),variant:"error"})}finally{wn(!1)}},ca=async()=>{var R,xe;if(!navigator.clipboard||!navigator.clipboard.writeText){o.push({title:n("export.clipboardFailed"),message:n("export.clipboardNotSupported"),variant:"error"});return}wn(!0);try{const ke=await s.exportKeys(),qe=JSON.stringify(ke,null,2);await navigator.clipboard.writeText(qe);const Et=(((R=ke.tavily)==null?void 0:R.length)||0)+(((xe=ke.brave)==null?void 0:xe.length)||0);o.push({title:n("export.clipboardSuccess"),message:n("export.clipboardSuccessMessage",{count:Et}),variant:"success"})}catch(ke){ke.name==="NotAllowedError"?o.push({title:n("export.clipboardFailed"),message:n("export.clipboardPermissionDenied"),variant:"error"}):o.push({title:n("export.clipboardFailed"),message:typeof(ke==null?void 0:ke.message)=="string"?ke.message:a("errors.unknownError"),variant:"error"})}finally{wn(!1)}},ls=async R=>{const xe=await s.importKeys(R);return await rt(),await Ct(),xe},os=B.trim()||q!=="all",qt=x.useMemo(()=>{const R=N.filter(be=>be.status==="active").length,xe=N.filter(be=>be.status==="disabled").length,ke=N.filter(be=>be.status==="invalid").length,qe=N.length,Et=qe>0?Math.round(R/qe*100):0;return{active:R,disabled:xe,invalid:ke,total:qe,activeRate:Et}},[N]);return l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"tabs",role:"tablist",children:[l.jsxs("button",{role:"tab","aria-selected":f==="tavily",className:`tab${f==="tavily"?" tab--active":""}`,onClick:()=>m("tavily"),children:[n("tabs.tavily"),l.jsx("span",{className:"tabBadge",children:p.length})]}),l.jsxs("button",{role:"tab","aria-selected":f==="brave",className:`tab${f==="brave"?" tab--active":""}`,onClick:()=>m("brave"),children:[n("tabs.brave"),l.jsx("span",{className:"tabBadge",children:N.length})]})]}),f==="tavily"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"kpis",children:[l.jsx(Bn,{title:n("kpi.totalCapacity"),value:st.totalCredits.toLocaleString(),icon:l.jsx(Gr,{}),variant:"tokens"}),l.jsx(Bn,{title:n("kpi.activeKeys"),value:`${st.active}/${st.total}`,icon:l.jsx(gn,{}),variant:"keys"}),l.jsx(Bn,{title:n("kpi.systemHealth"),value:`${st.activeRate}%`,icon:l.jsx(Yr,{}),variant:"usage"})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:n("title")}),l.jsxs("div",{className:"help",children:[st.total," total  ",st.active," active  ",st.cooldown," cooldown  ",st.invalid," invalid "," ",st.disabled," disabled"]})]}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx(Uv,{onExportToFile:ln,onExportToClipboard:ca,onImportFromFile:()=>sa(!0),onImportFromClipboard:()=>rs(!0),loading:zi}),l.jsxs("button",{className:"btn",onClick:rt,disabled:y,children:[l.jsx(Zt,{className:y?"spin":""}),n("actions.refresh")]}),l.jsxs("button",{className:"btn",onClick:er,title:n("actions.checkCredits"),disabled:S,style:{minWidth:140},children:[l.jsx(Zt,{className:S?"spin":""}),n(S?"actions.checkingCredits":"actions.checkCredits")]}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:()=>X(!0),children:[l.jsx(Yo,{}),n("actions.addKey")]})]})]})}),l.jsxs("div",{className:"filterBar",children:[l.jsxs("div",{className:"filterBarGrid",children:[l.jsxs("div",{className:"searchInput",children:[l.jsx("div",{className:"searchInputIcon",children:l.jsx(es,{})}),l.jsx("input",{type:"search",className:"input",placeholder:n("search.placeholder"),"aria-label":n("search.placeholder"),value:B,onChange:R=>K(R.target.value),style:{paddingLeft:40}})]}),l.jsxs("select",{className:"select","aria-label":n("table.status"),value:q,onChange:R=>ae(R.target.value),style:{minWidth:150},children:[l.jsx("option",{value:"all",children:n("filter.allStatuses")}),l.jsx("option",{value:"active",children:n("filter.active")}),l.jsx("option",{value:"disabled",children:n("filter.disabled")}),l.jsx("option",{value:"cooldown",children:n("filter.cooldown")}),l.jsx("option",{value:"invalid",children:n("filter.invalid")})]}),l.jsxs("select",{className:"select","aria-label":n("sort.label"),value:`${ie}-${fe}`,onChange:R=>oa(R.target.value),style:{minWidth:160},children:[l.jsx("option",{value:"createdAt-desc",children:n("sort.newestFirst")}),l.jsx("option",{value:"createdAt-asc",children:n("sort.oldestFirst")}),l.jsx("option",{value:"label-asc",children:n("sort.labelAZ")}),l.jsx("option",{value:"label-desc",children:n("sort.labelZA")}),l.jsx("option",{value:"lastUsedAt-desc",children:n("sort.recentlyUsed")}),l.jsx("option",{value:"status-asc",children:n("sort.statusAZ")})]})]}),l.jsxs("div",{className:"filterResults",children:[l.jsx("span",{children:n("search.showing",{filtered:Nn.length,total:p.length})}),os&&l.jsx("button",{className:"btn btn--xs","data-variant":"ghost",onClick:ss,children:n("search.clearFilters")})]})]}),P.size>0&&l.jsxs("div",{className:"bulkActionsBar",children:[l.jsxs("div",{className:"bulkActionsInfo",children:[l.jsx("strong",{children:P.size})," ",P.size===1?"key":"keys"," selected"]}),l.jsxs("div",{className:"bulkActionsButtons",children:[l.jsxs("button",{className:"btn",onClick:Hi,title:n("bulk.refreshCredits"),children:[l.jsx(Zt,{}),n("bulk.refreshCredits")]}),l.jsxs("button",{className:"btn","data-variant":"danger",onClick:Vi,title:n("bulk.deleteSelected"),children:[l.jsx(ji,{}),n("bulk.deleteSelected")]}),l.jsx("button",{className:"btn","data-variant":"ghost",onClick:tr,children:n("bulk.clearSelection")})]})]}),l.jsxs("div",{className:"cardBody p-0",children:[T?l.jsx("div",{className:"p-4",children:l.jsx(Xr,{message:T,onRetry:rt,retrying:y})}):null,l.jsx(na,{ariaLabel:n("title"),columns:[{id:"select",header:l.jsx("input",{type:"checkbox",checked:P.size===an.length&&an.length>0,onChange:xr,"aria-label":n("table.selectAll"),style:{cursor:"pointer"}}),headerStyle:{width:40},dataLabel:n("table.select"),cell:R=>l.jsx("input",{type:"checkbox",checked:P.has(R.id),onChange:()=>kr(R.id),"aria-label":n("table.selectKey",{label:R.label}),style:{cursor:"pointer"}})},{id:"label",header:n("table.label"),headerStyle:{width:"15%"},dataLabel:n("table.label"),cellClassName:"mono",cell:R=>R.label},{id:"key",header:n("table.apiKey"),headerStyle:{width:"25%"},dataLabel:n("table.apiKey"),cell:R=>l.jsx(xf,{keyId:R.id,maskedKey:R.maskedKey||"",api:s})},{id:"credits",header:n("table.credits"),headerStyle:{width:"20%"},dataLabel:n("table.credits"),cell:R=>l.jsx(Dv,{keyId:R.id,remaining:R.remainingCredits,total:R.totalCredits,lastChecked:R.lastCheckedAt,api:s,onUpdate:rt})},{id:"status",header:n("table.status"),headerStyle:{width:"12%"},dataLabel:n("table.status"),cell:R=>l.jsx(kf,{status:R.status,onChange:xe=>ua(R.id,xe)})},{id:"lastUsed",header:n("table.lastUsed"),headerStyle:{width:"14%"},dataLabel:n("table.lastUsed"),cellClassName:"mono",cell:R=>en(R.lastUsedAt)},{id:"created",header:n("table.created"),headerStyle:{width:"14%"},dataLabel:n("table.created"),cellClassName:"mono",cell:R=>en(R.createdAt)},{id:"actions",header:"",headerStyle:{width:"10%",textAlign:"right"},headerAlign:"right",dataLabel:n("table.actions"),cellAlign:"right",cell:R=>l.jsx(ea,{icon:l.jsx(ji,{}),variant:"ghost-danger",onClick:()=>ze(R),title:n("button.deleteKey"),"aria-label":n("button.deleteKey")})}],rows:an,rowKey:R=>R.id,loading:y&&p.length===0,empty:l.jsx(ta,{icon:l.jsx(gn,{}),message:n(os?"empty.noMatch":"empty.noKeys"),action:os?{label:n("search.clearFilters"),onClick:ss,variant:"ghost"}:{label:n("actions.addKey"),onClick:()=>X(!0)}})}),l.jsx(hu,{total:Nn.length,page:ee,pageSize:_o,onChange:V})]})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"kpis",children:[l.jsx(Bn,{title:n("brave.kpi.activeKeys"),value:`${qt.active}/${qt.total}`,icon:l.jsx(gn,{}),variant:"keys"}),l.jsx(Bn,{title:n("brave.kpi.systemHealth"),value:`${qt.activeRate}%`,icon:l.jsx(Yr,{}),variant:"usage"})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:n("brave.title")}),l.jsxs("div",{className:"help",children:[qt.total," total  ",qt.active," active  ",qt.invalid," invalid "," ",qt.disabled," disabled"]})]}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsxs("button",{className:"btn",onClick:Ct,disabled:_,children:[l.jsx(Zt,{className:_?"spin":""}),n("brave.actions.refresh")]}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:()=>te(!0),children:[l.jsx(Yo,{}),n("brave.actions.addKey")]})]})]})}),l.jsxs("div",{className:"cardBody p-0",children:[D?l.jsx("div",{className:"p-4",children:l.jsx(Xr,{message:D,onRetry:Ct,retrying:_})}):null,l.jsx(na,{ariaLabel:n("brave.title"),columns:[{id:"label",header:n("table.label"),headerStyle:{width:"20%"},dataLabel:n("table.label"),cellClassName:"mono",cell:R=>R.label},{id:"key",header:n("table.apiKey"),headerStyle:{width:"30%"},dataLabel:n("table.apiKey"),cell:R=>l.jsx(xf,{keyId:R.id,maskedKey:R.maskedKey||"",api:{revealKey:s.revealBraveKey}})},{id:"status",header:n("table.status"),headerStyle:{width:"15%"},dataLabel:n("table.status"),cell:R=>l.jsx(kf,{status:R.status,options:["active","disabled","invalid"],onChange:xe=>Xn(R.id,xe)})},{id:"lastUsed",header:n("table.lastUsed"),headerStyle:{width:"15%"},dataLabel:n("table.lastUsed"),cellClassName:"mono",cell:R=>en(R.lastUsedAt)},{id:"created",header:n("table.created"),headerStyle:{width:"15%"},dataLabel:n("table.created"),cellClassName:"mono",cell:R=>en(R.createdAt)},{id:"actions",header:"",headerStyle:{width:"5%",textAlign:"right"},headerAlign:"right",dataLabel:n("table.actions"),cellAlign:"right",cell:R=>l.jsx(ea,{icon:l.jsx(ji,{}),variant:"ghost-danger",onClick:()=>kn(R),title:n("button.deleteKey"),"aria-label":n("button.deleteKey")})}],rows:N,rowKey:R=>R.id,loading:_&&N.length===0,empty:l.jsx(ta,{icon:l.jsx(gn,{}),message:n("brave.empty.noKeys"),action:{label:n("brave.actions.addKey"),onClick:()=>te(!0)}})})]})]})]}),l.jsx(qn,{title:n("dialog.addTitle"),open:$,onClose:()=>Y?null:X(!1),children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsxs("label",{className:"label",htmlFor:"key-label",children:[n("form.label")," ",l.jsx("span",{style:{color:"var(--danger)"},children:n("form.required")})]}),l.jsx("input",{id:"key-label",className:"input","data-error":!!(Be.label&&ce.label),value:F,onChange:R=>he(R.target.value),onBlur:()=>Se(R=>({...R,label:!0})),placeholder:n("form.labelPlaceholder"),autoComplete:"off","aria-invalid":!!(Be.label&&ce.label),"aria-describedby":Be.label&&ce.label?"label-error":"label-help"}),Be.label&&ce.label?l.jsx("div",{id:"label-error",className:"fieldError",children:Be.label}):l.jsx("div",{id:"label-help",className:"help",children:n("form.labelHelp")})]}),l.jsxs("div",{className:"stack",children:[l.jsxs("label",{className:"label",htmlFor:"api-key",children:[n("form.apiKey")," ",l.jsx("span",{style:{color:"var(--danger)"},children:n("form.required")})]}),l.jsx("input",{id:"api-key",className:"input mono","data-error":!!(Be.apiKey&&ce.apiKey),value:oe,onChange:R=>ve(R.target.value),onBlur:()=>Se(R=>({...R,apiKey:!0})),placeholder:n("form.apiKeyPlaceholder"),autoComplete:"off","aria-invalid":!!(Be.apiKey&&ce.apiKey),"aria-describedby":Be.apiKey&&ce.apiKey?"apikey-error":"apikey-help"}),Be.apiKey&&ce.apiKey?l.jsx("div",{id:"apikey-error",className:"fieldError",children:Be.apiKey}):l.jsx("div",{id:"apikey-help",className:"help",children:n("form.apiKeyHelp")})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10},children:[l.jsx("button",{className:"btn",onClick:()=>X(!1),disabled:Y,children:a("actions.cancel")}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:as,disabled:Y||!ia,children:[l.jsx(gn,{}),n(Y?"button.adding":"actions.addKey")]})]})]})}),l.jsx(bi,{open:!!Ne,title:n("dialog.deleteTitle"),description:n("dialog.deleteDescription",{label:(Ne==null?void 0:Ne.label)??""}),confirmLabel:a("actions.delete"),confirmVariant:"danger",requireText:"DELETE",requireTextLabel:n("dialog.requireDeleteText"),confirming:mt,onClose:()=>mt?null:ze(null),onConfirm:is}),l.jsx(bi,{open:nt!==null,title:n("dialog.deleteSelectedTitle"),description:n("dialog.deleteSelectedDescription",{count:(nt==null?void 0:nt.length)??0}),confirmLabel:a("actions.delete"),confirmVariant:"danger",requireText:"DELETE",requireTextLabel:n("dialog.requireDeleteSelectedText"),confirming:Yn,onClose:()=>Yn?null:nn(null),onConfirm:Wi}),l.jsx(qn,{title:n("brave.dialog.addTitle"),open:Wt,onClose:()=>Ue?null:te(!1),children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsxs("label",{className:"label",htmlFor:"brave-key-label",children:[n("form.label")," ",l.jsx("span",{style:{color:"var(--danger)"},children:n("form.required")})]}),l.jsx("input",{id:"brave-key-label",className:"input","data-error":!!(dt.label&&ct.label),value:Xe,onChange:R=>vr(R.target.value),onBlur:()=>yr(R=>({...R,label:!0})),placeholder:n("form.labelPlaceholder"),autoComplete:"off","aria-invalid":!!(dt.label&&ct.label),"aria-describedby":dt.label&&ct.label?"brave-label-error":"brave-label-help"}),dt.label&&ct.label?l.jsx("div",{id:"brave-label-error",className:"fieldError",children:dt.label}):l.jsx("div",{id:"brave-label-help",className:"help",children:n("form.labelHelp")})]}),l.jsxs("div",{className:"stack",children:[l.jsxs("label",{className:"label",htmlFor:"brave-api-key",children:[n("form.apiKey")," ",l.jsx("span",{style:{color:"var(--danger)"},children:n("form.required")})]}),l.jsx("input",{id:"brave-api-key",className:"input mono","data-error":!!(dt.apiKey&&ct.apiKey),value:sn,onChange:R=>ts(R.target.value),onBlur:()=>yr(R=>({...R,apiKey:!0})),placeholder:n("brave.form.apiKeyPlaceholder"),autoComplete:"off","aria-invalid":!!(dt.apiKey&&ct.apiKey),"aria-describedby":dt.apiKey&&ct.apiKey?"brave-apikey-error":"brave-apikey-help"}),dt.apiKey&&ct.apiKey?l.jsx("div",{id:"brave-apikey-error",className:"fieldError",children:dt.apiKey}):l.jsx("div",{id:"brave-apikey-help",className:"help",children:n("form.apiKeyHelp")})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:10},children:[l.jsx("button",{className:"btn",onClick:()=>te(!1),disabled:Ue,children:a("actions.cancel")}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:Zn,disabled:Ue||!la,children:[l.jsx(gn,{}),n(Ue?"button.adding":"brave.actions.addKey")]})]})]})}),l.jsx(bi,{open:!!Dt,title:n("dialog.deleteTitle"),description:n("dialog.deleteDescription",{label:(Dt==null?void 0:Dt.label)??""}),confirmLabel:a("actions.delete"),confirmVariant:"danger",requireText:"DELETE",requireTextLabel:n("dialog.requireDeleteText"),confirming:ns,onClose:()=>ns?null:kn(null),onConfirm:Bi}),l.jsx(Kv,{open:Gn,onClose:()=>sa(!1),onConfirm:ls}),l.jsx(zv,{open:aa,onClose:()=>rs(!1),onConfirm:ls})]})}function Hv({apiBaseUrl:s,defaultRemember:n,onLogin:a,onGoToSettings:o}){const{t:u}=Me("login"),{t:d}=Me("common"),f=Qn(),[m,p]=x.useState(""),[v,y]=x.useState(n),[k,S]=x.useState(!1),j=x.useMemo(()=>Iv(m),[m]);async function T(){const O=m.trim();if(!O){f.push({title:u("toast.tokenRequired"),message:u("toast.tokenRequiredMessage")});return}S(!0);try{await kh({baseUrl:s,adminToken:O}).listKeys(),a({adminToken:O,remember:v}),f.push({title:u("toast.signedIn")})}catch(N){const L=typeof(N==null?void 0:N.status)=="number"?N.status:null;N instanceof Ot&&L===401?f.push({title:u("toast.authFailed"),message:u("toast.authFailedMessage")}):N instanceof Ot&&L===404?f.push({title:u("toast.notFound"),message:u("toast.notFoundMessage")}):N instanceof Ot&&L===0?f.push({title:u("toast.networkError"),message:u("toast.networkErrorMessage")}):f.push({title:u("toast.signInFailed"),message:typeof(N==null?void 0:N.message)=="string"?N.message:d("errors.unknownError")})}finally{S(!1)}}return l.jsx("div",{className:"stack",children:l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:u("title")}),l.jsx("div",{className:"help",children:u("subtitle")})]}),l.jsx("button",{className:"btn",onClick:o,children:d("actions.settings",{defaultValue:"Settings"})})]})}),l.jsx("div",{className:"cardBody",children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"admin-token-input",className:"label",children:u("form.tokenLabel")}),l.jsx("input",{id:"admin-token-input",className:"input mono",type:"password",value:m,onChange:O=>p(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),T())},placeholder:u("form.tokenPlaceholder"),autoComplete:"off",autoFocus:!0}),l.jsxs("div",{className:"help",children:[u("form.tokenHelp")," ",j?l.jsxs("span",{className:"mono",children:["(",j,")"]}):null]})]}),l.jsxs("label",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",checked:v,onChange:O=>y(O.target.checked)}),l.jsx("span",{className:"help",children:u("form.remember")})]}),l.jsx("div",{className:"flex justify-end gap-3",children:l.jsxs("button",{className:"btn","data-variant":"primary",onClick:T,disabled:k,children:[l.jsx(Yr,{}),d("actions.signIn")]})}),l.jsxs("div",{className:"pill",children:[l.jsx(Yr,{}),l.jsx("span",{className:"help",children:u("pill.info")})]})]})})]})})}function Vv({title:s,subtitle:n,liveLabel:a,metrics:o,loading:u}){return u?l.jsxs("div",{className:"card metricsCard",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row metricsCardHeader",children:[l.jsxs("div",{className:"metricsCardTitleStack",children:[l.jsx("div",{className:"h2",children:s}),n?l.jsx("div",{className:"help",children:n}):null]}),a?l.jsxs("span",{className:"pill metricsLivePill","aria-live":"polite",children:[l.jsx("span",{className:"liveDot","aria-hidden":"true"}),l.jsx("span",{children:a})]}):null]})}),l.jsx("div",{className:"cardBody",children:l.jsxs("div",{className:"metricsGrid","aria-hidden":"true",children:[l.jsx("div",{className:"skeleton skeletonMetricTile"}),l.jsx("div",{className:"skeleton skeletonMetricTile"}),l.jsx("div",{className:"skeleton skeletonMetricTile"}),l.jsx("div",{className:"skeleton skeletonMetricTile"})]})})]}):l.jsxs("div",{className:"card metricsCard",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row metricsCardHeader",children:[l.jsxs("div",{className:"metricsCardTitleStack",children:[l.jsx("div",{className:"h2",children:s}),n?l.jsx("div",{className:"help",children:n}):null]}),a?l.jsxs("span",{className:"pill metricsLivePill","aria-live":"polite",children:[l.jsx("span",{className:"liveDot","aria-hidden":"true"}),l.jsx("span",{children:a})]}):null]})}),l.jsx("div",{className:"cardBody",children:l.jsx("dl",{className:"metricsGrid","aria-label":s,children:o.map((d,f)=>l.jsxs("div",{className:"metricTile",children:[l.jsx("dt",{className:"metricLabel",children:d.label}),l.jsx("dd",{className:"metricValue","data-variant":d.variant||"neutral",children:d.value})]},`${d.label}-${f}`))})})]})}function Wv({errors:s,loading:n}){return n?l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsx("div",{className:"h3",children:"Recent Errors"})}),l.jsxs("div",{className:"cardBody",children:[l.jsx("div",{className:"skeleton skeletonTableRow"}),l.jsx("div",{className:"skeleton skeletonTableRow"})]})]}):s.length===0?l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsx("div",{className:"h3",children:"Recent Errors"})}),l.jsx("div",{className:"cardBody",children:l.jsx("div",{className:"help",style:{textAlign:"center",padding:"1rem"},children:"No errors in the last hour"})})]}):l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsx("div",{className:"h3",children:"Recent Errors"})}),l.jsx("div",{className:"cardBody p-0",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{width:140},children:"Tool"}),l.jsx("th",{children:"Error"}),l.jsx("th",{style:{width:160},children:"Time"})]})}),l.jsx("tbody",{children:s.map(a=>l.jsxs("tr",{children:[l.jsx("td",{className:"mono",children:a.toolName}),l.jsx("td",{className:"mono",style:{color:"var(--color-danger)"},children:a.errorMessage||"Unknown error"}),l.jsx("td",{className:"mono",children:new Date(a.timestamp).toLocaleTimeString()})]},a.id))})]})})]})}function qv({hasKeys:s,hasTokens:n,onGoToKeys:a,onGoToTokens:o,onDismiss:u}){const{t:d}=Me("overview"),[f,m]=x.useState(!1);if(f||s&&n)return null;const p=[{number:1,title:d("onboarding.step1.title","Add API Keys"),description:d("onboarding.step1.description","Add your Tavily or Brave API keys to enable search functionality"),icon:l.jsx(gn,{}),completed:s,action:a,actionLabel:d("onboarding.step1.action","Add Keys")},{number:2,title:d("onboarding.step2.title","Create Client Token"),description:d("onboarding.step2.description","Generate a token for your MCP client to authenticate"),icon:l.jsx(Gr,{}),completed:n,action:o,actionLabel:d("onboarding.step2.action","Create Token")},{number:3,title:d("onboarding.step3.title","Connect Your Client"),description:d("onboarding.step3.description","Configure your MCP client with the server URL and token"),icon:l.jsx(es,{}),completed:s&&n,action:void 0,actionLabel:d("onboarding.step3.action","View Docs")}],v=()=>{m(!0),u()};return l.jsxs("div",{className:"card","data-variant":"info",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:d("onboarding.title","Getting Started")}),l.jsx("div",{className:"help",children:d("onboarding.subtitle","Complete these steps to start using MCP Nexus")})]}),l.jsx("button",{className:"btn","data-variant":"ghost",onClick:v,"aria-label":d("onboarding.dismiss","Dismiss"),children:d("onboarding.dismiss","Dismiss")})]})}),l.jsx("div",{className:"cardBody",children:l.jsx("div",{className:"onboardingSteps",children:p.map(y=>l.jsxs("div",{className:"onboardingStep","data-completed":y.completed,children:[l.jsx("div",{className:"onboardingStepNumber","data-completed":y.completed,children:y.completed?"":y.number}),l.jsxs("div",{className:"onboardingStepContent",children:[l.jsx("div",{className:"onboardingStepTitle",children:y.title}),l.jsx("div",{className:"onboardingStepDescription help",children:y.description}),!y.completed&&y.action&&l.jsx("button",{className:"btn mt-2","data-variant":"primary","data-size":"sm",onClick:y.action,children:y.actionLabel})]})]},y.number))})})]})}function Jv({api:s,onGoToKeys:n,onGoToTokens:a,onGoToUsage:o}){var L,_,U,D,z,B,K,q,ae,ie,de,fe,H,ee,V;const{t:u}=Me("overview"),{t:d}=Me("common"),[f,m]=x.useState(null),[p,v]=x.useState(!0),[y,k]=x.useState(null),S=x.useCallback(async()=>{v(!0),k(null);try{const[P,Z,$,X,Y]=await Promise.all([s.listKeys(),s.listTokens(),s.listUsage({limit:10,order:"desc"}),s.getMetrics().catch(()=>null),s.getCostEstimate().catch(()=>null)]);m({keys:P,tokens:Z,usage:$.logs,metrics:X,costEstimate:Y})}catch(P){k(typeof(P==null?void 0:P.message)=="string"?P.message:d("errors.unknownError")),m(null)}finally{v(!1)}},[s,d]);x.useEffect(()=>{S()},[S]);const j=x.useMemo(()=>{const P=(f==null?void 0:f.keys)??[],Z=(f==null?void 0:f.tokens)??[],$=P.filter(F=>F.status==="active").length,X=P.filter(F=>F.status==="invalid"||F.status==="cooldown").length,Y=Z.filter(F=>!F.revokedAt).length,E=Z.filter(F=>!!F.revokedAt).length;return{totalKeys:P.length,activeKeys:$,unhealthyKeys:X,totalTokens:Z.length,activeTokens:Y,revokedTokens:E}},[f]),[T,O]=x.useState(()=>{try{return localStorage.getItem("mcp-nexus-onboarding-dismissed")==="true"}catch{return!1}}),N=x.useCallback(()=>{O(!0);try{localStorage.setItem("mcp-nexus-onboarding-dismissed","true")}catch{}},[]);return l.jsxs("div",{className:"stack",children:[!T&&f&&(j.totalKeys===0||j.activeTokens===0)&&l.jsx(qv,{hasKeys:j.totalKeys>0,hasTokens:j.activeTokens>0,onGoToKeys:n,onGoToTokens:a,onDismiss:N}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:u("title")}),l.jsx("div",{className:"help",children:u("subtitle")})]}),l.jsxs("button",{className:"btn",onClick:S,disabled:p,children:[l.jsx(Zt,{className:p?"spin":""}),u("actions.refresh")]})]})}),l.jsxs("div",{className:"cardBody",children:[y?l.jsx(Xr,{message:y,onRetry:S,retrying:p}):null,l.jsx("div",{className:"kpis mt-2",children:p&&!f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"skeleton skeletonKpi"}),l.jsx("div",{className:"skeleton skeletonKpi"}),l.jsx("div",{className:"skeleton skeletonKpi"})]}):l.jsxs(l.Fragment,{children:[l.jsx(Bn,{label:u("kpi.tavilyKeys"),value:j.totalKeys,hint:u("kpi.keysHint",{active:j.activeKeys,unhealthy:j.unhealthyKeys}),icon:l.jsx(gn,{}),variant:"keys",onClick:n}),l.jsx(Bn,{label:u("kpi.clientTokens"),value:j.totalTokens,hint:u("kpi.tokensHint",{active:j.activeTokens,revoked:j.revokedTokens}),icon:l.jsx(Gr,{}),variant:"tokens",onClick:a}),l.jsx(Bn,{label:u("kpi.usage"),value:((L=f==null?void 0:f.usage)==null?void 0:L.length)??0,hint:u("kpi.usageHint"),icon:l.jsx(es,{}),variant:"usage",onClick:o})]})})]})]}),l.jsxs("div",{className:"overviewBentoRow",children:[l.jsx(Vv,{title:u("metrics.realtime"),subtitle:u("metrics.subtitle"),liveLabel:u("metrics.live"),loading:p&&!f,metrics:[{label:u("metrics.requestsPerMinute"),value:((_=f==null?void 0:f.metrics)==null?void 0:_.requestsPerMinute)??0,variant:"neutral"},{label:u("metrics.requestsPerHour"),value:((U=f==null?void 0:f.metrics)==null?void 0:U.requestsPerHour)??0,variant:"neutral"},{label:u("metrics.activeTokens"),value:((D=f==null?void 0:f.metrics)==null?void 0:D.activeTokens)??0,variant:"success"},{label:u("metrics.activeKeys"),value:((B=(z=f==null?void 0:f.metrics)==null?void 0:z.keyPool)==null?void 0:B.active)??0,variant:"success"},{label:u("metrics.unhealthyKeys"),value:((q=(K=f==null?void 0:f.metrics)==null?void 0:K.keyPool)==null?void 0:q.unhealthy)??0,variant:(((ie=(ae=f==null?void 0:f.metrics)==null?void 0:ae.keyPool)==null?void 0:ie.unhealthy)??0)>0?"danger":"neutral"},{label:u("metrics.tavilyCost"),value:((fe=(de=f==null?void 0:f.costEstimate)==null?void 0:de.summary)==null?void 0:fe.tavilyCreditsUsed)??0,variant:"neutral"},{label:u("metrics.braveCost"),value:`$${(((ee=(H=f==null?void 0:f.costEstimate)==null?void 0:H.summary)==null?void 0:ee.braveEstimatedCostUsd)??0).toFixed(2)}`,variant:"neutral"}]}),l.jsx(Wv,{errors:((V=f==null?void 0:f.metrics)==null?void 0:V.recentErrors)??[],loading:p&&!f})]}),l.jsx("div",{className:"overviewBentoRow",children:l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:u("recentUsage.title")}),l.jsx("div",{className:"help",children:u("recentUsage.subtitle")})]}),l.jsx("button",{className:"btn","data-variant":"ghost",onClick:o,children:u("actions.viewAll")})]})}),l.jsx("div",{className:"cardBody p-0",children:p&&!f?l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"skeleton skeletonTableRow"}),l.jsx("div",{className:"skeleton skeletonTableRow"}),l.jsx("div",{className:"skeleton skeletonTableRow"})]}):l.jsx(na,{ariaLabel:u("recentUsage.title"),columns:[{id:"time",header:u("table.time"),headerStyle:{width:170},dataLabel:u("table.time"),cellClassName:"mono",cell:P=>en(P.timestamp)},{id:"tool",header:u("table.tool"),headerStyle:{width:140},dataLabel:u("table.tool"),cellClassName:"mono",cell:P=>P.toolName},{id:"outcome",header:u("table.outcome"),headerStyle:{width:120},dataLabel:u("table.outcome"),cell:P=>l.jsx(Qv,{outcome:P.outcome})},{id:"query",header:u("table.query"),dataLabel:u("table.query"),cellClassName:"mono",cell:P=>P.queryPreview??(P.queryHash?`${P.queryHash.slice(0,10)}`:"")}],rows:(f==null?void 0:f.usage)??[],rowKey:P=>P.id,loading:p&&!f,empty:l.jsx(ta,{message:u("empty.noUsage"),compact:!0})})})]})})]})}function Qv({outcome:s}){const n=s==="success"?"success":s==="error"?"danger":"neutral";return l.jsx("span",{className:"badge mono","data-variant":n,children:s})}const ye=s=>typeof s=="string",Hs=()=>{let s,n;const a=new Promise((o,u)=>{s=o,n=u});return a.resolve=s,a.reject=n,a},Sf=s=>s==null?"":""+s,Yv=(s,n,a)=>{s.forEach(o=>{n[o]&&(a[o]=n[o])})},Gv=/###/g,wf=s=>s&&s.indexOf("###")>-1?s.replace(Gv,"."):s,Nf=s=>!s||ye(s),Ys=(s,n,a)=>{const o=ye(n)?n.split("."):n;let u=0;for(;u<o.length-1;){if(Nf(s))return{};const d=wf(o[u]);!s[d]&&a&&(s[d]=new a),Object.prototype.hasOwnProperty.call(s,d)?s=s[d]:s={},++u}return Nf(s)?{}:{obj:s,k:wf(o[u])}},jf=(s,n,a)=>{const{obj:o,k:u}=Ys(s,n,Object);if(o!==void 0||n.length===1){o[u]=a;return}let d=n[n.length-1],f=n.slice(0,n.length-1),m=Ys(s,f,Object);for(;m.obj===void 0&&f.length;)d=`${f[f.length-1]}.${d}`,f=f.slice(0,f.length-1),m=Ys(s,f,Object),m&&m.obj&&typeof m.obj[`${m.k}.${d}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${d}`]=a},Xv=(s,n,a,o)=>{const{obj:u,k:d}=Ys(s,n,Object);u[d]=u[d]||[],u[d].push(a)},Li=(s,n)=>{const{obj:a,k:o}=Ys(s,n);if(a)return a[o]},Zv=(s,n,a)=>{const o=Li(s,a);return o!==void 0?o:Li(n,a)},wh=(s,n,a)=>{for(const o in n)o!=="__proto__"&&o!=="constructor"&&(o in s?ye(s[o])||s[o]instanceof String||ye(n[o])||n[o]instanceof String?a&&(s[o]=n[o]):wh(s[o],n[o],a):s[o]=n[o]);return s},Br=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ey={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ty=s=>ye(s)?s.replace(/[&<>"'\/]/g,n=>ey[n]):s;class ny{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const a=this.regExpMap.get(n);if(a!==void 0)return a;const o=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,o),this.regExpQueue.push(n),o}}const ry=[" ",",","?","!",";"],sy=new ny(20),ay=(s,n,a)=>{n=n||"",a=a||"";const o=ry.filter(f=>n.indexOf(f)<0&&a.indexOf(f)<0);if(o.length===0)return!0;const u=sy.getRegExp(`(${o.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!u.test(s);if(!d){const f=s.indexOf(a);f>0&&!u.test(s.substring(0,f))&&(d=!0)}return d},nu=function(s,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[n])return s[n];const o=n.split(a);let u=s;for(let d=0;d<o.length;){if(!u||typeof u!="object")return;let f,m="";for(let p=d;p<o.length;++p)if(p!==d&&(m+=a),m+=o[p],f=u[m],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&p<o.length-1)continue;d+=p-d+1;break}u=f}return u},Ri=s=>s&&s.replace("_","-"),iy={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,n){console&&console[s]&&console[s].apply(console,n)}};class Ii{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(n,a)}init(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=n||iy,this.options=a,this.debug=a.debug}log(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.forward(a,"log","",!0)}warn(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.forward(a,"warn","",!0)}error(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.forward(a,"error","")}deprecate(){for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(n,a,o,u){return u&&!this.debug?null:(ye(n[0])&&(n[0]=`${o}${this.prefix} ${n[0]}`),this.logger[a](n))}create(n){return new Ii(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new Ii(this.logger,n)}}var tn=new Ii;class Ki{constructor(){this.observers={}}on(n,a){return n.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const u=this.observers[o].get(a)||0;this.observers[o].set(a,u+1)}),this}off(n,a){if(this.observers[n]){if(!a){delete this.observers[n];return}this.observers[n].delete(a)}}emit(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];this.observers[n]&&Array.from(this.observers[n].entries()).forEach(f=>{let[m,p]=f;for(let v=0;v<p;v++)m(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(f=>{let[m,p]=f;for(let v=0;v<p;v++)m.apply(m,[n,...o])})}}class bf extends Ki{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=n||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const a=this.options.ns.indexOf(n);a>-1&&this.options.ns.splice(a,1)}getResource(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;n.indexOf(".")>-1?m=n.split("."):(m=[n,a],o&&(Array.isArray(o)?m.push(...o):ye(o)&&d?m.push(...o.split(d)):m.push(o)));const p=Li(this.data,m);return!p&&!a&&!o&&n.indexOf(".")>-1&&(n=m[0],a=m[1],o=m.slice(2).join(".")),p||!f||!ye(o)?p:nu(this.data&&this.data[n]&&this.data[n][a],o,d)}addResource(n,a,o,u){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let m=[n,a];o&&(m=m.concat(f?o.split(f):o)),n.indexOf(".")>-1&&(m=n.split("."),u=a,a=m[1]),this.addNamespaces(a),jf(this.data,m,u),d.silent||this.emit("added",n,a,o,u)}addResources(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const d in o)(ye(o[d])||Array.isArray(o[d]))&&this.addResource(n,a,d,o[d],{silent:!0});u.silent||this.emit("added",n,a,o)}addResourceBundle(n,a,o,u,d){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},m=[n,a];n.indexOf(".")>-1&&(m=n.split("."),u=o,o=a,a=m[1]),this.addNamespaces(a);let p=Li(this.data,m)||{};f.skipCopy||(o=JSON.parse(JSON.stringify(o))),u?wh(p,o,d):p={...p,...o},jf(this.data,m,p),f.silent||this.emit("added",n,a,o)}removeResourceBundle(n,a){this.hasResourceBundle(n,a)&&delete this.data[n][a],this.removeNamespaces(a),this.emit("removed",n,a)}hasResourceBundle(n,a){return this.getResource(n,a)!==void 0}getResourceBundle(n,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(n,a)}:this.getResource(n,a)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const a=this.getDataByLanguage(n);return!!(a&&Object.keys(a)||[]).find(u=>a[u]&&Object.keys(a[u]).length>0)}toJSON(){return this.data}}var Nh={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,n,a,o,u){return s.forEach(d=>{this.processors[d]&&(n=this.processors[d].process(n,a,o,u))}),n}};const Cf={};class Mi extends Ki{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Yv(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=tn.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(n==null)return!1;const o=this.resolve(n,a);return o&&o.res!==void 0}extractFromKey(n,a){let o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=a.ns||this.options.defaultNS||[];const f=o&&n.indexOf(o)>-1,m=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!ay(n,o,u);if(f&&!m){const p=n.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:n,namespaces:ye(d)?[d]:d};const v=n.split(o);(o!==u||o===u&&this.options.ns.indexOf(v[0])>-1)&&(d=v.shift()),n=v.join(u)}return{key:n,namespaces:ye(d)?[d]:d}}translate(n,a,o){if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);const u=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,d=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:f,namespaces:m}=this.extractFromKey(n[n.length-1],a),p=m[m.length-1],v=a.lng||this.language,y=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(y){const D=a.nsSeparator||this.options.nsSeparator;return u?{res:`${p}${D}${f}`,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:`${p}${D}${f}`}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:p,usedParams:this.getUsedParamsDetails(a)}:f}const k=this.resolve(n,a);let S=k&&k.res;const j=k&&k.usedKey||f,T=k&&k.exactUsedKey||f,O=Object.prototype.toString.apply(S),N=["[object Number]","[object Function]","[object RegExp]"],L=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,U=!ye(S)&&typeof S!="boolean"&&typeof S!="number";if(_&&S&&U&&N.indexOf(O)<0&&!(ye(L)&&Array.isArray(S))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,S,{...a,ns:m}):`key '${f} (${this.language})' returned an object instead of string.`;return u?(k.res=D,k.usedParams=this.getUsedParamsDetails(a),k):D}if(d){const D=Array.isArray(S),z=D?[]:{},B=D?T:j;for(const K in S)if(Object.prototype.hasOwnProperty.call(S,K)){const q=`${B}${d}${K}`;z[K]=this.translate(q,{...a,joinArrays:!1,ns:m}),z[K]===q&&(z[K]=S[K])}S=z}}else if(_&&ye(L)&&Array.isArray(S))S=S.join(L),S&&(S=this.extendTranslation(S,n,a,o));else{let D=!1,z=!1;const B=a.count!==void 0&&!ye(a.count),K=Mi.hasDefaultValue(a),q=B?this.pluralResolver.getSuffix(v,a.count,a):"",ae=a.ordinal&&B?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",ie=B&&!a.ordinal&&a.count===0&&this.pluralResolver.shouldUseIntlApi(),de=ie&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${q}`]||a[`defaultValue${ae}`]||a.defaultValue;!this.isValidLookup(S)&&K&&(D=!0,S=de),this.isValidLookup(S)||(z=!0,S=f);const H=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&z?void 0:S,ee=K&&de!==S&&this.options.updateMissing;if(z||D||ee){if(this.logger.log(ee?"updateKey":"missingKey",v,p,f,ee?de:S),d){const $=this.resolve(f,{...a,keySeparator:!1});$&&$.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const P=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&P&&P[0])for(let $=0;$<P.length;$++)V.push(P[$]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(a.lng||this.language):V.push(a.lng||this.language);const Z=($,X,Y)=>{const E=K&&Y!==S?Y:H;this.options.missingKeyHandler?this.options.missingKeyHandler($,p,X,E,ee,a):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing($,p,X,E,ee,a),this.emit("missingKey",$,p,X,S)};this.options.saveMissing&&(this.options.saveMissingPlurals&&B?V.forEach($=>{const X=this.pluralResolver.getSuffixes($,a);ie&&a[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Y=>{Z([$],f+Y,a[`defaultValue${Y}`]||de)})}):Z(V,f,de))}S=this.extendTranslation(S,n,a,k,o),z&&S===f&&this.options.appendNamespaceToMissingKey&&(S=`${p}:${f}`),(z||D)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?S=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}:${f}`:f,D?S:void 0):S=this.options.parseMissingKeyHandler(S))}return u?(k.res=S,k.usedParams=this.getUsedParamsDetails(a),k):S}extendTranslation(n,a,o,u,d){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const v=ye(n)&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(v){const S=n.match(this.interpolator.nestingRegexp);y=S&&S.length}let k=o.replace&&!ye(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(k={...this.options.interpolation.defaultVariables,...k}),n=this.interpolator.interpolate(n,k,o.lng||this.language||u.usedLng,o),v){const S=n.match(this.interpolator.nestingRegexp),j=S&&S.length;y<j&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&u&&u.res&&(o.lng=this.language||u.usedLng),o.nest!==!1&&(n=this.interpolator.nest(n,function(){for(var S=arguments.length,j=new Array(S),T=0;T<S;T++)j[T]=arguments[T];return d&&d[0]===j[0]&&!o.context?(f.logger.warn(`It seems you are nesting recursively key: ${j[0]} in key: ${a[0]}`),null):f.translate(...j,a)},o)),o.interpolation&&this.interpolator.reset()}const m=o.postProcess||this.options.postProcess,p=ye(m)?[m]:m;return n!=null&&p&&p.length&&o.applyPostProcessor!==!1&&(n=Nh.handle(p,n,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),n}resolve(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,u,d,f,m;return ye(n)&&(n=[n]),n.forEach(p=>{if(this.isValidLookup(o))return;const v=this.extractFromKey(p,a),y=v.key;u=y;let k=v.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));const S=a.count!==void 0&&!ye(a.count),j=S&&!a.ordinal&&a.count===0&&this.pluralResolver.shouldUseIntlApi(),T=a.context!==void 0&&(ye(a.context)||typeof a.context=="number")&&a.context!=="",O=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);k.forEach(N=>{this.isValidLookup(o)||(m=N,!Cf[`${O[0]}-${N}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(m)&&(Cf[`${O[0]}-${N}`]=!0,this.logger.warn(`key "${u}" for languages "${O.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),O.forEach(L=>{if(this.isValidLookup(o))return;f=L;const _=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,y,L,N,a);else{let D;S&&(D=this.pluralResolver.getSuffix(L,a.count,a));const z=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(S&&(_.push(y+D),a.ordinal&&D.indexOf(B)===0&&_.push(y+D.replace(B,this.options.pluralSeparator)),j&&_.push(y+z)),T){const K=`${y}${this.options.contextSeparator}${a.context}`;_.push(K),S&&(_.push(K+D),a.ordinal&&D.indexOf(B)===0&&_.push(K+D.replace(B,this.options.pluralSeparator)),j&&_.push(K+z))}}let U;for(;U=_.pop();)this.isValidLookup(o)||(d=U,o=this.getResource(L,N,U,a))}))})}),{res:o,usedKey:u,exactUsedKey:d,usedLng:f,usedNS:m}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,a,o,u):this.resourceStore.getResource(n,a,o,u)}getUsedParamsDetails(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=n.replace&&!ye(n.replace);let u=o?n.replace:n;if(o&&typeof n.count<"u"&&(u.count=n.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!o){u={...u};for(const d of a)delete u[d]}return u}static hasDefaultValue(n){const a="defaultValue";for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&a===o.substring(0,a.length)&&n[o]!==void 0)return!0;return!1}}const Fo=s=>s.charAt(0).toUpperCase()+s.slice(1);class Ef{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=tn.create("languageUtils")}getScriptPartFromCode(n){if(n=Ri(n),!n||n.indexOf("-")<0)return null;const a=n.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(n){if(n=Ri(n),!n||n.indexOf("-")<0)return n;const a=n.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(n){if(ye(n)&&n.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let u=Intl.getCanonicalLocales(n)[0];if(u&&this.options.lowerCaseLng&&(u=u.toLowerCase()),u)return u}catch{}const a=["hans","hant","latn","cyrl","cans","mong","arab"];let o=n.split("-");return this.options.lowerCaseLng?o=o.map(u=>u.toLowerCase()):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=Fo(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=Fo(o[1].toLowerCase())),a.indexOf(o[2].toLowerCase())>-1&&(o[2]=Fo(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let a;return n.forEach(o=>{if(a)return;const u=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(u))&&(a=u)}),!a&&this.options.supportedLngs&&n.forEach(o=>{if(a)return;const u=this.getLanguagePartFromCode(o);if(this.isSupportedCode(u))return a=u;a=this.options.supportedLngs.find(d=>{if(d===u)return d;if(!(d.indexOf("-")<0&&u.indexOf("-")<0)&&(d.indexOf("-")>0&&u.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===u||d.indexOf(u)===0&&u.length>1))return d})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(n,a){if(!n)return[];if(typeof n=="function"&&(n=n(a)),ye(n)&&(n=[n]),Array.isArray(n))return n;if(!a)return n.default||[];let o=n[a];return o||(o=n[this.getScriptPartFromCode(a)]),o||(o=n[this.formatLanguageCode(a)]),o||(o=n[this.getLanguagePartFromCode(a)]),o||(o=n.default),o||[]}toResolveHierarchy(n,a){const o=this.getFallbackCodes(a||this.options.fallbackLng||[],n),u=[],d=f=>{f&&(this.isSupportedCode(f)?u.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return ye(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(n))):ye(n)&&d(this.formatLanguageCode(n)),o.forEach(f=>{u.indexOf(f)<0&&d(this.formatLanguageCode(f))}),u}}let ly=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],oy={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const uy=["v1","v2","v3"],cy=["v4"],Tf={zero:0,one:1,two:2,few:3,many:4,other:5},dy=()=>{const s={};return ly.forEach(n=>{n.lngs.forEach(a=>{s[a]={numbers:n.nr,plurals:oy[n.fc]}})}),s};class fy{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=n,this.options=a,this.logger=tn.create("pluralResolver"),(!this.options.compatibilityJSON||cy.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=dy(),this.pluralRulesCache={}}addRule(n,a){this.rules[n]=a}clearCache(){this.pluralRulesCache={}}getRule(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const o=Ri(n==="dev"?"en":n),u=a.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:o,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let f;try{f=new Intl.PluralRules(o,{type:u})}catch{if(!n.match(/-|_/))return;const p=this.languageUtils.getLanguagePartFromCode(n);f=this.getRule(p,a)}return this.pluralRulesCache[d]=f,f}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}needsPlural(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(n,a);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}getPluralFormsOfKey(n,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,o).map(u=>`${a}${u}`)}getSuffixes(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(n,a);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((u,d)=>Tf[u]-Tf[d]).map(u=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${u}`):o.numbers.map(u=>this.getSuffix(n,u,a)):[]}getSuffix(n,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=this.getRule(n,o);return u?this.shouldUseIntlApi()?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${u.select(a)}`:this.getSuffixRetroCompatible(u,a):(this.logger.warn(`no plural rule found for: ${n}`),"")}getSuffixRetroCompatible(n,a){const o=n.noAbs?n.plurals(a):n.plurals(Math.abs(a));let u=n.numbers[o];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(u===2?u="plural":u===1&&(u=""));const d=()=>this.options.prepend&&u.toString()?this.options.prepend+u.toString():u.toString();return this.options.compatibilityJSON==="v1"?u===1?"":typeof u=="number"?`_plural_${u.toString()}`:d():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?d():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}shouldUseIntlApi(){return!uy.includes(this.options.compatibilityJSON)}}const Pf=function(s,n,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,d=Zv(s,n,a);return!d&&u&&ye(a)&&(d=nu(s,a,o),d===void 0&&(d=nu(n,a,o))),d},$o=s=>s.replace(/\$/g,"$$$$");class hy{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=tn.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||(a=>a),this.init(n)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});const{escape:a,escapeValue:o,useRawValueToEscape:u,prefix:d,prefixEscaped:f,suffix:m,suffixEscaped:p,formatSeparator:v,unescapeSuffix:y,unescapePrefix:k,nestingPrefix:S,nestingPrefixEscaped:j,nestingSuffix:T,nestingSuffixEscaped:O,nestingOptionsSeparator:N,maxReplaces:L,alwaysFormat:_}=n.interpolation;this.escape=a!==void 0?a:ty,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?Br(d):f||"{{",this.suffix=m?Br(m):p||"}}",this.formatSeparator=v||",",this.unescapePrefix=y?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=S?Br(S):j||Br("$t("),this.nestingSuffix=T?Br(T):O||Br(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=L||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(a,o)=>a&&a.source===o?(a.lastIndex=0,a):new RegExp(o,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(n,a,o,u){let d,f,m;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},v=j=>{if(j.indexOf(this.formatSeparator)<0){const L=Pf(a,p,j,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(L,void 0,o,{...u,...a,interpolationkey:j}):L}const T=j.split(this.formatSeparator),O=T.shift().trim(),N=T.join(this.formatSeparator).trim();return this.format(Pf(a,p,O,this.options.keySeparator,this.options.ignoreJSONStructure),N,o,{...u,...a,interpolationkey:O})};this.resetRegExp();const y=u&&u.missingInterpolationHandler||this.options.missingInterpolationHandler,k=u&&u.interpolation&&u.interpolation.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:j=>$o(j)},{regex:this.regexp,safeValue:j=>this.escapeValue?$o(this.escape(j)):$o(j)}].forEach(j=>{for(m=0;d=j.regex.exec(n);){const T=d[1].trim();if(f=v(T),f===void 0)if(typeof y=="function"){const N=y(n,d,u);f=ye(N)?N:""}else if(u&&Object.prototype.hasOwnProperty.call(u,T))f="";else if(k){f=d[0];continue}else this.logger.warn(`missed to pass in variable ${T} for interpolating ${n}`),f="";else!ye(f)&&!this.useRawValueToEscape&&(f=Sf(f));const O=j.safeValue(f);if(n=n.replace(d[0],O),k?(j.regex.lastIndex+=f.length,j.regex.lastIndex-=d[0].length):j.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),n}nest(n,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u,d,f;const m=(p,v)=>{const y=this.nestingOptionsSeparator;if(p.indexOf(y)<0)return p;const k=p.split(new RegExp(`${y}[ ]*{`));let S=`{${k[1]}`;p=k[0],S=this.interpolate(S,f);const j=S.match(/'/g),T=S.match(/"/g);(j&&j.length%2===0&&!T||T.length%2!==0)&&(S=S.replace(/'/g,'"'));try{f=JSON.parse(S),v&&(f={...v,...f})}catch(O){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,O),`${p}${y}${S}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,p};for(;u=this.nestingRegexp.exec(n);){let p=[];f={...o},f=f.replace&&!ye(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;let v=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const y=u[1].split(this.formatSeparator).map(k=>k.trim());u[1]=y.shift(),p=y,v=!0}if(d=a(m.call(this,u[1].trim(),f),f),d&&u[0]===n&&!ye(d))return d;ye(d)||(d=Sf(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${n}`),d=""),v&&(d=p.reduce((y,k)=>this.format(y,k,o.lng,{...o,interpolationkey:u[1].trim()}),d.trim())),n=n.replace(u[0],d),this.regexp.lastIndex=0}return n}}const py=s=>{let n=s.toLowerCase().trim();const a={};if(s.indexOf("(")>-1){const o=s.split("(");n=o[0].toLowerCase().trim();const u=o[1].substring(0,o[1].length-1);n==="currency"&&u.indexOf(":")<0?a.currency||(a.currency=u.trim()):n==="relativetime"&&u.indexOf(":")<0?a.range||(a.range=u.trim()):u.split(";").forEach(f=>{if(f){const[m,...p]=f.split(":"),v=p.join(":").trim().replace(/^'+|'+$/g,""),y=m.trim();a[y]||(a[y]=v),v==="false"&&(a[y]=!1),v==="true"&&(a[y]=!0),isNaN(v)||(a[y]=parseInt(v,10))}})}return{formatName:n,formatOptions:a}},Hr=s=>{const n={};return(a,o,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d={...d,[u.interpolationkey]:void 0});const f=o+JSON.stringify(d);let m=n[f];return m||(m=s(Ri(o),u),n[f]=m),m(a)}};class my{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=tn.create("formatter"),this.options=n,this.formats={number:Hr((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return d=>u.format(d)}),currency:Hr((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return d=>u.format(d)}),datetime:Hr((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return d=>u.format(d)}),relativetime:Hr((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return d=>u.format(d,o.range||"day")}),list:Hr((a,o)=>{const u=new Intl.ListFormat(a,{...o});return d=>u.format(d)})},this.init(n)}init(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=a.interpolation.formatSeparator||","}add(n,a){this.formats[n.toLowerCase().trim()]=a}addCached(n,a){this.formats[n.toLowerCase().trim()]=Hr(a)}format(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=a.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(m=>m.indexOf(")")>-1)){const m=d.findIndex(p=>p.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,m)].join(this.formatSeparator)}return d.reduce((m,p)=>{const{formatName:v,formatOptions:y}=py(p);if(this.formats[v]){let k=m;try{const S=u&&u.formatParams&&u.formatParams[u.interpolationkey]||{},j=S.locale||S.lng||u.locale||u.lng||o;k=this.formats[v](m,j,{...y,...u,...S})}catch(S){this.logger.warn(S)}return k}else this.logger.warn(`there was no format function for ${v}`);return m},n)}}const gy=(s,n)=>{s.pending[n]!==void 0&&(delete s.pending[n],s.pendingCount--)};class vy extends Ki{constructor(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=n,this.store=a,this.services=o,this.languageUtils=o.languageUtils,this.options=u,this.logger=tn.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(o,u.backend,u)}queueLoad(n,a,o,u){const d={},f={},m={},p={};return n.forEach(v=>{let y=!0;a.forEach(k=>{const S=`${v}|${k}`;!o.reload&&this.store.hasResourceBundle(v,k)?this.state[S]=2:this.state[S]<0||(this.state[S]===1?f[S]===void 0&&(f[S]=!0):(this.state[S]=1,y=!1,f[S]===void 0&&(f[S]=!0),d[S]===void 0&&(d[S]=!0),p[k]===void 0&&(p[k]=!0)))}),y||(m[v]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(p)}}loaded(n,a,o){const u=n.split("|"),d=u[0],f=u[1];a&&this.emit("failedLoading",d,f,a),!a&&o&&this.store.addResourceBundle(d,f,o,void 0,void 0,{skipCopy:!0}),this.state[n]=a?-1:2,a&&o&&(this.state[n]=0);const m={};this.queue.forEach(p=>{Xv(p.loaded,[d],f),gy(p,n),a&&p.errors.push(a),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(v=>{m[v]||(m[v]={});const y=p.loaded[v];y.length&&y.forEach(k=>{m[v][k]===void 0&&(m[v][k]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(p=>!p.done)}read(n,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!n.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:a,fcName:o,tried:u,wait:d,callback:f});return}this.readingCalls++;const m=(v,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const k=this.waitingReads.shift();this.read(k.lng,k.ns,k.fcName,k.tried,k.wait,k.callback)}if(v&&y&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,n,a,o,u+1,d*2,f)},d);return}f(v,y)},p=this.backend[o].bind(this.backend);if(p.length===2){try{const v=p(n,a);v&&typeof v.then=="function"?v.then(y=>m(null,y)).catch(m):m(null,v)}catch(v){m(v)}return}return p(n,a,m)}prepareLoading(n,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();ye(n)&&(n=this.languageUtils.toResolveHierarchy(n)),ye(a)&&(a=[a]);const d=this.queueLoad(n,a,o,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(f=>{this.loadOne(f)})}load(n,a,o){this.prepareLoading(n,a,{},o)}reload(n,a,o){this.prepareLoading(n,a,{reload:!0},o)}loadOne(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const o=n.split("|"),u=o[0],d=o[1];this.read(u,d,"read",void 0,void 0,(f,m)=>{f&&this.logger.warn(`${a}loading namespace ${d} for language ${u} failed`,f),!f&&m&&this.logger.log(`${a}loaded namespace ${d} for language ${u}`,m),this.loaded(n,f,m)})}saveMissing(n,a,o,u,d){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},m=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${o}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){const p={...f,isUpdate:d},v=this.backend.create.bind(this.backend);if(v.length<6)try{let y;v.length===5?y=v(n,a,o,u,p):y=v(n,a,o,u),y&&typeof y.then=="function"?y.then(k=>m(null,k)).catch(m):m(null,y)}catch(y){m(y)}else v(n,a,o,u,m,p)}!n||!n[0]||this.store.addResource(n[0],a,o,u)}}}const Lf=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let n={};if(typeof s[1]=="object"&&(n=s[1]),ye(s[1])&&(n.defaultValue=s[1]),ye(s[2])&&(n.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const a=s[3]||s[2];Object.keys(a).forEach(o=>{n[o]=a[o]})}return n},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Rf=s=>(ye(s.ns)&&(s.ns=[s.ns]),ye(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),ye(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),yi=()=>{},yy=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(a=>{typeof s[a]=="function"&&(s[a]=s[a].bind(s))})};class ra extends Ki{constructor(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Rf(n),this.services={},this.logger=tn,this.modules={external:[]},yy(this),a&&!this.isInitialized&&!n.isClone){if(!this.options.initImmediate)return this.init(n,a),this;setTimeout(()=>{this.init(n,a)},0)}}init(){var n=this;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(ye(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const u=Lf();this.options={...u,...this.options,...Rf(a)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...u.interpolation,...this.options.interpolation}),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const d=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?tn.init(d(this.modules.logger),this.options):tn.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=my);const k=new Ef(this.options);this.store=new bf(this.options.resources,this.options);const S=this.services;S.logger=tn,S.resourceStore=this.store,S.languageUtils=k,S.pluralResolver=new fy(k,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(S.formatter=d(y),S.formatter.init(S,this.options),this.options.interpolation.format=S.formatter.format.bind(S.formatter)),S.interpolator=new hy(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new vy(d(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",function(j){for(var T=arguments.length,O=new Array(T>1?T-1:0),N=1;N<T;N++)O[N-1]=arguments[N];n.emit(j,...O)}),this.modules.languageDetector&&(S.languageDetector=d(this.modules.languageDetector),S.languageDetector.init&&S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=d(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new Mi(this.services,this.options),this.translator.on("*",function(j){for(var T=arguments.length,O=new Array(T>1?T-1:0),N=1;N<T;N++)O[N-1]=arguments[N];n.emit(j,...O)}),this.modules.external.forEach(j=>{j.init&&j.init(this)})}if(this.format=this.options.interpolation.format,o||(o=yi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return n.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return n.store[y](...arguments),n}});const p=Hs(),v=()=>{const y=(k,S)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),p.resolve(S),o(k,S)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),p}loadResources(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi;const u=ye(n)?n:this.language;if(typeof n=="function"&&(o=n),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const d=[],f=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};u?f(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>f(p)),this.options.preload&&this.options.preload.forEach(m=>f(m)),this.services.backendConnector.load(d,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(m)})}else o(null)}reloadResources(n,a,o){const u=Hs();return typeof n=="function"&&(o=n,n=void 0),typeof a=="function"&&(o=a,a=void 0),n||(n=this.languages),a||(a=this.options.ns),o||(o=yi),this.services.backendConnector.reload(n,a,d=>{u.resolve(),o(d)}),u}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Nh.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1))for(let a=0;a<this.languages.length;a++){const o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}changeLanguage(n,a){var o=this;this.isLanguageChangingTo=n;const u=Hs();this.emit("languageChanging",n);const d=p=>{this.language=p,this.languages=this.services.languageUtils.toResolveHierarchy(p),this.resolvedLanguage=void 0,this.setResolvedLanguage(p)},f=(p,v)=>{v?(d(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,u.resolve(function(){return o.t(...arguments)}),a&&a(p,function(){return o.t(...arguments)})},m=p=>{!n&&!p&&this.services.languageDetector&&(p=[]);const v=ye(p)?p:this.services.languageUtils.getBestMatchFromCodes(p);v&&(this.language||d(v),this.translator.language||this.translator.changeLanguage(v),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(v)),this.loadResources(v,y=>{f(y,v)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(n),u}getFixedT(n,a,o){var u=this;const d=function(f,m){let p;if(typeof m!="object"){for(var v=arguments.length,y=new Array(v>2?v-2:0),k=2;k<v;k++)y[k-2]=arguments[k];p=u.options.overloadTranslationOptionHandler([f,m].concat(y))}else p={...m};p.lng=p.lng||d.lng,p.lngs=p.lngs||d.lngs,p.ns=p.ns||d.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||o||d.keyPrefix);const S=u.options.keySeparator||".";let j;return p.keyPrefix&&Array.isArray(f)?j=f.map(T=>`${p.keyPrefix}${S}${T}`):j=p.keyPrefix?`${p.keyPrefix}${S}${f}`:f,u.t(j,p)};return ye(n)?d.lng=n:d.lngs=n,d.ns=a,d.keyPrefix=o,d}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const f=(m,p)=>{const v=this.services.backendConnector.state[`${m}|${p}`];return v===-1||v===0||v===2};if(a.precheck){const m=a.precheck(this,f);if(m!==void 0)return m}return!!(this.hasResourceBundle(o,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,n)&&(!u||f(d,n)))}loadNamespaces(n,a){const o=Hs();return this.options.ns?(ye(n)&&(n=[n]),n.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{o.resolve(),a&&a(u)}),o):(a&&a(),Promise.resolve())}loadLanguages(n,a){const o=Hs();ye(n)&&(n=[n]);const u=this.options.preload||[],d=n.filter(f=>u.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return d.length?(this.options.preload=u.concat(d),this.loadResources(f=>{o.resolve(),a&&a(f)}),o):(a&&a(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!n)return"rtl";const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Ef(Lf());return a.indexOf(o.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return new ra(n,a)}cloneInstance(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi;const o=n.forkResourceStore;o&&delete n.forkResourceStore;const u={...this.options,...n,isClone:!0},d=new ra(u);return(n.debug!==void 0||n.prefix!==void 0)&&(d.logger=d.logger.clone(n)),["store","services","language"].forEach(m=>{d[m]=this[m]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},o&&(d.store=new bf(this.store.data,u),d.services.resourceStore=d.store),d.translator=new Mi(d.services,u),d.translator.on("*",function(m){for(var p=arguments.length,v=new Array(p>1?p-1:0),y=1;y<p;y++)v[y-1]=arguments[y];d.emit(m,...v)}),d.init(u,a),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ge=ra.createInstance();Ge.createInstance=ra.createInstance;Ge.createInstance;Ge.dir;Ge.init;Ge.loadResources;Ge.reloadResources;Ge.use;Ge.changeLanguage;Ge.getFixedT;Ge.t;Ge.exists;Ge.setDefaultNamespace;Ge.hasLoadedNamespace;Ge.loadNamespaces;Ge.loadLanguages;const{slice:xy,forEach:ky}=[];function Sy(s){return ky.call(xy.call(arguments,1),n=>{if(n)for(const a in n)s[a]===void 0&&(s[a]=n[a])}),s}function wy(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(s))}const If=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ny=function(s,n){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},u=encodeURIComponent(n);let d=`${s}=${u}`;if(o.maxAge>0){const f=o.maxAge-0;if(Number.isNaN(f))throw new Error("maxAge should be a Number");d+=`; Max-Age=${Math.floor(f)}`}if(o.domain){if(!If.test(o.domain))throw new TypeError("option domain is invalid");d+=`; Domain=${o.domain}`}if(o.path){if(!If.test(o.path))throw new TypeError("option path is invalid");d+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");d+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"strict":d+="; SameSite=Strict";break;case"none":d+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(d+="; Partitioned"),d},Mf={create(s,n,a,o){let u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(u.expires=new Date,u.expires.setTime(u.expires.getTime()+a*60*1e3)),o&&(u.domain=o),document.cookie=Ny(s,n,u)},read(s){const n=`${s}=`,a=document.cookie.split(";");for(let o=0;o<a.length;o++){let u=a[o];for(;u.charAt(0)===" ";)u=u.substring(1,u.length);if(u.indexOf(n)===0)return u.substring(n.length,u.length)}return null},remove(s,n){this.create(s,"",-1,n)}};var jy={name:"cookie",lookup(s){let{lookupCookie:n}=s;if(n&&typeof document<"u")return Mf.read(n)||void 0},cacheUserLanguage(s,n){let{lookupCookie:a,cookieMinutes:o,cookieDomain:u,cookieOptions:d}=n;a&&typeof document<"u"&&Mf.create(a,s,o,u,d)}},by={name:"querystring",lookup(s){var o;let{lookupQuerystring:n}=s,a;if(typeof window<"u"){let{search:u}=window.location;!window.location.search&&((o=window.location.hash)==null?void 0:o.indexOf("?"))>-1&&(u=window.location.hash.substring(window.location.hash.indexOf("?")));const f=u.substring(1).split("&");for(let m=0;m<f.length;m++){const p=f[m].indexOf("=");p>0&&f[m].substring(0,p)===n&&(a=f[m].substring(p+1))}}return a}},Cy={name:"hash",lookup(s){var u;let{lookupHash:n,lookupFromHashIndex:a}=s,o;if(typeof window<"u"){const{hash:d}=window.location;if(d&&d.length>2){const f=d.substring(1);if(n){const m=f.split("&");for(let p=0;p<m.length;p++){const v=m[p].indexOf("=");v>0&&m[p].substring(0,v)===n&&(o=m[p].substring(v+1))}}if(o)return o;if(!o&&a>-1){const m=d.match(/\/([a-zA-Z-]*)/g);return Array.isArray(m)?(u=m[typeof a=="number"?a:0])==null?void 0:u.replace("/",""):void 0}}}return o}};let Vr=null;const Of=()=>{if(Vr!==null)return Vr;try{if(Vr=typeof window<"u"&&window.localStorage!==null,!Vr)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Vr=!1}return Vr};var Ey={name:"localStorage",lookup(s){let{lookupLocalStorage:n}=s;if(n&&Of())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupLocalStorage:a}=n;a&&Of()&&window.localStorage.setItem(a,s)}};let Wr=null;const Af=()=>{if(Wr!==null)return Wr;try{if(Wr=typeof window<"u"&&window.sessionStorage!==null,!Wr)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Wr=!1}return Wr};var Ty={name:"sessionStorage",lookup(s){let{lookupSessionStorage:n}=s;if(n&&Af())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(s,n){let{lookupSessionStorage:a}=n;a&&Af()&&window.sessionStorage.setItem(a,s)}},Py={name:"navigator",lookup(s){const n=[];if(typeof navigator<"u"){const{languages:a,userLanguage:o,language:u}=navigator;if(a)for(let d=0;d<a.length;d++)n.push(a[d]);o&&n.push(o),u&&n.push(u)}return n.length>0?n:void 0}},Ly={name:"htmlTag",lookup(s){let{htmlTag:n}=s,a;const o=n||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(a=o.getAttribute("lang")),a}},Ry={name:"path",lookup(s){var u;let{lookupFromPathIndex:n}=s;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?(u=a[typeof n=="number"?n:0])==null?void 0:u.replace("/",""):void 0}},Iy={name:"subdomain",lookup(s){var u,d;let{lookupFromSubdomainIndex:n}=s;const a=typeof n=="number"?n+1:1,o=typeof window<"u"&&((d=(u=window.location)==null?void 0:u.hostname)==null?void 0:d.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(o)return o[a]}};let jh=!1;try{document.cookie,jh=!0}catch{}const bh=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];jh||bh.splice(1,1);const My=()=>({order:bh,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class Ch{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,a)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=Sy(a,this.options||{},My()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=u=>u.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(jy),this.addDetector(by),this.addDetector(Ey),this.addDetector(Ty),this.addDetector(Py),this.addDetector(Ly),this.addDetector(Ry),this.addDetector(Iy),this.addDetector(Cy)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return n.forEach(o=>{if(this.detectors[o]){let u=this.detectors[o].lookup(this.options);u&&typeof u=="string"&&(u=[u]),u&&(a=a.concat(u))}}),a=a.filter(o=>o!=null&&!wy(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||a.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(n,this.options)}))}}Ch.type="languageDetector";const Oy={cancel:"Cancel",save:"Save",delete:"Delete",refresh:"Refresh",retry:"Retry",copy:"Copy",close:"Close",confirm:"Confirm",signIn:"Sign in",signOut:"Sign out",settings:"Settings"},Ay={loading:"Loading...",saving:"Saving...",deleting:"Deleting...",checking:"Checking..."},Dy={showing:"Showing <strong>{{start}}</strong> to <strong>{{end}}</strong> of <strong>{{total}}</strong> results",prev:"Prev",next:"Next"},_y={loadingData:"Error loading data",unknownError:"Unknown error"},Fy={typeToConfirm:"Type to confirm",typePlaceholder:"Type {{text}} to confirm",cannotUndo:"This action cannot be undone."},$y={copied:"Copied to clipboard",failed:"Copy failed",permissionDenied:"Clipboard permission denied"},Uy={noExpiry:"No expiry",seconds:"{{count}}s",minutes:"{{count}}m",hours:"{{count}}h",days:"{{count}}d"},Ky={signedOut:"Signed out",authFailedMessage:"Authentication failed. Please sign in again with the admin token."},zy={actions:Oy,status:Ay,pagination:Dy,errors:_y,confirm:Fy,copy:$y,time:Uy,auth:Ky},By="Tavily Bridge",Hy="Admin console",Vy={overview:"Overview",keys:"Keys",tokens:"Tokens",usage:"Usage",playground:"Playground",settings:"Settings"},Wy={overview:"System status",keys:"Manage API key pool",tokens:"Manage access tokens",usage:"What Tavily is used for",playground:"Test MCP tools",settings:"Preferences and configuration"},qy={toggle:"Theme",light:"Light mode",dark:"Dark mode",switchTo:"Switch to {{mode}} mode"},Jy={expand:"Expand",collapse:"Collapse",expandSidebar:"Expand sidebar",collapseSidebar:"Collapse sidebar"},Qy={skipToContent:"Skip to content"},Yy="Connection",Gy={brand:By,subtitle:Hy,pages:Vy,pageSubtitles:Wy,theme:qy,sidebar:Jy,a11y:Qy,connection:Yy},Xy="API Keys",Zy={tavily:"Tavily",brave:"Brave Search"},ex={title:"Tavily keys",stats:{total:"{{count}} total",active:"{{count}} active",cooldown:"{{count}} cooldown",invalid:"{{count}} invalid",disabled:"{{count}} disabled",summary:"{{total}} total  {{active}} active  {{cooldown}} cooldown  {{invalid}} invalid  {{disabled}} disabled"},kpi:{totalCapacity:"Total Capacity",activeKeys:"Active Keys",systemHealth:"System Health"},actions:{addKey:"Add key",refresh:"Refresh",checkCredits:"Check Credits",checkingCredits:"Checking..."},dialog:{addTitle:"Add Tavily key"},form:{apiKeyFormat:'API key should start with "tvly-"',apiKeyPlaceholder:"tvly-..."},empty:{noKeys:"No Tavily keys found. Add a key to start rotating."}},tx={title:"Brave Search keys",stats:{total:"{{count}} total",active:"{{count}} active",invalid:"{{count}} invalid",disabled:"{{count}} disabled",summary:"{{total}} total  {{active}} active  {{invalid}} invalid  {{disabled}} disabled"},kpi:{activeKeys:"Active Keys",systemHealth:"System Health"},actions:{addKey:"Add key",refresh:"Refresh"},dialog:{addTitle:"Add Brave Search key"},form:{apiKeyFormat:'API key should start with "BSA"',apiKeyPlaceholder:"BSA..."},empty:{noKeys:"No Brave keys found. Add a key to enable native Brave Search."}},nx={total:"{{count}} total",active:"{{count}} active",cooldown:"{{count}} cooldown",invalid:"{{count}} invalid",disabled:"{{count}} disabled",summary:"{{total}} total  {{active}} active  {{cooldown}} cooldown  {{invalid}} invalid  {{disabled}} disabled"},rx={totalCapacity:"Total Capacity",activeKeys:"Active Keys",systemHealth:"System Health"},sx={addKey:"Add key",refresh:"Refresh",checkCredits:"Check Credits",checkingCredits:"Checking..."},ax={placeholder:"Search keys by label...",showing:"Showing {{filtered}} of {{total}} keys",clearFilters:"Clear filters"},ix={allStatuses:"All statuses",active:"Active",disabled:"Disabled",cooldown:"Cooldown",invalid:"Invalid"},lx={label:"Sort",newestFirst:"Newest first",oldestFirst:"Oldest first",labelAZ:"Label A-Z",labelZA:"Label Z-A",recentlyUsed:"Recently used",statusAZ:"Status A-Z"},ox={selected:"<strong>{{count}}</strong> {{count, plural, one {key} other {keys}}} selected",selectedCount_one:"{{count}} key selected",selectedCount_other:"{{count}} keys selected",refreshCredits:"Refresh Credits",deleteSelected:"Delete Selected",clearSelection:"Clear Selection"},ux={label:"Label",apiKey:"API Key",credits:"Credits",status:"Status",lastUsed:"Last used",created:"Created",actions:"Actions",select:"Select",selectAll:"Select all keys",selectKey:"Select {{label}}"},cx={noKeys:"No keys found. Add a key to start rotating.",noMatch:"No keys match your filters."},dx={addTitle:"Add Tavily key",deleteTitle:"Delete key",deleteSelectedTitle:"Delete selected keys",deleteDescription:'Delete "{{label}}" permanently.',deleteSelectedDescription:"Delete {{count}} selected {{count, plural, one {key} other {keys}}} permanently.",deleteSelectedDescription_one:"Delete {{count}} selected key permanently.",deleteSelectedDescription_other:"Delete {{count}} selected keys permanently.",requireDeleteText:"Type DELETE to permanently delete this key",requireDeleteSelectedText:"Type DELETE to permanently delete the selected keys"},fx={label:"Label",labelRequired:"Label is required",labelMinLength:"Label must be at least 2 characters",labelHelp:"Must be unique.",labelPlaceholder:"e.g. prod-key-01",apiKey:"API key",apiKeyRequired:"API key is required",apiKeyFormat:'API key should start with "tvly-"',apiKeyHelp:"Stored encrypted server-side.",apiKeyPlaceholder:"tvly-...",required:"*"},hx={added:"Key added",addedMessage:'Saved "{{name}}"',createFailed:"Create failed",updated:"Key updated",updatedMessage:"Status set to {{status}}",updateFailed:"Update failed",deleted:"Key deleted",deletedMessage:'Deleted "{{name}}"',deleteFailed:"Delete failed",checkingCredits:"Checking credits...",checkingCreditsMessage:"Updating credits for all keys",creditsUpdated:"Credits updated",creditsUpdatedMessage:"Checked {{total}} keys ({{success}} ok, {{failed}} failed)",syncFailed:"Sync failed",syncing:"Syncing...",syncingMessage:"Refreshing {{count}} keys",syncSuccess:"Success",syncSuccessMessage:"Refreshed {{count}} keys",bulkRefreshFailed:"Bulk refresh failed",bulkDeleting:"Deleting...",bulkDeletingMessage:"Removing {{count}} keys",bulkDeleted:"Deleted",bulkDeletedMessage:"Removed {{count}} keys",bulkDeleteFailed:"Bulk delete failed"},px={adding:"Adding...",deleteKey:"Delete key"},mx={title:Xy,tabs:Zy,tavily:ex,brave:tx,stats:nx,kpi:rx,actions:sx,search:ax,filter:ix,sort:lx,bulk:ox,table:ux,empty:cx,dialog:dx,form:fx,toast:hx,button:px,import:{title:"Import Keys",selectFile:"Select JSON file",parsing:"Parsing file...",preview:"Ready to import {{valid}} valid keys ({{tavily}} Tavily, {{brave}} Brave). {{invalid}} invalid items will be skipped.",invalidWarning:"{{count}} items have missing or invalid fields and will be skipped.",confirm:"Import",importing:"Importing...",resultTitle:"Import Complete",resultSummary:"Imported {{imported}} keys, {{failed}} failed, {{renamed}} renamed.",renamedKeys:"Renamed keys (due to label conflicts):",errors:"Errors:",fromFile:"From File",fromClipboard:"From Clipboard",clipboardTitle:"Import from Clipboard",pasteJson:"Paste JSON data here",pasteFromClipboard:"Paste from Clipboard",pasteHelp:"Paste the exported JSON data or click the button to automatically read from clipboard",clipboardReadFailed:"Failed to read clipboard. Please paste manually or check browser permissions.",invalidJson:"Invalid JSON format. Please check your data."},export:{button:"Export",preparing:"Preparing export...",securityWarning:"The exported file contains plaintext API keys. Store it securely.",success:"Keys exported",successMessage:"Downloaded {{count}} keys",failed:"Export failed",toFile:"To File",toClipboard:"To Clipboard",clipboardSuccess:"Keys copied to clipboard",clipboardSuccessMessage:"Copied {{count}} keys to clipboard",clipboardFailed:"Copy to clipboard failed",clipboardPermissionDenied:"Clipboard permission denied. Please allow clipboard access in your browser settings.",clipboardNotSupported:"Your browser does not support clipboard operations. Please use file export instead."}},gx="Client tokens",vx={total:"{{count}} total",active:"{{count}} active",summary:"{{total}} total  {{active}} active"},yx={createToken:"Create token",refresh:"Refresh",setupInfo:"Setup Info"},xx={prefix:"Prefix",description:"Description",expires:"Expires",created:"Created",actions:"Actions"},kx={noTokens:"No tokens yet. Create one to authorize clients."},Sx={createTitle:"Create client token",copyTitle:"Copy token",deleteTitle:"Delete token",deleteDescription:'Delete "{{prefix}}" permanently.',requireDeleteText:"Type DELETE to permanently delete this token"},wx={description:"Description (optional)",descriptionPlaceholder:"e.g. staging automation",descriptionHelp:"Shown in the token list to help you remember intent.",expiresIn:"Expires in (seconds)",expiresInPlaceholder:"e.g. 86400",expiresInHelp:"Leave empty for no expiry."},Nx={title:"Client Setup",mcpEndpoint:"MCP endpoint",mcpEndpointHelp:"HTTP clients should call <mono>/mcp</mono> with <mono>Authorization: Bearer &lt;client_token&gt;</mono>.",clientToken:"Client token (paste full token)",clientTokenPlaceholder:"<YOUR_CLIENT_TOKEN>",clientTokenHelp:"Client tokens are shown once when created. Paste a valid token here to generate configuration snippets.",configSnippets:"Configuration Snippets",copySnippet:"Copy snippet"},jx={warning:'This token is shown once. Store it securely. Anyone with this token can call your MCP server (subject to rate limits). Use it in the "Client setup" section below.',copyToken:"Copy token"},bx={created:"Token created",createdMessage:"Copy it now; it will not be shown again.",createFailed:"Create failed",deleted:"Token deleted",deletedMessage:'Deleted "{{prefix}}"',deleteFailed:"Delete failed"},Cx={title:gx,stats:vx,actions:yx,table:xx,empty:kx,dialog:Sx,form:wx,setup:Nx,copyDialog:jx,toast:bx},Ex="Settings",Tx="Where to send admin requests and how to authenticate",Px={testConnection:"Test connection"},Lx={label:"Admin API base URL",placeholder:"(empty = same origin)",help:"In production, leave this empty when served from the bridge server. In dev, set to e.g. <mono>http://127.0.0.1:8787</mono>.",schemeTip:"Tip: include http:// or https:// (e.g. http://127.0.0.1:8787)"},Rx={label:"Authentication",status:"Status:",signedIn:"signed in",signedOut:"signed out",changeToken:"Change token",help:"Sign in (or Change token) uses the server ADMIN_API_TOKEN. Client tokens are for MCP clients and are managed in Tokens."},Ix={label:"Theme",light:"Light",dark:"Dark",help:"Matches OS by default."},Mx={label:"Language",help:"Select your preferred language."},Ox={label:"Notes",help:"The Admin UI cannot set server environment variables. The token you enter must match what the server was started with."},Ax={label:"Server",signInRequired:"Sign in to view server-side settings.",loadError:"Unable to load server info",keySelection:"Upstream key selection",roundRobin:"Round robin",random:"Random",keySelectionHelp:"Persists on the server. When unset, it falls back to <mono>TAVILY_KEY_SELECTION_STRATEGY</mono> (<mono>round_robin</mono> or <mono>random</mono>).",searchSourceMode:{label:"Search source mode",help:"Determines which search API to use. 'Combined' queries both in parallel and merges results.",tavily_only:"Tavily only",brave_only:"Brave only",combined:"Combined (Tavily + Brave)",brave_prefer_tavily_fallback:"Brave with Tavily fallback",braveUnavailableWarning:"Warning: Brave Search is not configured. This option will fail.",combinedUnavailableWarning:"Warning: Combined mode requires active API keys for BOTH Tavily and Brave.",costNote:"Note: Combined mode queries both APIs in parallel (2x cost per search)."},research:{label:"Tavily Research",enabled:"Enabled",disabled:"Disabled",help:"Enable or disable the tavily_research tool. When disabled, the tool is hidden from clients and calls are rejected. Useful when your Tavily plan does not include research credits."}},Dx={label:"Rotation behavior",help:"Key selection is evaluated per upstream request attempt and will fail over to another key on invalid/limited keys."},_x={envVars:"Server must be started with <mono>ADMIN_API_TOKEN</mono> and <mono>KEY_ENCRYPTION_SECRET</mono>."},Fx={signInRequired:"Sign in required",signInRequiredMessage:"Sign in with the admin token to update server settings.",updated:"Updated",updatedMessage:"Upstream key selection set to {{strategy}}.",searchSourceModeUpdated:"Search source mode updated",searchSourceModeUpdatedMessage:"Search source mode set to {{mode}}.",researchToggled:"Research setting updated",researchToggledMessage:"Tavily Research is now {{status}}.",updateFailed:"Update failed",connected:"Connected",connectedMessage:"Admin API authenticated successfully.",authFailed:"Authentication failed (401)",authFailedMessage:"Admin token is invalid. It must match the bridge server environment variable ADMIN_API_TOKEN.",notFound:"Not found (404)",notFoundMessage:"Check the Admin API base URL and ensure the bridge server exposes /admin/api/* routes.",networkError:"Network/CORS error",networkErrorMessage:"Could not reach Admin API. In local dev, start bridge-server at http://127.0.0.1:8787 and rely on the Vite /admin/api proxy (leave base URL empty), or set base URL explicitly.",connectionFailed:"Connection failed",goToLoginMessage:"Go to Login and enter the server ADMIN_API_TOKEN first."},$x={title:Ex,subtitle:Tx,actions:Px,apiBaseUrl:Lx,auth:Rx,theme:Ix,language:Mx,notes:Ox,server:Ax,rotation:Dx,pill:_x,toast:Fx},Ux="Sign in",Kx="Use the server ADMIN_API_TOKEN to access the admin console",zx={tokenLabel:"Admin API token",tokenPlaceholder:"ADMIN_API_TOKEN",tokenHelp:"Paste the admin token that the server was started with. This is not a client token.",remember:"Remember on this device (stores token in localStorage)"},Bx={info:"Signed-in sessions can manage keys/tokens. Client tokens are for MCP clients and should never be used to sign into the admin console."},Hx={tokenRequired:"Admin token required",tokenRequiredMessage:"Paste the server ADMIN_API_TOKEN to sign in.",signedIn:"Signed in",authFailed:"Authentication failed (401)",authFailedMessage:"Admin token is invalid. It must match the bridge server environment variable ADMIN_API_TOKEN.",notFound:"Not found (404)",notFoundMessage:"Check the Admin API base URL and ensure the bridge server exposes /admin/api/* routes.",networkError:"Network/CORS error",networkErrorMessage:"Could not reach Admin API. In local dev, start bridge-server at http://127.0.0.1:8787 and rely on the Vite /admin proxy (leave base URL empty), or set base URL explicitly.",signInFailed:"Sign in failed"},Vx={title:Ux,subtitle:Kx,form:zx,pill:Bx,toast:Hx},Wx="Overview",qx="Keys, client tokens, and recent Tavily usage",Jx={refresh:"Refresh",viewAll:"View all"},Qx={tavilyKeys:"Tavily keys",keysHint:"{{active}} active  {{unhealthy}} cooldown/invalid",clientTokens:"Client tokens",tokensHint:"{{active}} active  {{revoked}} revoked",usage:"Usage",usageHint:"Last 10 events"},Yx={realtime:"Real-time Metrics",subtitle:"Traffic, health, and cost snapshot",live:"Live",requestsPerMinute:"Requests / min",requestsPerHour:"Requests / hour",activeTokens:"Active Tokens",activeKeys:"Active Keys",unhealthyKeys:"Unhealthy Keys",tavilyCost:"Tavily Credits (30d)",braveCost:"Brave Est. Cost (30d)"},Gx={title:"Recent usage",subtitle:"Newest first"},Xx={time:"Time",tool:"Tool",outcome:"Outcome",query:"Query"},Zx={noUsage:"No usage yet."},e0={title:Wx,subtitle:qx,actions:Jx,kpi:Qx,metrics:Yx,recentUsage:Gx,table:Xx,empty:Zx},t0="Usage",n0="What Tavily is used for (queries are redacted based on server log mode)",r0={refresh:"Refresh"},s0={tool:"Tool",allTools:"All tools",outcome:"Outcome",allOutcomes:"All outcomes",success:"success",error:"error",clientTokenPrefix:"Client token prefix",clientPlaceholder:"mcp_abcd1234...",from:"From",to:"To"},a0={totalEvents:"Total events:"},i0={time:"Time",tool:"Tool",outcome:"Outcome",client:"Client",query:"Query",latency:"Latency"},l0={noEvents:"No usage events yet."},o0={title:"Usage event",time:"Time",client:"Client",upstreamKey:"Upstream key",latency:"Latency",query:"Query (redacted)",queryHash:"hash: {{hash}}",error:"Error",args:"Args (redacted)"},u0={title:t0,subtitle:n0,actions:r0,filters:s0,summary:a0,table:i0,empty:l0,dialog:o0},c0="Playground",d0="Test MCP tools directly. You will need a valid client token.",f0="Request",h0="Client Token",p0="mcp_client_...",m0="Create a token on the Tokens page.",g0="Tool",v0="Tool Parameters (JSON)",y0="Invalid JSON format.",x0="Run",k0="Response",S0="Run a request to see the response here.",w0="History",N0="No requests yet.",j0={timestamp:"Timestamp",tool:"Tool",status:"Status",duration:"Duration"},b0="Success",C0="Error",E0={title:c0,description:d0,request:f0,clientToken:h0,clientTokenPlaceholder:p0,clientTokenDescription:m0,tool:g0,toolParameters:v0,toolParametersInvalid:y0,run:x0,response:k0,noResponse:S0,history:w0,noHistory:N0,historyTable:j0,statusSuccess:b0,statusError:C0},T0={cancel:"",save:"",delete:"",refresh:"",retry:"",copy:"",close:"",confirm:"",signIn:"",signOut:"",settings:""},P0={loading:"...",saving:"...",deleting:"...",checking:"..."},L0={showing:" <strong>{{start}}</strong>  <strong>{{end}}</strong>  <strong>{{total}}</strong> ",prev:"",next:""},R0={loadingData:"",unknownError:""},I0={typeToConfirm:"",typePlaceholder:" {{text}} ",cannotUndo:""},M0={copied:"",failed:"",permissionDenied:""},O0={noExpiry:"",seconds:"{{count}}",minutes:"{{count}}",hours:"{{count}}",days:"{{count}}"},A0={signedOut:"",authFailedMessage:""},D0={actions:T0,status:P0,pagination:L0,errors:R0,confirm:I0,copy:M0,time:O0,auth:A0},_0="Tavily Bridge",F0="",$0={overview:"",keys:"",tokens:"",usage:"",playground:"",settings:""},U0={overview:"",keys:" API ",tokens:"",usage:"Tavily ",playground:" MCP ",settings:""},K0={toggle:"",light:"",dark:"",switchTo:"{{mode}}"},z0={expand:"",collapse:"",expandSidebar:"",collapseSidebar:""},B0={skipToContent:""},H0="",V0={brand:_0,subtitle:F0,pages:$0,pageSubtitles:U0,theme:K0,sidebar:z0,a11y:B0,connection:H0},W0="API ",q0={tavily:"Tavily",brave:"Brave "},J0={title:"Tavily ",stats:{total:" {{count}} ",active:"{{count}} ",cooldown:"{{count}} ",invalid:"{{count}} ",disabled:"{{count}} ",summary:" {{total}}   {{active}}   {{cooldown}}   {{invalid}}   {{disabled}} "},kpi:{totalCapacity:"",activeKeys:"",systemHealth:""},actions:{addKey:"",refresh:"",checkCredits:"",checkingCredits:"..."},dialog:{addTitle:" Tavily "},form:{apiKeyFormat:'API  "tvly-" ',apiKeyPlaceholder:"tvly-..."},empty:{noKeys:" Tavily "}},Q0={title:"Brave ",stats:{total:" {{count}} ",active:"{{count}} ",invalid:"{{count}} ",disabled:"{{count}} ",summary:" {{total}}   {{active}}   {{invalid}}   {{disabled}} "},kpi:{activeKeys:"",systemHealth:""},actions:{addKey:"",refresh:""},dialog:{addTitle:" Brave "},form:{apiKeyFormat:'API  "BSA" ',apiKeyPlaceholder:"BSA..."},empty:{noKeys:" Brave  Brave "}},Y0={total:" {{count}} ",active:"{{count}} ",cooldown:"{{count}} ",invalid:"{{count}} ",disabled:"{{count}} ",summary:" {{total}}   {{active}}   {{cooldown}}   {{invalid}}   {{disabled}} "},G0={totalCapacity:"",activeKeys:"",systemHealth:""},X0={addKey:"",refresh:"",checkCredits:"",checkingCredits:"..."},Z0={placeholder:"...",showing:" {{filtered}} / {{total}} ",clearFilters:""},e1={allStatuses:"",active:"",disabled:"",cooldown:"",invalid:""},t1={label:"",newestFirst:"",oldestFirst:"",labelAZ:" A-Z",labelZA:" Z-A",recentlyUsed:"",statusAZ:" A-Z"},n1={selected:" <strong>{{count}}</strong> ",selectedCount_one:" {{count}} ",selectedCount_other:" {{count}} ",refreshCredits:"",deleteSelected:"",clearSelection:""},r1={label:"",apiKey:"API ",credits:"",status:"",lastUsed:"",created:"",actions:"",select:"",selectAll:"",selectKey:" {{label}}"},s1={noKeys:"",noMatch:""},a1={addTitle:" Tavily ",deleteTitle:"",deleteSelectedTitle:"",deleteDescription:' "{{label}}"',deleteSelectedDescription:" {{count}} ",deleteSelectedDescription_one:" {{count}} ",deleteSelectedDescription_other:" {{count}} ",requireDeleteText:" DELETE ",requireDeleteSelectedText:" DELETE "},i1={label:"",labelRequired:"",labelMinLength:" 2 ",labelHelp:"",labelPlaceholder:" prod-key-01",apiKey:"API ",apiKeyRequired:"API ",apiKeyFormat:'API  "tvly-" ',apiKeyHelp:"",apiKeyPlaceholder:"tvly-...",required:"*"},l1={added:"",addedMessage:' "{{name}}"',createFailed:"",updated:"",updatedMessage:" {{status}}",updateFailed:"",deleted:"",deletedMessage:' "{{name}}"',deleteFailed:"",checkingCredits:"...",checkingCreditsMessage:"",creditsUpdated:"",creditsUpdatedMessage:" {{total}} {{success}} {{failed}} ",syncFailed:"",syncing:"...",syncingMessage:" {{count}} ",syncSuccess:"",syncSuccessMessage:" {{count}} ",bulkRefreshFailed:"",bulkDeleting:"...",bulkDeletingMessage:" {{count}} ",bulkDeleted:"",bulkDeletedMessage:" {{count}} ",bulkDeleteFailed:""},o1={adding:"...",deleteKey:""},u1={title:W0,tabs:q0,tavily:J0,brave:Q0,stats:Y0,kpi:G0,actions:X0,search:Z0,filter:e1,sort:t1,bulk:n1,table:r1,empty:s1,dialog:a1,form:i1,toast:l1,button:o1,import:{title:"",selectFile:" JSON ",parsing:"...",preview:" {{valid}} {{tavily}}  Tavily{{brave}}  Brave{{invalid}} ",invalidWarning:"{{count}} ",confirm:"",importing:"...",resultTitle:"",resultSummary:" {{imported}} {{failed}} {{renamed}} ",renamedKeys:"",errors:"",fromFile:"",fromClipboard:"",clipboardTitle:"",pasteJson:" JSON ",pasteFromClipboard:"",pasteHelp:" JSON ",clipboardReadFailed:"",invalidJson:"JSON "},export:{button:"",preparing:"...",securityWarning:" API ",success:"",successMessage:" {{count}} ",failed:"",toFile:"",toClipboard:"",clipboardSuccess:"",clipboardSuccessMessage:" {{count}} ",clipboardFailed:"",clipboardPermissionDenied:"",clipboardNotSupported:""}},c1="",d1={total:" {{count}} ",active:"{{count}} ",summary:" {{total}}   {{active}} "},f1={createToken:"",refresh:"",setupInfo:""},h1={prefix:"",description:"",expires:"",created:"",actions:""},p1={noTokens:""},m1={createTitle:"",copyTitle:"",deleteTitle:"",deleteDescription:' "{{prefix}}"',requireDeleteText:" DELETE "},g1={description:"",descriptionPlaceholder:" staging automation",descriptionHelp:"",expiresIn:"",expiresInPlaceholder:" 86400",expiresInHelp:""},v1={title:"",mcpEndpoint:"MCP ",mcpEndpointHelp:"HTTP  <mono>Authorization: Bearer &lt;client_token&gt;</mono>  <mono>/mcp</mono>",clientToken:"",clientTokenPlaceholder:"<>",clientTokenHelp:"",configSnippets:"",copySnippet:""},y1={warning:" MCP ",copyToken:""},x1={created:"",createdMessage:"",createFailed:"",deleted:"",deletedMessage:' "{{prefix}}"',deleteFailed:""},k1={title:c1,stats:d1,actions:f1,table:h1,empty:p1,dialog:m1,form:g1,setup:v1,copyDialog:y1,toast:x1},S1="",w1="",N1={testConnection:""},j1={label:" API  URL",placeholder:" = ",help:" <mono>http://127.0.0.1:8787</mono>",schemeTip:" http://  https:// http://127.0.0.1:8787"},b1={label:"",status:"",signedIn:"",signedOut:"",changeToken:"",help:" ADMIN_API_TOKEN MCP "},C1={label:"",light:"",dark:"",help:""},E1={label:"",help:""},T1={label:"",help:" UI "},P1={label:"",signInRequired:"",loadError:"",keySelection:"",roundRobin:"",random:"",keySelectionHelp:" <mono>TAVILY_KEY_SELECTION_STRATEGY</mono><mono>round_robin</mono>  <mono>random</mono>",searchSourceMode:{label:"",help:" API",tavily_only:" Tavily",brave_only:" Brave",combined:" (Tavily + Brave)",brave_prefer_tavily_fallback:"Brave Tavily ",braveUnavailableWarning:" Brave ",combinedUnavailableWarning:" Tavily  Brave  API ",costNote:" API 2 "},research:{label:"Tavily Research",enabled:"",disabled:"",help:" tavily_research  Tavily  Research "}},L1={label:"",help:"/"},R1={envVars:" <mono>ADMIN_API_TOKEN</mono>  <mono>KEY_ENCRYPTION_SECRET</mono> "},I1={signInRequired:"",signInRequiredMessage:"",updated:"",updatedMessage:" {{strategy}}",searchSourceModeUpdated:"",searchSourceModeUpdatedMessage:" {{mode}}",researchToggled:"Research ",researchToggledMessage:"Tavily Research {{status}}",updateFailed:"",connected:"",connectedMessage:" API ",authFailed:" (401)",authFailedMessage:" ADMIN_API_TOKEN ",notFound:" (404)",notFoundMessage:" API  URL /admin/api/* ",networkError:"/CORS ",networkErrorMessage:" API http://127.0.0.1:8787  Vite /admin/api  URL  URL",connectionFailed:"",goToLoginMessage:" ADMIN_API_TOKEN"},M1={title:S1,subtitle:w1,actions:N1,apiBaseUrl:j1,auth:b1,theme:C1,language:E1,notes:T1,server:P1,rotation:L1,pill:R1,toast:I1},O1="",A1=" ADMIN_API_TOKEN ",D1={tokenLabel:" API ",tokenPlaceholder:"ADMIN_API_TOKEN",tokenHelp:"",remember:" localStorage "},_1={info:"/ MCP "},F1={tokenRequired:"",tokenRequiredMessage:" ADMIN_API_TOKEN ",signedIn:"",authFailed:" (401)",authFailedMessage:" ADMIN_API_TOKEN ",notFound:" (404)",notFoundMessage:" API  URL /admin/api/* ",networkError:"/CORS ",networkErrorMessage:" API http://127.0.0.1:8787  Vite /admin  URL  URL",signInFailed:""},$1={title:O1,subtitle:A1,form:D1,pill:_1,toast:F1},U1="",K1=" Tavily ",z1={refresh:"",viewAll:""},B1={tavilyKeys:"Tavily ",keysHint:"{{active}}   {{unhealthy}} /",clientTokens:"",tokensHint:"{{active}}   {{revoked}} ",usage:"",usageHint:" 10 "},H1={realtime:"",subtitle:"",live:"",requestsPerMinute:"",requestsPerHour:"",activeTokens:"",activeKeys:"",unhealthyKeys:"",tavilyCost:"Tavily 30",braveCost:"Brave 30"},V1={title:"",subtitle:""},W1={time:"",tool:"",outcome:"",query:""},q1={noUsage:""},J1={title:U1,subtitle:K1,actions:z1,kpi:B1,metrics:H1,recentUsage:V1,table:W1,empty:q1},Q1="",Y1="Tavily ",G1={refresh:""},X1={tool:"",allTools:"",outcome:"",allOutcomes:"",success:"",error:"",clientTokenPrefix:"",clientPlaceholder:"mcp_abcd1234...",from:"",to:""},Z1={totalEvents:""},ek={time:"",tool:"",outcome:"",client:"",query:"",latency:""},tk={noEvents:""},nk={title:"",time:"",client:"",upstreamKey:"",latency:"",query:"",queryHash:"{{hash}}",error:"",args:""},rk={title:Q1,subtitle:Y1,actions:G1,filters:X1,summary:Z1,table:ek,empty:tk,dialog:nk},sk="",ak=" MCP ",ik="",lk="",ok="mcp_client_...",uk="",ck="",dk=" (JSON)",fk=" JSON ",hk="",pk="",mk="",gk="",vk="",yk={timestamp:"",tool:"",status:"",duration:""},xk="",kk="",Sk={title:sk,description:ak,request:ik,clientToken:lk,clientTokenPlaceholder:ok,clientTokenDescription:uk,tool:ck,toolParameters:dk,toolParametersInvalid:fk,run:hk,response:pk,noResponse:mk,history:gk,noHistory:vk,historyTable:yk,statusSuccess:xk,statusError:kk},wk=[{code:"en",name:"English"},{code:"zh-CN",name:""}],Nk={en:{common:zy,nav:Gy,keys:mx,tokens:Cx,settings:$x,login:Vx,overview:e0,usage:u0,playground:E0},"zh-CN":{common:D0,nav:V0,keys:u1,tokens:k1,settings:M1,login:$1,overview:J1,usage:rk,playground:Sk}};Ge.use(Ch).use(Gm).init({resources:Nk,fallbackLng:"en",defaultNS:"common",ns:["common","nav","keys","tokens","settings","login","overview","usage","playground"],interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],lookupLocalStorage:"mcp-nexus.locale",caches:["localStorage"]}});function jk(s){Ge.changeLanguage(s),localStorage.setItem("mcp-nexus.locale",s)}function bk(){const s=Ge.language;return s==="zh-CN"||s.startsWith("zh")?"zh-CN":"en"}function Ck({api:s,value:n,signedIn:a,onChange:o,onGoToLogin:u,onSignOut:d}){const{t:f}=Me("settings"),{t:m}=Me("common"),p=Qn(),[v,y]=x.useState(!1),[k,S]=x.useState(null),[j,T]=x.useState(null),[O,N]=x.useState("round_robin"),[L,_]=x.useState(!1),[U,D]=x.useState("brave_prefer_tavily_fallback"),[z,B]=x.useState(!1),[K,q]=x.useState(!1),ae=x.useMemo(()=>n.apiBaseUrl.trim()!==""&&!/^https?:\/\//.test(n.apiBaseUrl.trim()),[n.apiBaseUrl]);x.useEffect(()=>{let V=!1;if(!a){S(null),T(null);return}return T(null),s.getServerInfo().then(P=>{V||(S(P),N(P.tavilyKeySelectionStrategy),D(P.searchSourceMode))}).catch(P=>{if(V)return;const Z=typeof(P==null?void 0:P.message)=="string"?P.message:m("errors.unknownError");T(Z)}),()=>{V=!0}},[s,a,m]);async function ie(V){if(!a){p.push({title:f("toast.signInRequired"),message:f("toast.signInRequiredMessage")});return}_(!0);try{const P=await s.updateServerInfo({tavilyKeySelectionStrategy:V});S(P),N(P.tavilyKeySelectionStrategy),p.push({title:f("toast.updated"),message:f("toast.updatedMessage",{strategy:P.tavilyKeySelectionStrategy})})}catch(P){const Z=typeof(P==null?void 0:P.message)=="string"?P.message:m("errors.unknownError");p.push({title:f("toast.updateFailed"),message:Z})}finally{_(!1)}}async function de(V){if(!a){p.push({title:f("toast.signInRequired"),message:f("toast.signInRequiredMessage")});return}B(!0);try{const P=await s.updateServerInfo({searchSourceMode:V});S(P),D(P.searchSourceMode),p.push({title:f("toast.searchSourceModeUpdated"),message:f("toast.searchSourceModeUpdatedMessage",{mode:P.searchSourceMode})})}catch(P){const Z=typeof(P==null?void 0:P.message)=="string"?P.message:m("errors.unknownError");p.push({title:f("toast.updateFailed"),message:Z})}finally{B(!1)}}async function fe(V){if(!a){p.push({title:f("toast.signInRequired"),message:f("toast.signInRequiredMessage")});return}q(!0);try{const P=await s.updateServerInfo({researchEnabled:V});S(P);const Z=P.researchEnabled?f("server.research.enabled").toLowerCase():f("server.research.disabled").toLowerCase();p.push({title:f("toast.researchToggled"),message:f("toast.researchToggledMessage",{status:Z})})}catch(P){const Z=typeof(P==null?void 0:P.message)=="string"?P.message:m("errors.unknownError");p.push({title:f("toast.updateFailed"),message:Z})}finally{q(!1)}}async function H(){if(!a){p.push({title:f("toast.signInRequired"),message:f("toast.goToLoginMessage")});return}y(!0);try{await s.listKeys(),p.push({title:f("toast.connected"),message:f("toast.connectedMessage")})}catch(V){const P=typeof(V==null?void 0:V.status)=="number"?V.status:null;V instanceof Ot&&P===401?p.push({title:f("toast.authFailed"),message:f("toast.authFailedMessage")}):V instanceof Ot&&P===404?p.push({title:f("toast.notFound"),message:f("toast.notFoundMessage")}):V instanceof Ot&&P===0?p.push({title:f("toast.networkError"),message:f("toast.networkErrorMessage")}):p.push({title:f("toast.connectionFailed"),message:typeof(V==null?void 0:V.message)=="string"?V.message:m("errors.unknownError")})}finally{y(!1)}}function ee(V){jk(V),o({...n,locale:V})}return l.jsx("div",{className:"stack",children:l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:f("title")}),l.jsx("div",{className:"help",children:f("subtitle")})]}),l.jsxs("button",{className:"btn",onClick:H,disabled:v,children:[l.jsx(Zt,{}),f("actions.testConnection")]})]})}),l.jsx("div",{className:"cardBody",children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"api-base-url-input",className:"label",children:f("apiBaseUrl.label")}),l.jsx("input",{id:"api-base-url-input",className:"input mono",value:n.apiBaseUrl,onChange:V=>o({...n,apiBaseUrl:V.target.value}),placeholder:f("apiBaseUrl.placeholder"),autoComplete:"off"}),l.jsx("div",{className:"help",dangerouslySetInnerHTML:{__html:f("apiBaseUrl.help").replace(/<mono>/g,'<span class="mono">').replace(/<\/mono>/g,"</span>")}}),ae?l.jsx("div",{className:"badge mono","data-variant":"warning",children:f("apiBaseUrl.schemeTip")}):null]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:f("auth.label")}),l.jsxs("div",{className:"help",children:[f("auth.status")," ",a?l.jsx("span",{className:"badge mono","data-variant":"success",children:f("auth.signedIn")}):l.jsx("span",{className:"badge mono","data-variant":"danger",children:f("auth.signedOut")})]}),l.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[a?l.jsx("button",{className:"btn","data-variant":"ghost",onClick:u,children:f("auth.changeToken")}):l.jsx("button",{className:"btn","data-variant":"primary",onClick:u,children:m("actions.signIn")}),a?l.jsxs("button",{className:"btn","data-variant":"danger",onClick:d,children:[l.jsx(hv,{}),m("actions.signOut")]}):null]}),l.jsx("div",{className:"help",children:f("auth.help")})]})]}),l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"theme-select",className:"label",children:f("theme.label")}),l.jsxs("select",{id:"theme-select",className:"select",value:n.theme,onChange:V=>o({...n,theme:V.target.value}),children:[l.jsx("option",{value:"light",children:f("theme.light")}),l.jsx("option",{value:"dark",children:f("theme.dark")})]}),l.jsx("div",{className:"help",children:f("theme.help")})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"language-select",className:"label",children:f("language.label")}),l.jsx("select",{id:"language-select",className:"select",value:bk(),onChange:V=>ee(V.target.value),children:wk.map(V=>l.jsx("option",{value:V.code,children:V.name},V.code))}),l.jsx("div",{className:"help",children:f("language.help")})]})]}),l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:f("server.label")}),a?j?l.jsx("div",{className:"badge mono","data-variant":"warning",children:f("server.loadError")}):k?l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx("div",{className:"help",children:f("server.keySelection")}),l.jsx("span",{className:"badge mono","data-variant":"info",children:k.tavilyKeySelectionStrategy})]}),l.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[l.jsxs("select",{className:"select",value:O,onChange:V=>N(V.target.value==="random"?"random":"round_robin"),disabled:L,"aria-label":f("server.keySelection"),children:[l.jsx("option",{value:"round_robin",children:f("server.roundRobin")}),l.jsx("option",{value:"random",children:f("server.random")})]}),l.jsx("button",{className:"btn btn--sm","data-variant":"primary",onClick:()=>ie(O),disabled:L||O===k.tavilyKeySelectionStrategy,children:m(L?"status.saving":"actions.save")})]}),l.jsx("div",{className:"help",dangerouslySetInnerHTML:{__html:f("server.keySelectionHelp").replace(/<mono>/g,'<span class="mono">').replace(/<\/mono>/g,"</span>")}}),l.jsxs("div",{className:"flex gap-3 items-center mt-4",children:[l.jsx("div",{className:"help",children:f("server.searchSourceMode.label")}),l.jsx("span",{className:"badge mono","data-variant":"info",children:k.searchSourceMode})]}),l.jsxs("div",{className:"flex gap-3 items-center flex-wrap",children:[l.jsxs("select",{className:"select",value:U,onChange:V=>D(V.target.value),disabled:z,"aria-label":f("server.searchSourceMode.label"),children:[l.jsx("option",{value:"brave_prefer_tavily_fallback",children:f("server.searchSourceMode.brave_prefer_tavily_fallback")}),l.jsx("option",{value:"combined",children:f("server.searchSourceMode.combined")}),l.jsx("option",{value:"tavily_only",children:f("server.searchSourceMode.tavily_only")}),l.jsx("option",{value:"brave_only",children:f("server.searchSourceMode.brave_only")})]}),l.jsx("button",{className:"btn btn--sm","data-variant":"primary",onClick:()=>de(U),disabled:z||U===k.searchSourceMode,children:m(z?"status.saving":"actions.save")})]}),l.jsx("div",{className:"help",children:f("server.searchSourceMode.help")}),U==="combined"&&l.jsxs("div",{className:"help",style:{color:"var(--color-warning)",fontSize:"0.875rem",marginTop:"0.5rem"},children:[" ",f("server.searchSourceMode.costNote")]}),U==="brave_only"&&!k.braveSearchEnabled?l.jsx("div",{className:"badge mono","data-variant":"warning",children:f("server.searchSourceMode.braveUnavailableWarning")}):null,U==="combined"&&!k.braveSearchEnabled?l.jsx("div",{className:"badge mono","data-variant":"warning",children:f("server.searchSourceMode.combinedUnavailableWarning")}):null,l.jsxs("div",{className:"flex gap-3 items-center mt-4",children:[l.jsx("div",{className:"help",children:f("server.research.label")}),l.jsx("span",{className:"badge mono","data-variant":k.researchEnabled?"success":"danger",children:k.researchEnabled?f("server.research.enabled"):f("server.research.disabled")})]}),l.jsx("div",{className:"flex gap-3 items-center flex-wrap",children:l.jsx("button",{className:"btn btn--sm","data-variant":k.researchEnabled?"danger":"primary",onClick:()=>fe(!k.researchEnabled),disabled:K,children:K?m("status.saving"):k.researchEnabled?f("server.research.disabled"):f("server.research.enabled")})}),l.jsx("div",{className:"help",children:f("server.research.help")})]}):l.jsx("div",{className:"help",children:m("status.loading")}):l.jsx("div",{className:"help",children:f("server.signInRequired")})]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:f("rotation.label")}),l.jsx("div",{className:"help",children:f("rotation.help")})]})]}),l.jsxs("div",{className:"pill",children:[l.jsx(hh,{}),l.jsx("span",{className:"help",dangerouslySetInnerHTML:{__html:f("pill.envVars").replace(/<mono>/g,'<span class="mono">').replace(/<\/mono>/g,"</span>")}})]})]})})]})})}function Oi(s){const n=s.apiBaseUrl.trim()?s.apiBaseUrl.trim().replace(/\/+$/,""):s.origin.trim().replace(/\/+$/,"");return n?`${n}/mcp`:"/mcp"}function Df(s){return(s.apiBaseUrl.trim()?s.apiBaseUrl.trim().replace(/\/+$/,""):s.origin.trim().replace(/\/+$/,""))||""}function xi(s){return s.trim()?s.trim():"<YOUR_CLIENT_TOKEN>"}function _f(s){return s.trim()?s.trim():"<YOUR_BRIDGE_BASE_URL>"}const ki=[{id:"http-curl",title:"HTTP (cURL test)",kind:"http",description:"Quick sanity check that your client token can authenticate to the MCP endpoint.",render:s=>{const n=Oi(s);return[`TOKEN="${xi(s.clientToken)}"`,`URL="${n}"`,"",'curl -sS "$URL" \\','  -H "Authorization: Bearer $TOKEN" \\','  -H "Content-Type: application/json" \\',`  -d '{"jsonrpc":"2.0","id":"1","method":"initialize","params":{"protocolVersion":"2024-11-05","capabilities":{},"clientInfo":{"name":"curl","version":"0"}}}'`].join(`
`)}},{id:"http-generic",title:"HTTP (any MCP HTTP client)",kind:"http",description:"Use these values in any client that supports MCP over HTTP and custom headers.",render:s=>{const n=Oi(s),a=xi(s.clientToken);return["MCP endpoint URL:",n,"","HTTP header:",`Authorization: Bearer ${a}`].join(`
`)}},{id:"stdio-generic",title:"stdio (generic)",kind:"stdio",description:"Recommended: run a lightweight stdio wrapper via npx that connects to the bridge-server over HTTP.",render:s=>{const n=xi(s.clientToken),a=_f(Df(s));return[`export TAVILY_BRIDGE_MCP_TOKEN="${n}"`,`export TAVILY_BRIDGE_BASE_URL="${a}"`,"","npx -y @mcp-nexus/stdio-http-bridge"].join(`
`)}},{id:"claude-desktop-npx",title:"Claude Desktop (npx  HTTP)",kind:"stdio",description:"Recommended: no repo checkout; token is passed via env (not command-line args).",render:s=>{const n=xi(s.clientToken);return["{",'  "mcpServers": {','    "tavily-bridge": {','      "command": "npx",','      "args": ["-y", "@mcp-nexus/stdio-http-bridge"],','      "env": {',`        "TAVILY_BRIDGE_BASE_URL": "${_f(Df(s))}",`,`        "TAVILY_BRIDGE_MCP_TOKEN": "${n}"`,"      }","    }","  }","}"].join(`
`)}}];function Ek({open:s,onClose:n,title:a,children:o}){const u=x.useId(),d=x.useRef(null),f=x.useRef(null),m=x.useRef(null);return x.useEffect(()=>{if(!s)return;m.current=document.activeElement instanceof HTMLElement?document.activeElement:null;const p=d.current;if(!p)return;const v=p.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');return(f.current??v[0]??p).focus(),()=>{var k;(k=m.current)==null||k.focus()}},[s]),x.useEffect(()=>{if(!s)return;const p=v=>{if(v.key==="Escape"){n();return}if(v.key!=="Tab")return;const y=d.current;if(!y)return;const k=Array.from(y.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(O=>!O.disabled);if(k.length===0){v.preventDefault(),y.focus();return}const S=k[0],j=k[k.length-1],T=document.activeElement instanceof HTMLElement?document.activeElement:null;if(!T||!y.contains(T)){v.preventDefault(),(v.shiftKey?j:S).focus();return}v.shiftKey?T===S&&(v.preventDefault(),j.focus()):T===j&&(v.preventDefault(),S.focus())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[s,n]),x.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[s]),s?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"drawerOverlay","data-open":s,onClick:n,"aria-hidden":"true"}),l.jsxs("div",{className:"drawer","data-open":s,role:"dialog","aria-modal":"true","aria-labelledby":u,ref:d,tabIndex:-1,children:[l.jsxs("div",{className:"drawerHeader",children:[l.jsx("div",{id:u,className:"h2",children:a}),l.jsx(ea,{ref:f,icon:l.jsx(uu,{}),onClick:n,"aria-label":"Close drawer",type:"button"})]}),l.jsx("div",{className:"drawerBody",children:o})]})]}):null}const Uo=10,Ff=["tavily_search","tavily_extract","tavily_crawl","tavily_map","tavily_research","brave_web_search","brave_local_search"];function Tk({api:s,apiBaseUrl:n}){const{t:a}=Me("tokens"),{t:o}=Me("common"),u=Qn(),[d,f]=ou(),[m,p]=x.useState([]),[v,y]=x.useState(!1),[k,S]=x.useState(null),[j,T]=x.useState(1),[O,N]=x.useState(!1),[L,_]=x.useState(!1),[U,D]=x.useState(""),[z,B]=x.useState(""),[K,q]=x.useState(!1),[ae,ie]=x.useState([]),[de,fe]=x.useState(!1),[H,ee]=x.useState(""),[V,P]=x.useState(null),[Z,$]=x.useState(""),[X,Y]=x.useState(()=>{var te;return((te=ki[0])==null?void 0:te.id)??"http-curl"}),[E,F]=x.useState(null),[he,oe]=x.useState(!1),[ve,ce]=x.useState(!1),Se=d.get("create"),je=d.get("setup");x.useEffect(()=>{if(Se==="1"){N(!0);const te=new URLSearchParams(d.toString());te.delete("create"),f(te,{replace:!0})}if(je==="1"){ce(!0);const te=new URLSearchParams(d.toString());te.delete("setup"),f(te,{replace:!0})}},[Se,d,f,je]);const Ne=typeof window<"u"?window.location.origin:"",ze=x.useMemo(()=>Oi({apiBaseUrl:n,origin:Ne}),[n,Ne]),mt=x.useCallback(async()=>{y(!0),S(null);try{p(await s.listTokens())}catch(te){S(typeof(te==null?void 0:te.message)=="string"?te.message:o("errors.unknownError")),p([])}finally{y(!1)}},[s,o]);x.useEffect(()=>{mt()},[mt]);const xn=x.useMemo(()=>({active:m.filter(Ue=>!Ue.revokedAt).length,total:m.length}),[m]),nt=x.useMemo(()=>{const te=(j-1)*Uo;return m.slice(te,te+Uo)},[m,j]);async function nn(){_(!0);try{const te=await s.createToken({description:U.trim()?U.trim():void 0,expiresInSeconds:typeof z=="number"?z:void 0,allowedTools:K?ae:void 0,rateLimit:de&&typeof H=="number"?{requestsPerMinute:H}:void 0});N(!1),P(te.token),$(te.token),D(""),B(""),q(!1),ie([]),fe(!1),ee(""),u.push({title:a("toast.created"),message:a("toast.createdMessage")}),await mt()}catch(te){u.push({title:a("toast.createFailed"),message:typeof(te==null?void 0:te.message)=="string"?te.message:o("errors.unknownError")})}finally{_(!1)}}async function Yn(){if(E){oe(!0);try{await s.deleteToken(E.id),u.push({title:a("toast.deleted"),message:a("toast.deletedMessage",{prefix:E.tokenPrefix})}),F(null),await mt()}catch(te){u.push({title:a("toast.deleteFailed"),message:typeof(te==null?void 0:te.message)=="string"?te.message:o("errors.unknownError")})}finally{oe(!1)}}}const rn=x.useMemo(()=>ki.find(te=>te.id===X)??ki[0],[X]),Wt=x.useMemo(()=>rn.render({apiBaseUrl:n,origin:Ne,clientToken:Z}),[rn,n,Ne,Z]);return l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:a("title")}),l.jsx("div",{className:"help",children:a("stats.summary",{total:xn.total,active:xn.active})})]}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx("button",{className:"btn","data-variant":"ghost",onClick:()=>ce(!0),children:a("actions.setupInfo")}),l.jsxs("button",{className:"btn",onClick:mt,disabled:v,children:[l.jsx(Zt,{}),a("actions.refresh")]}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:()=>N(!0),children:[l.jsx(Yo,{}),a("actions.createToken")]})]})]})}),l.jsxs("div",{className:"cardBody p-0",children:[k?l.jsx("div",{className:"p-4",children:l.jsx(Xr,{message:k,onRetry:mt,retrying:v})}):null,l.jsx(na,{ariaLabel:a("title"),columns:[{id:"prefix",header:a("table.prefix"),dataLabel:a("table.prefix"),cellClassName:"mono",cell:te=>te.tokenPrefix},{id:"description",header:a("table.description"),dataLabel:a("table.description"),cellClassName:"muted",cell:te=>te.description??""},{id:"expires",header:a("table.expires"),headerStyle:{width:170},dataLabel:a("table.expires"),cellClassName:"mono",cell:te=>en(te.expiresAt)},{id:"created",header:a("table.created"),headerStyle:{width:150},dataLabel:a("table.created"),cellClassName:"mono",cell:te=>en(te.createdAt)},{id:"actions",header:a("table.actions"),headerStyle:{width:100,textAlign:"right"},headerAlign:"right",dataLabel:a("table.actions"),cellAlign:"right",cell:te=>l.jsx("button",{className:"btn","data-variant":"danger",onClick:()=>F(te),style:{padding:"6px 12px",fontSize:13},children:o("actions.delete")})}],rows:nt,rowKey:te=>te.id,loading:v,empty:l.jsx(ta,{icon:l.jsx(Gr,{}),message:a("empty.noTokens"),action:{label:a("actions.createToken"),onClick:()=>N(!0)},compact:!0})}),l.jsx(hu,{total:m.length,page:j,pageSize:Uo,onChange:T})]})]}),l.jsx(Ek,{open:ve,onClose:()=>ce(!1),title:a("setup.title"),children:l.jsxs("div",{className:"stack gap-6",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{className:"label",htmlFor:"mcp-endpoint-input",children:a("setup.mcpEndpoint")}),l.jsx("input",{id:"mcp-endpoint-input",className:"input mono",value:ze,readOnly:!0}),l.jsx("div",{className:"help",dangerouslySetInnerHTML:{__html:a("setup.mcpEndpointHelp").replace(/<mono>/g,'<span class="mono">').replace(/<\/mono>/g,"</span>")}})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{className:"label",htmlFor:"mcp-client-token-input",children:a("setup.clientToken")}),l.jsx("input",{id:"mcp-client-token-input",className:"input mono",type:"password",value:Z,onChange:te=>$(te.target.value),placeholder:a("setup.clientTokenPlaceholder"),autoComplete:"off"}),l.jsx("div",{className:"help",children:a("setup.clientTokenHelp")})]}),l.jsxs("div",{className:"stack gap-3",children:[l.jsx("label",{className:"label",htmlFor:"mcp-config-snippet",children:a("setup.configSnippets")}),l.jsx("div",{className:"flex flex-wrap gap-2",children:ki.map(te=>l.jsx("button",{className:"btn btn--sm","data-variant":te.id===X?"primary":"ghost",onClick:()=>Y(te.id),"aria-pressed":te.id===X,children:te.title},te.id))}),l.jsx("div",{className:"help",children:rn.description}),l.jsx("div",{className:"flex gap-3 items-center mt-2",children:l.jsx(Xo,{text:Wt,variant:"primary",label:a("setup.copySnippet"),buttonText:a("setup.copySnippet"),disabled:!Wt.trim()})}),l.jsx("textarea",{id:"mcp-config-snippet",className:"textarea mono text-xs",value:Wt,readOnly:!0,rows:Math.min(14,Math.max(6,Wt.split(`
`).length+1))})]})]})}),l.jsx(qn,{title:a("dialog.createTitle"),open:O,onClose:()=>L?null:N(!1),children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"token-description-input",className:"label",children:a("form.description")}),l.jsx("input",{id:"token-description-input",className:"input",value:U,onChange:te=>D(te.target.value),placeholder:a("form.descriptionPlaceholder")}),l.jsx("div",{className:"help",children:a("form.descriptionHelp")})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"token-expires-input",className:"label",children:a("form.expiresIn")}),l.jsx("input",{id:"token-expires-input",className:"input mono",inputMode:"numeric",value:z,onChange:te=>{const Ue=te.target.value.trim();if(!Ue)return B("");const ut=Number(Ue);B(Number.isFinite(ut)?Math.max(0,Math.floor(ut)):"")},placeholder:a("form.expiresInPlaceholder")}),l.jsx("div",{className:"help",children:typeof z=="number"&&z>0?` ${Rv(z,(te,Ue)=>o(`time.${te}`,Ue))}`:a("form.expiresInHelp")})]})]}),l.jsxs("div",{className:"stack gap-3",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"label",children:a("form.allowedTools")}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"checkbox",id:"restrict-tools-check",checked:K,onChange:te=>{q(te.target.checked),te.target.checked&&ae.length===0&&ie([...Ff])}}),l.jsx("label",{htmlFor:"restrict-tools-check",className:"text-sm cursor-pointer",children:a("form.restrictTools")})]})]}),K&&l.jsx("div",{className:"grid2 p-3 border rounded-lg bg-surface-2",style:{border:"1px solid var(--border)",borderRadius:"var(--radius-sm)"},children:Ff.map(te=>l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"checkbox",id:`tool-${te}`,checked:ae.includes(te),onChange:Ue=>{Ue.target.checked?ie(ut=>[...ut,te]):ie(ut=>ut.filter(Xe=>Xe!==te))}}),l.jsx("label",{htmlFor:`tool-${te}`,className:"text-sm mono cursor-pointer",children:te})]},te))})]}),l.jsxs("div",{className:"stack gap-3",children:[l.jsxs("div",{className:"row",children:[l.jsx("div",{className:"label",children:a("form.rateLimit")}),l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsx("input",{type:"checkbox",id:"restrict-rate-check",checked:de,onChange:te=>fe(te.target.checked)}),l.jsx("label",{htmlFor:"restrict-rate-check",className:"text-sm cursor-pointer",children:a("form.enableRateLimit")})]})]}),de&&l.jsx("div",{className:"stack",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{className:"input mono",type:"number",min:"1",placeholder:"60",value:H,onChange:te=>{const Ue=parseInt(te.target.value,10);ee(isNaN(Ue)?"":Math.max(1,Ue))},style:{width:"120px"}}),l.jsx("span",{className:"text-sm text-muted",children:a("form.requestsPerMinute")})]})})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx("button",{className:"btn",onClick:()=>N(!1),disabled:L,children:o("actions.cancel")}),l.jsxs("button",{className:"btn","data-variant":"primary",onClick:nn,disabled:L,children:[l.jsx(Gr,{}),a("actions.createToken")]})]})]})}),l.jsx(qn,{title:a("dialog.copyTitle"),open:!!V,onClose:()=>P(null),children:l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"help",children:a("copyDialog.warning")}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx("input",{className:"input mono",value:V??"",readOnly:!0,"aria-label":a("copyDialog.copyToken")}),l.jsx(Xo,{text:V??"",variant:"primary",label:a("copyDialog.copyToken"),buttonText:o("actions.copy"),disabled:!V})]})]})}),l.jsx(bi,{open:!!E,title:a("dialog.deleteTitle"),description:a("dialog.deleteDescription",{prefix:(E==null?void 0:E.tokenPrefix)??""}),confirmLabel:o("actions.delete"),confirmVariant:"danger",requireText:"DELETE",requireTextLabel:a("dialog.requireDeleteText"),confirming:he,onClose:()=>he?null:F(null),onConfirm:Yn})]})}function Pk(s,n){const[a,o]=x.useState(s);return x.useEffect(()=>{const u=setTimeout(()=>{o(s)},n);return()=>{clearTimeout(u)}},[s,n]),a}const Si=20;function Eh(s){const n=/^(\d{4})-(\d{2})-(\d{2})$/.exec(s);if(!n)return null;const a=Number(n[1]),o=Number(n[2]),u=Number(n[3]);return!Number.isFinite(a)||!Number.isFinite(o)||!Number.isFinite(u)?null:{year:a,month:o,day:u}}function Lk(s){const n=Eh(s);if(!n)return null;const a=new Date(n.year,n.month-1,n.day,0,0,0,0);return Number.isNaN(a.getTime())?null:a.toISOString()}function Rk(s){const n=Eh(s);if(!n)return null;const a=new Date(n.year,n.month-1,n.day,23,59,59,999);return Number.isNaN(a.getTime())?null:a.toISOString()}function Ik({api:s}){const{t:n}=Me("usage"),{t:a}=Me("common"),[o,u]=x.useState([]),[d,f]=x.useState(null),[m,p]=x.useState({totalItems:0,totalPages:0,currentPage:1,limit:Si}),[v,y]=x.useState(!1),[k,S]=x.useState(null),[j,T]=x.useState(null),[O,N]=x.useState(""),[L,_]=x.useState(""),[U,D]=x.useState(""),[z,B]=x.useState(""),[K,q]=x.useState(""),[ae,ie]=x.useState(1),de=Pk(U,400),fe=x.useMemo(()=>{const P={page:ae,limit:Si,order:"desc"};if(O&&(P.toolName=O),L&&(P.outcome=L),de&&(P.clientTokenPrefix=de),z){const Z=Lk(z);Z&&(P.dateFrom=Z)}if(K){const Z=Rk(K);Z&&(P.dateTo=Z)}return P},[ae,O,L,de,z,K]),H=x.useCallback(async()=>{y(!0),S(null);try{const[P,Z]=await Promise.all([s.listUsage(fe),s.getUsageSummary({dateFrom:fe.dateFrom,dateTo:fe.dateTo})]);u(P.logs),p(P.pagination),f(Z)}catch(P){S(typeof(P==null?void 0:P.message)=="string"?P.message:a("errors.unknownError")),u([]),p({totalItems:0,totalPages:0,currentPage:1,limit:Si}),f(null)}finally{y(!1)}},[s,fe,a]);x.useEffect(()=>{H()},[H]),x.useEffect(()=>{ie(1)},[O,L,de,z,K]);const ee=x.useMemo(()=>{var $;const P=(($=d==null?void 0:d.byTool)==null?void 0:$.map(X=>X.toolName))??[],Z=Array.from(new Set(P));return Z.length?Z:["tavily_search","tavily_extract","tavily_crawl","tavily_map","tavily_research"]},[d]),V=x.useMemo(()=>[{id:"time",header:n("table.time"),headerStyle:{width:170},dataLabel:n("table.time"),cellClassName:"mono",cell:P=>en(P.timestamp)},{id:"tool",header:n("table.tool"),headerStyle:{width:140},dataLabel:n("table.tool"),cellClassName:"mono",cell:P=>P.toolName},{id:"outcome",header:n("table.outcome"),headerStyle:{width:120},dataLabel:n("table.outcome"),cell:P=>l.jsx(Mk,{outcome:P.outcome})},{id:"token",header:n("table.client"),headerStyle:{width:160},dataLabel:n("table.client"),cellClassName:"mono",cell:P=>P.clientTokenPrefix??""},{id:"query",header:n("table.query"),dataLabel:n("table.query"),cellClassName:"mono",cell:P=>P.queryPreview??(P.queryHash?`${P.queryHash.slice(0,10)}`:"")},{id:"latency",header:n("table.latency"),headerStyle:{width:120,textAlign:"right"},headerAlign:"right",dataLabel:n("table.latency"),cellAlign:"right",cellClassName:"mono",cell:P=>typeof P.latencyMs=="number"?`${P.latencyMs}ms`:""}],[n]);return l.jsxs("div",{className:"usagePage",children:[l.jsxs("div",{className:"card usagePageCard",children:[l.jsx("div",{className:"cardHeader",children:l.jsxs("div",{className:"row",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h2",children:n("title")}),l.jsx("div",{className:"help",children:n("subtitle")})]}),l.jsxs("button",{className:"btn",onClick:H,disabled:v,children:[l.jsx(Zt,{className:v?"spin":""}),n("actions.refresh")]})]})}),l.jsxs("div",{className:"cardBody",children:[k?l.jsx(Xr,{message:k,onRetry:H,retrying:v}):null,l.jsxs("div",{className:"grid2 gap-3",children:[l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"usage-tool",className:"label",children:n("filters.tool")}),l.jsxs("select",{id:"usage-tool",className:"select",value:O,onChange:P=>N(P.target.value),children:[l.jsx("option",{value:"",children:n("filters.allTools")}),ee.map(P=>l.jsx("option",{value:P,children:P},P))]})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"usage-outcome",className:"label",children:n("filters.outcome")}),l.jsxs("select",{id:"usage-outcome",className:"select",value:L,onChange:P=>_(P.target.value),children:[l.jsx("option",{value:"",children:n("filters.allOutcomes")}),l.jsx("option",{value:"success",children:n("filters.success")}),l.jsx("option",{value:"error",children:n("filters.error")})]})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"usage-client",className:"label",children:n("filters.clientTokenPrefix")}),l.jsxs("div",{className:"searchInput",children:[l.jsx("div",{className:"searchInputIcon",children:l.jsx(es,{})}),l.jsx("input",{id:"usage-client",type:"search",className:"input mono",placeholder:n("filters.clientPlaceholder"),value:U,onChange:P=>D(P.target.value),style:{paddingLeft:40}})]})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"usage-date-from",className:"label",children:n("filters.from")}),l.jsx("input",{id:"usage-date-from",type:"date",className:"input",value:z,onChange:P=>B(P.target.value)})]}),l.jsxs("div",{className:"stack",children:[l.jsx("label",{htmlFor:"usage-date-to",className:"label",children:n("filters.to")}),l.jsx("input",{id:"usage-date-to",type:"date",className:"input",value:K,onChange:P=>q(P.target.value)})]})]}),d?l.jsx("div",{className:"mt-4",children:l.jsxs("div",{className:"help",children:[n("summary.totalEvents")," ",l.jsx("span",{className:"mono",children:d.total})]})}):null]}),l.jsx("div",{className:"cardBody p-0 usageTableScroller",children:l.jsx(na,{ariaLabel:n("title"),columns:V,rows:o,rowKey:P=>P.id,loading:v&&o.length===0,getRowProps:P=>({onClick:()=>T(P),style:{cursor:"pointer"}}),empty:l.jsx(ta,{message:n("empty.noEvents"),compact:!0})})}),m.totalPages>1?l.jsx("div",{className:"cardBody",children:l.jsx(hu,{total:m.totalItems,page:m.currentPage,pageSize:Si,onChange:ie})}):null]}),l.jsx(qn,{title:n("dialog.title"),open:!!j,onClose:()=>T(null),description:j?`${j.toolName}  ${j.outcome}`:void 0,children:l.jsxs("div",{className:"stack",children:[l.jsxs("div",{className:"grid2",children:[l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.time")}),l.jsx("div",{className:"mono",children:j?en(j.timestamp):""})]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.client")}),l.jsx("div",{className:"mono",children:(j==null?void 0:j.clientTokenPrefix)??""})]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.upstreamKey")}),l.jsx("div",{className:"mono",children:(j==null?void 0:j.upstreamKeyId)??""})]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.latency")}),l.jsx("div",{className:"mono",children:typeof(j==null?void 0:j.latencyMs)=="number"?`${j.latencyMs}ms`:""})]})]}),l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.query")}),l.jsx("div",{className:"mono",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:(j==null?void 0:j.queryPreview)??""}),j!=null&&j.queryHash?l.jsx("div",{className:"help mono",children:n("dialog.queryHash",{hash:j.queryHash})}):null]}),j!=null&&j.errorMessage?l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.error")}),l.jsx("div",{className:"mono",style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:j.errorMessage})]}):null,l.jsxs("div",{className:"stack",children:[l.jsx("div",{className:"label",children:n("dialog.args")}),l.jsx("textarea",{className:"textarea mono text-xs",readOnly:!0,value:JSON.stringify((j==null?void 0:j.argsJson)??{},null,2),rows:10})]})]})})]})}function Mk({outcome:s}){const n=s==="success"?"success":s==="error"?"danger":"neutral";return l.jsx("span",{className:"badge mono","data-variant":n,children:s})}const tt=[];for(let s=0;s<256;++s)tt.push((s+256).toString(16).slice(1));function Ok(s,n=0){return(tt[s[n+0]]+tt[s[n+1]]+tt[s[n+2]]+tt[s[n+3]]+"-"+tt[s[n+4]]+tt[s[n+5]]+"-"+tt[s[n+6]]+tt[s[n+7]]+"-"+tt[s[n+8]]+tt[s[n+9]]+"-"+tt[s[n+10]]+tt[s[n+11]]+tt[s[n+12]]+tt[s[n+13]]+tt[s[n+14]]+tt[s[n+15]]).toLowerCase()}let Ko;const Ak=new Uint8Array(16);function Dk(){if(!Ko){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ko=crypto.getRandomValues.bind(crypto)}return Ko(Ak)}const _k=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$f={randomUUID:_k};function Fk(s,n,a){var u;s=s||{};const o=s.random??((u=s.rng)==null?void 0:u.call(s))??Dk();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Ok(o)}function $k(s,n,a){return $f.randomUUID&&!s?$f.randomUUID():Fk(s)}const wi=43200,Uf=1440,Kf=Symbol.for("constructDateFrom");function pu(s,n){return typeof s=="function"?s(n):s&&typeof s=="object"&&Kf in s?s[Kf](n):s instanceof Date?new s.constructor(n):new Date(n)}function Jn(s,n){return pu(s,s)}let Uk={};function Kk(){return Uk}function zf(s){const n=Jn(s),a=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return a.setUTCFullYear(n.getFullYear()),+s-+a}function mu(s,...n){const a=pu.bind(null,s||n.find(o=>typeof o=="object"));return n.map(a)}function Ci(s,n){const a=+Jn(s)-+Jn(n);return a<0?-1:a>0?1:a}function zk(s){return pu(s,Date.now())}function Bk(s,n,a){const[o,u]=mu(a==null?void 0:a.in,s,n),d=o.getFullYear()-u.getFullYear(),f=o.getMonth()-u.getMonth();return d*12+f}function Hk(s){return n=>{const o=(s?Math[s]:Math.trunc)(n);return o===0?0:o}}function Vk(s,n){return+Jn(s)-+Jn(n)}function Wk(s,n){const a=Jn(s);return a.setHours(23,59,59,999),a}function qk(s,n){const a=Jn(s),o=a.getMonth();return a.setFullYear(a.getFullYear(),o+1,0),a.setHours(23,59,59,999),a}function Jk(s,n){const a=Jn(s);return+Wk(a)==+qk(a)}function Qk(s,n,a){const[o,u,d]=mu(a==null?void 0:a.in,s,s,n),f=Ci(u,d),m=Math.abs(Bk(u,d));if(m<1)return 0;u.getMonth()===1&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-f*m);let p=Ci(u,d)===-f;Jk(o)&&m===1&&Ci(o,d)===1&&(p=!1);const v=f*(m-+p);return v===0?0:v}function Yk(s,n,a){const o=Vk(s,n)/1e3;return Hk(a==null?void 0:a.roundingMethod)(o)}const Gk={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xk=(s,n,a)=>{let o;const u=Gk[s];return typeof u=="string"?o=u:n===1?o=u.one:o=u.other.replace("{{count}}",n.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+o:o+" ago":o};function zo(s){return(n={})=>{const a=n.width?String(n.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const Zk={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},eS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nS={date:zo({formats:Zk,defaultWidth:"full"}),time:zo({formats:eS,defaultWidth:"full"}),dateTime:zo({formats:tS,defaultWidth:"full"})},rS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sS=(s,n,a,o)=>rS[s];function Vs(s){return(n,a)=>{const o=a!=null&&a.context?String(a.context):"standalone";let u;if(o==="formatting"&&s.formattingValues){const f=s.defaultFormattingWidth||s.defaultWidth,m=a!=null&&a.width?String(a.width):f;u=s.formattingValues[m]||s.formattingValues[f]}else{const f=s.defaultWidth,m=a!=null&&a.width?String(a.width):s.defaultWidth;u=s.values[m]||s.values[f]}const d=s.argumentCallback?s.argumentCallback(n):n;return u[d]}}const aS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dS=(s,n)=>{const a=Number(s),o=a%100;if(o>20||o<10)switch(o%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},fS={ordinalNumber:dS,era:Vs({values:aS,defaultWidth:"wide"}),quarter:Vs({values:iS,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Vs({values:lS,defaultWidth:"wide"}),day:Vs({values:oS,defaultWidth:"wide"}),dayPeriod:Vs({values:uS,defaultWidth:"wide",formattingValues:cS,defaultFormattingWidth:"wide"})};function Ws(s){return(n,a={})=>{const o=a.width,u=o&&s.matchPatterns[o]||s.matchPatterns[s.defaultMatchWidth],d=n.match(u);if(!d)return null;const f=d[0],m=o&&s.parsePatterns[o]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(m)?pS(m,k=>k.test(f)):hS(m,k=>k.test(f));let v;v=s.valueCallback?s.valueCallback(p):p,v=a.valueCallback?a.valueCallback(v):v;const y=n.slice(f.length);return{value:v,rest:y}}}function hS(s,n){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&n(s[a]))return a}function pS(s,n){for(let a=0;a<s.length;a++)if(n(s[a]))return a}function mS(s){return(n,a={})=>{const o=n.match(s.matchPattern);if(!o)return null;const u=o[0],d=n.match(s.parsePattern);if(!d)return null;let f=s.valueCallback?s.valueCallback(d[0]):d[0];f=a.valueCallback?a.valueCallback(f):f;const m=n.slice(u.length);return{value:f,rest:m}}}const gS=/^(\d+)(th|st|nd|rd)?/i,vS=/\d+/i,yS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xS={any:[/^b/i,/^(a|c)/i]},kS={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},SS={any:[/1/i,/2/i,/3/i,/4/i]},wS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bS={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ES={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},TS={ordinalNumber:mS({matchPattern:gS,parsePattern:vS,valueCallback:s=>parseInt(s,10)}),era:Ws({matchPatterns:yS,defaultMatchWidth:"wide",parsePatterns:xS,defaultParseWidth:"any"}),quarter:Ws({matchPatterns:kS,defaultMatchWidth:"wide",parsePatterns:SS,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ws({matchPatterns:wS,defaultMatchWidth:"wide",parsePatterns:NS,defaultParseWidth:"any"}),day:Ws({matchPatterns:jS,defaultMatchWidth:"wide",parsePatterns:bS,defaultParseWidth:"any"}),dayPeriod:Ws({matchPatterns:CS,defaultMatchWidth:"any",parsePatterns:ES,defaultParseWidth:"any"})},PS={code:"en-US",formatDistance:Xk,formatLong:nS,formatRelative:sS,localize:fS,match:TS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LS(s,n,a){const o=Kk(),u=(a==null?void 0:a.locale)??o.locale??PS,d=2520,f=Ci(s,n);if(isNaN(f))throw new RangeError("Invalid time value");const m=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:f}),[p,v]=mu(a==null?void 0:a.in,...f>0?[n,s]:[s,n]),y=Yk(v,p),k=(zf(v)-zf(p))/1e3,S=Math.round((y-k)/60);let j;if(S<2)return a!=null&&a.includeSeconds?y<5?u.formatDistance("lessThanXSeconds",5,m):y<10?u.formatDistance("lessThanXSeconds",10,m):y<20?u.formatDistance("lessThanXSeconds",20,m):y<40?u.formatDistance("halfAMinute",0,m):y<60?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",1,m):S===0?u.formatDistance("lessThanXMinutes",1,m):u.formatDistance("xMinutes",S,m);if(S<45)return u.formatDistance("xMinutes",S,m);if(S<90)return u.formatDistance("aboutXHours",1,m);if(S<Uf){const T=Math.round(S/60);return u.formatDistance("aboutXHours",T,m)}else{if(S<d)return u.formatDistance("xDays",1,m);if(S<wi){const T=Math.round(S/Uf);return u.formatDistance("xDays",T,m)}else if(S<wi*2)return j=Math.round(S/wi),u.formatDistance("aboutXMonths",j,m)}if(j=Qk(v,p),j<12){const T=Math.round(S/wi);return u.formatDistance("xMonths",T,m)}else{const T=j%12,O=Math.trunc(j/12);return T<3?u.formatDistance("aboutXYears",O,m):T<9?u.formatDistance("overXYears",O,m):u.formatDistance("almostXYears",O+1,m)}}function RS(s,n){return LS(s,zk(s),n)}function IS({data:s,className:n}){const a=x.useMemo(()=>s===void 0?'<span class="json-null">undefined</span>':MS(s),[s]);return l.jsx("pre",{className:`json-viewer ${n||""}`,dangerouslySetInnerHTML:{__html:a}})}function MS(s){let n;return typeof s!="string"?n=JSON.stringify(s,void 0,2):n=s,n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d+)?(?:[eE][+\-]?\d+)?)/g,a=>{let o="json-number";return/^"/.test(a)?/:$/.test(a)?o="json-key":o="json-string":/true|false/.test(a)?o="json-boolean":/null/.test(a)&&(o="json-null"),`<span class="${o}">${a}</span>`})}const Th=["tavily_search","brave_web_search","brave_local_search"],OS=new Set(Th);function AS(s){return typeof s=="string"&&OS.has(s)}function DS(s,n="tavily_search"){return AS(s)?s:n}function _S({value:s,onChange:n,disabled:a}){return l.jsxs("div",{className:"stack gap-1",children:[l.jsx("label",{htmlFor:"tool-selector",className:"label",children:"Tool"}),l.jsx("select",{id:"tool-selector",className:"select",value:s,onChange:o=>n(o.target.value),disabled:a,children:Th.map(o=>l.jsx("option",{value:o,children:o},o))}),l.jsx("div",{className:"help",children:"Select the MCP tool to execute."})]})}const FS="application/json, text/event-stream",$S=["No valid session ID","Invalid or missing session ID","Mcp-Session-Id header is required","Session not found","session ID provided"];function Ai(s){return typeof s=="object"&&s!==null}function US(s){const n=s.split(`

`).map(o=>o.trim()).filter(Boolean),a=[];for(const o of n){const u=o.split(`
`),d=[];for(const m of u)m.startsWith("data:")&&d.push(m.slice(5).trimStart());if(d.length===0)continue;const f=d.join(`
`).trim();if(f)try{const m=JSON.parse(f);Ai(m)&&a.push(m)}catch{}}return a}function KS(s,n){const a=s.trim();if(!a)return[];if((n??"").toLowerCase().includes("text/event-stream"))return US(a);try{const o=JSON.parse(a);if(Array.isArray(o))return o.filter(Ai);if(Ai(o))return[o]}catch{}return[]}function Bf(s){return Object.prototype.hasOwnProperty.call(s,"result")||Object.prototype.hasOwnProperty.call(s,"error")}function zS(s,n){const a=s.find(o=>o.id===n&&Bf(o));return a||s.find(Bf)}function Hf(s){if(typeof s=="string")return s;if(!Ai(s))return;const n=s.message;return typeof n=="string"?n:void 0}function BS(s){return typeof s!="string"?!1:$S.some(n=>s.includes(n))}function Vf(s,n){const a={"Content-Type":"application/json",Accept:FS,Authorization:`Bearer ${s}`};return n&&n.trim()&&(a["mcp-session-id"]=n),a}function qs(s,n){const[a,o]=x.useState(()=>{try{const u=window.localStorage.getItem(s);return u!==null?JSON.parse(u):n}catch{return n}});return x.useEffect(()=>{try{window.localStorage.setItem(s,JSON.stringify(a))}catch{}},[s,a]),[a,o]}function HS({apiBaseUrl:s=""}){const[n,a]=qs("mcp-playground-token",""),[o,u]=qs("mcp-playground-tool","tavily_search"),d=DS(o);x.useEffect(()=>{o!==d&&u(d)},[o,d,u]);const[f,m]=qs("mcp-playground-params",`{
  "query": "what is the weather in San Francisco?"
}`),[p,v]=qs("mcp-playground-history",[]),[y,k]=qs("mcp-playground-session-id",""),[S,j]=x.useState(!1),[T,O]=x.useState(null),[N,L]=x.useState(null),_=typeof window<"u"?window.location.origin:"",U=Oi({apiBaseUrl:s,origin:_}),D=N?p.find(q=>q.id===N):p[0],z=async q=>{q.preventDefault();const ae=n.trim();if(!ae){O("Client Token is required");return}let ie;try{ie=JSON.parse(f),O(null)}catch{O("Invalid JSON parameters");return}j(!0);const de=Date.now(),fe={id:$k(),timestamp:de,tool:d,params:ie};try{const H=async(F,he)=>{const oe=await F.text(),ve=KS(oe,F.headers.get("content-type"));return{message:zS(ve,he),rawText:oe}},ee=async()=>{const F=Date.now(),he=await fetch(U,{method:"POST",headers:Vf(ae),body:JSON.stringify({jsonrpc:"2.0",id:F,method:"initialize",params:{protocolVersion:"2024-11-05",capabilities:{},clientInfo:{name:"mcp-nexus-admin-playground",version:"1.0.0"}}})}),{message:oe,rawText:ve}=await H(he,F),ce=Hf(oe==null?void 0:oe.error);if(ce)throw new Error(ce);if(!he.ok&&!oe)throw new Error(ve||`HTTP ${he.status}`);const Se=he.headers.get("mcp-session-id");if(!Se)throw new Error("Initialize succeeded but no MCP session ID was returned");return k(Se),Se};let V=y.trim(),P,Z="";for(let F=0;F<2;F+=1){V||(V=await ee());const he=Date.now()+F+1,oe=await fetch(U,{method:"POST",headers:Vf(ae,V),body:JSON.stringify({jsonrpc:"2.0",id:he,method:"tools/call",params:{name:d,arguments:ie}})}),ve=oe.headers.get("mcp-session-id");ve&&ve!==V&&(V=ve,k(ve));const ce=await H(oe,he);P=ce.message,Z=ce.rawText;const Se=Hf(P==null?void 0:P.error);if(F===0&&BS(Se)){V="",k("");continue}if(!oe.ok&&!P)throw new Error(Z||`HTTP ${oe.status}`);break}if(!P)throw new Error(Z||"No JSON-RPC response received from MCP endpoint");const $=!!P.error,X=$?P.error:P.result,Y=Date.now()-de,E={...fe,response:X,error:$?X:void 0,status:$?"error":"success",duration:Y};v([E,...p].slice(0,50)),L(E.id)}catch(H){const ee=Date.now()-de,V={...fe,error:{message:H.message||"Network Error"},status:"error",duration:ee};v([V,...p].slice(0,50)),L(V.id)}finally{j(!1)}},B=()=>{confirm("Are you sure you want to clear the request history?")&&(v([]),L(null))},K=q=>{u(q.tool),m(JSON.stringify(q.params,null,2)),L(q.id)};return l.jsxs("div",{className:"stack gap-6",children:[l.jsx("div",{className:"row",children:l.jsxs("div",{children:[l.jsx("h1",{className:"h1",children:"Playground"}),l.jsx("p",{className:"help",children:"Test MCP tools in real-time"})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"cardHeader",children:l.jsx("div",{className:"h2",children:"Request"})}),l.jsx("div",{className:"cardBody",children:l.jsxs("form",{onSubmit:z,className:"stack gap-4",children:[T&&l.jsx(Xr,{message:T}),l.jsxs("div",{className:"stack gap-1",children:[l.jsx("label",{htmlFor:"client-token",className:"label",children:"Client Token"}),l.jsx("input",{id:"client-token",type:"password",className:"input",placeholder:"Enter your Client Token",value:n,onChange:q=>a(q.target.value),autoComplete:"off"}),l.jsx("div",{className:"help",children:"Your secret client token (not the Tavily API key)"})]}),l.jsx(_S,{value:d,onChange:u,disabled:S}),l.jsxs("div",{className:"stack gap-1",children:[l.jsx("label",{htmlFor:"params",className:"label",children:"Parameters (JSON)"}),l.jsx("textarea",{id:"params",className:`textarea mono ${T==="Invalid JSON parameters"?"border-red-500":""}`,rows:8,value:f,onChange:q=>m(q.target.value),placeholder:"{}"})]}),l.jsx("div",{className:"row justify-end",children:l.jsxs("button",{type:"submit",className:"btn","data-variant":"primary",disabled:S||!n,children:[S?l.jsx(Zt,{className:"spin"}):l.jsx(es,{}),S?"Running...":"Execute Tool"]})})]})})]}),l.jsxs("div",{className:"card flex flex-col min-h-[400px]",children:[l.jsxs("div",{className:"cardHeader row",children:[l.jsx("div",{className:"h2",children:"Response"}),D&&l.jsxs("span",{className:"badge","data-variant":D.status==="success"?"success":"danger",children:[D.status.toUpperCase(),l.jsxs("span",{className:"ml-2 opacity-70",children:[D.duration,"ms"]})]})]}),l.jsx("div",{className:"cardBody flex-grow flex flex-col relative overflow-hidden",children:D?l.jsx(IS,{data:D.error||D.response,className:"flex-grow h-full"}):l.jsxs("div",{className:"emptyState emptyState--compact",children:[l.jsx("div",{className:"emptyStateIcon",children:l.jsx(ph,{})}),l.jsx("div",{className:"emptyStateMessage",children:"Execute a tool to see the response here."})]})})]})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"cardHeader row",children:[l.jsx("div",{className:"h2",children:"Request History"}),p.length>0&&l.jsxs("button",{className:"btn btn--sm","data-variant":"ghost",onClick:B,children:[l.jsx(ji,{})," Clear"]})]}),l.jsx("div",{className:"cardBody p-0",children:p.length===0?l.jsx("div",{className:"p-6 text-center text-muted",children:"No history yet."}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{style:{width:"180px"},children:"Time"}),l.jsx("th",{children:"Tool"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Duration"}),l.jsx("th",{className:"text-right",children:"Actions"})]})}),l.jsx("tbody",{children:p.map(q=>l.jsxs("tr",{onClick:()=>L(q.id),className:N===q.id?"bg-primary-light":"cursor-pointer hover:bg-surface-hover",style:{backgroundColor:N===q.id?"var(--color-surface-hover)":void 0},children:[l.jsx("td",{className:"mono text-xs",children:RS(q.timestamp,{addSuffix:!0})}),l.jsx("td",{className:"font-medium",children:q.tool}),l.jsx("td",{children:q.status==="success"?l.jsxs("span",{className:"badge","data-variant":"success",children:[l.jsx(cu,{className:"w-3 h-3 mr-1"})," Success"]}):l.jsxs("span",{className:"badge","data-variant":"danger",children:[l.jsx(Pi,{className:"w-3 h-3 mr-1"})," Error"]})}),l.jsxs("td",{className:"mono text-xs",children:[q.duration,"ms"]}),l.jsx("td",{className:"text-right",children:l.jsx("button",{className:"btn btn--xs",onClick:ae=>{ae.stopPropagation(),K(q)},children:"Load Params"})})]},q.id))})]})})})]})]})}function VS(){return""}function WS(){return l.jsx(Ov,{children:l.jsx(rv,{children:l.jsx(qS,{})})})}function qS(){const{t:s}=Me("common"),n=Qn(),a=Vt(),o=gr(),[u,d]=x.useState(()=>jv({apiBaseUrl:VS()})),[f,m]=x.useState(()=>Go()),p=x.useRef(`${a.pathname}${a.search}`);x.useEffect(()=>{p.current=`${a.pathname}${a.search}`},[a.pathname,a.search]),x.useEffect(()=>{document.documentElement.dataset.theme=u.theme},[u.theme]),x.useEffect(()=>{bv(u)},[u]),x.useEffect(()=>{yh(f,u.rememberAdminToken)},[f,u.rememberAdminToken]);const v=x.useCallback(()=>{d(L=>({...L,theme:L.theme==="light"?"dark":"light"}))},[]),y=x.useCallback(()=>{d(L=>({...L,sidebarCollapsed:!L.sidebarCollapsed}))},[]),k=x.useCallback(()=>{m(""),wv()},[]),S=x.useCallback(L=>{k(),o(pr(L??p.current),{replace:!0})},[k,o]),j=x.useCallback(()=>{k(),o(pr(p.current),{replace:!0}),n.push({title:s("auth.signedOut"),message:s("auth.authFailedMessage")})},[k,n,s,o]);x.useEffect(()=>{if(typeof window>"u")return;function L(_){_.key&&_.key.startsWith("mcp-nexus.adminUiAdminToken.")&&m(Go())}return window.addEventListener("storage",L),()=>window.removeEventListener("storage",L)},[]);const T=x.useMemo(()=>kh({baseUrl:u.apiBaseUrl,adminToken:f},{onAuthFailure:j}),[u.apiBaseUrl,f,j]),O=x.useMemo(()=>{const L=u.apiBaseUrl.trim()?u.apiBaseUrl.trim():"(same origin)",_=f.trim()?"signed in":"signed out";return`${L}  ${_}`},[u.apiBaseUrl,f]),N=x.useCallback(L=>{d(_=>({..._,rememberAdminToken:L.remember})),m(L.adminToken)},[]);return l.jsxs(Jg,{children:[l.jsx(Ht,{path:Pe.login,element:l.jsx(JS,{apiBaseUrl:u.apiBaseUrl,defaultRemember:u.rememberAdminToken,onLogin:N,signedIn:!!f.trim()})}),l.jsxs(Ht,{element:l.jsx(kv,{connectionSummary:O,theme:u.theme,onToggleTheme:v,signedIn:!!f.trim(),onSignOut:()=>S(),sidebarCollapsed:u.sidebarCollapsed,onToggleSidebar:y}),children:[l.jsx(Ht,{path:Pe.settings,element:l.jsx(YS,{api:T,prefs:u,setPrefs:d,signedIn:!!f.trim(),onSignOut:()=>S()})}),l.jsxs(Ht,{element:l.jsx(Lv,{adminToken:f}),children:[l.jsx(Ht,{path:Pe.overview,element:l.jsx(QS,{api:T})}),l.jsx(Ht,{path:Pe.keys,element:l.jsx(Bv,{api:T})}),l.jsx(Ht,{path:Pe.tokens,element:l.jsx(Tk,{api:T,apiBaseUrl:u.apiBaseUrl})}),l.jsx(Ht,{path:Pe.usage,element:l.jsx(Ik,{api:T})}),l.jsx(Ht,{path:Pe.playground,element:l.jsx(HS,{apiBaseUrl:u.apiBaseUrl})})]})]}),l.jsx(Ht,{path:"*",element:l.jsx(ch,{to:Pe.overview,replace:!0})})]})}function JS({apiBaseUrl:s,defaultRemember:n,onLogin:a,signedIn:o}){const u=gr(),[d]=ou(),f=d.get("next"),m=vh(f);x.useEffect(()=>{o&&u(m,{replace:!0})},[o,u,m]);const p=x.useCallback(y=>{a(y),u(m,{replace:!0})},[a,u,m]),v=x.useCallback(()=>{u(Pe.settings)},[u]);return l.jsx("div",{className:"authFrame",children:l.jsx("div",{className:"authCenter",children:l.jsx(Hv,{apiBaseUrl:s,defaultRemember:n,onLogin:p,onGoToSettings:v})})})}function QS({api:s}){const n=gr();return l.jsx(Jv,{api:s,onGoToKeys:()=>n(Pe.keys),onGoToTokens:()=>n(Pe.tokens),onGoToUsage:()=>n(Pe.usage)})}function YS({api:s,prefs:n,setPrefs:a,signedIn:o,onSignOut:u}){const d=gr(),f=Vt(),m=`${f.pathname}${f.search}`,p=x.useCallback(()=>{u()},[u]),v=x.useCallback(()=>{d(pr(m),{replace:!1})},[d,m]);return l.jsx(Ck,{api:s,value:{apiBaseUrl:n.apiBaseUrl,theme:n.theme,locale:n.locale},signedIn:o,onChange:y=>a(k=>({...k,...y})),onGoToLogin:v,onSignOut:p})}Em.createRoot(document.getElementById("root")).render(l.jsx(Di.StrictMode,{children:l.jsx(WS,{})}));
